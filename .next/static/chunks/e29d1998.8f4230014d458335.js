"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[756],{6278:function(module,__unused_webpack_exports,__webpack_require__){module=__webpack_require__.nmd(module);var process=__webpack_require__(3454);!function(t,n){module.exports=n()}(0,function(){function Jg(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,o)}return r}function tb(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Jg(Object(r),!0).forEach(function(n){E(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ia(t){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zq(t,n,r,o,i,s,a){try{var u=t[s](a),c=u.value}catch(l){return void r(l)}u.done?n(c):Promise.resolve(c).then(o,i)}function za(t){return function(){var n=this,r=arguments;return new Promise(function(o,i){function s(t){Zq(u,o,i,s,a,"next",t)}function a(t){Zq(u,o,i,s,a,"throw",t)}var u=t.apply(n,r);s(void 0)})}}function ab(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")}function $q(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qb(t,n,r){return n&&$q(t.prototype,n),r&&$q(t,r),t}function E(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function nb(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&ci(t,n)}function Tf(t){return(Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ci(t,n){return(ci=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function ar(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function dm(t,n,r){return(dm=ar()?Reflect.construct:function(t,n,r){var o=[null];return o.push.apply(o,n),t=new(Function.bind.apply(t,o)),r&&ci(t,r.prototype),t}).apply(null,arguments)}function di(t){var n="function"==typeof Map?new Map:void 0;return(di=function(t){function r(){return dm(t,arguments,Tf(this).constructor)}if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ci(r,t)})(t)}function em(t,n){if(null==t)return{};if(null==t)var r={};else{r={};var o,i=Object.keys(t);for(o=0;o<i.length;o++){var s=i[o];0<=n.indexOf(s)||(r[s]=t[s])}}if(Object.getOwnPropertySymbols)for(o=Object.getOwnPropertySymbols(t),s=0;s<o.length;s++)i=o[s],0<=n.indexOf(i)||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i]);return r}function L(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ob(t){var n=ar();return function(){var r=Tf(t);if(n){var o=Tf(this).constructor;r=Reflect.construct(r,arguments,o)}else r=r.apply(this,arguments);return r&&("object"==typeof r||"function"==typeof r)?r:L(this)}}function fm(t,n,r){return(fm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=Tf(t)););if(t)return(n=Object.getOwnPropertyDescriptor(t,n)).get?n.get.call(r):n.value})(t,n,r||t)}function Lb(t,n){var r=Array.isArray(t)?t:void 0;if(!r){if(null==(r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"])))r=void 0;else{var o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(o=r.next()).done)&&(i.push(o.value),!n||i.length!==n);s=!0);}catch(c){a=!0;var u=c}finally{try{s||null==r.return||r.return()}finally{if(a)throw u}}r=i}}if(!(t=r||br(t,n)))throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return t}function ra(t){var n=Array.isArray(t)?gm(t):void 0;if(n||(n="undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"]?Array.from(t):void 0),!(t=n||br(t)))throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return t}function br(t,n){if(t){if("string"==typeof t)return gm(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gm(t,n)}}function gm(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,o=Array(n);r<n;r++)o[r]=t[r];return o}function Na(t,n,r,o,i){var s={};return Object.keys(o).forEach(function(t){s[t]=o[t]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,o){return o(t,n,r)||r},s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,n,s),s=null),s}function kc(t){var n={exports:{}};return t(n,n.exports),n.exports}function Kg(t){t||(t={});var n=t.ua;if(n||"undefined"==typeof navigator||(n=navigator.userAgent),n&&n.headers&&"string"==typeof n.headers["user-agent"]&&(n=n.headers["user-agent"]),"string"!=typeof n)return!1;var r=JA.test(n)&&!KA.test(n)||!!t.tablet&&LA.test(n);return!r&&t.tablet&&t.featureDetect&&navigator&&1<navigator.maxTouchPoints&&-1!==n.indexOf("Macintosh")&&-1!==n.indexOf("Safari")&&(r=!0),r}function cr(t,n){var r,o=3>arguments.length?t:arguments[2];return ub(t)===o?t[n]:(r=pd.f(t,n))?Fa(r,"value")?r.value:void 0===r.get?void 0:r.get.call(o):fb(r=Md(t))?cr(r,n,o):void 0}function MA(t){var n=t.charCodeAt(0)<<24,r=0|NA(~n),o=0,i=0|t.length,s="";if(5>r&&i>=r){for(n=n<<r>>>24+r,o=1;o<r;o=o+1|0)n=n<<6|63&t.charCodeAt(o);65535>=n?s+=Uf(n):1114111>=n?s+=Uf(55296+((n=n-65536|0)>>10)|0,56320+(1023&n)|0):o=0}for(;o<i;o=o+1|0)s+="ï¿½";return s}function dr(){}function OA(t){var n=0|t.charCodeAt(0);if(55296<=n&&56319>=n){var r=0|t.charCodeAt(1);if(!(r==r&&56320<=r&&57343>=r))return Uf(239,191,189);if(65535<(n=(n-55296<<10)+r-56320+65536|0))return Uf(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|63&n)}return 127>=n?t:2047>=n?Uf(192|n>>>6,128|63&n):Uf(224|n>>>12,128|n>>>6&63,128|63&n)}function er(){}function kb(){kb.init.call(this)}function Cj(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+Ia(t))}function fr(t,n,r,o){Cj(r);var i=t._events;if(void 0===i)i=t._events=Object.create(null),t._eventsCount=0;else{void 0!==i.newListener&&(t.emit("newListener",n,r.listener?r.listener:r),i=t._events);var s=i[n]}return void 0===s?(i[n]=r,++t._eventsCount):("function"==typeof s?s=i[n]=o?[r,s]:[s,r]:o?s.unshift(r):s.push(r),0<(r=void 0===t._maxListeners?kb.defaultMaxListeners:t._maxListeners)&&s.length>r&&!s.warned&&(s.warned=!0,(r=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=t,r.type=n,r.count=s.length,console&&console.warn&&console.warn(r))),t}function PA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gr(t,n,r){return t={fired:!1,wrapFn:void 0,target:t,type:n,listener:r},(n=PA.bind(t)).listener=r,t.wrapFn=n}function hr(t,n,r){if(void 0===(t=t._events)||void 0===(n=t[n]))return[];if("function"==typeof n)return r?[n.listener||n]:[n];if(r)for(r=Array(n.length),t=0;t<r.length;++t)r[t]=n[t].listener||n[t];else r=ir(n,n.length);return r}function jr(t){var n=this._events;if(void 0!==n){if("function"==typeof(t=n[t]))return 1;if(void 0!==t)return t.length}return 0}function ir(t,n){for(var r=Array(n),o=0;o<n;++o)r[o]=t[o];return r}function QA(t,n,r){"function"==typeof t.on&&kr(t,"error",n,r)}function kr(t,n,r,o){if("function"==typeof t.on)o.once?t.once(n,r):t.on(n,r);else{if("function"!=typeof t.addEventListener)throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+Ia(t));t.addEventListener(n,function i(s){o.once&&t.removeEventListener(n,i),r(s)})}}function RA(t){return t?ra(t):SA(function(){return[]},function(t,n){return t.push(n),t})}function lr(t,n){var r,o,i;return W.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=mr(t)([nr,nr,function(t,n){return n}])[2],o=0;case 2:if(!(o<n.length)){s.next=17;break}if(!((i=r(hm,n[o]))instanceof Dj)){s.next=11;break}if((i=im(i.deref()))===hm){s.next=10;break}return s.next=10,i;case 10:return s.abrupt("return");case 11:if(i===hm){s.next=14;break}return s.next=14,i;case 14:o++,s.next=2;break;case 17:case"end":return s.stop()}},TA)}function Ej(t,n){return null!=n&&"function"==typeof n[Symbol.iterator]?lr(Ej(t),n):function(n){var r=n[2];return UA(n,function(n,o){return r(n,t(o))})}}function Be(t){return Object.prototype.toString.call(t).slice(8,-1)}function Lg(t){return"Object"===Be(t)&&t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function or(t){var n;return(n="Boolean"===Be(t)||"Null"===Be(t)||"Undefined"===Be(t))||(n="Number"===Be(t)&&!isNaN(t)),n||"String"===Be(t)||"Symbol"===Be(t)}function Vf(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var o=t[n];this.set(o[0],o[1])}}function Mg(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var o=t[n];this.set(o[0],o[1])}}function Ng(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var o=t[n];this.set(o[0],o[1])}}function ei(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new Fj;++n<r;)this.add(t[n])}function Og(t){this.size=(this.__data__=new Gj(t)).size}function Pg(t,n,r,o,i,s){var a,u=1&n,c=2&n,l=4&n;if(r&&(a=i?r(t,o,i,s):r(t)),void 0!==a)return a;if(!Kc(t))return t;if(o=lc(t)){if(a=VA(t),!u)return jm(t,a)}else{var f=fi(t),p="[object Function]"==f||"[object GeneratorFunction]"==f;if(gi(t))return pr(t,u);if("[object Object]"==f||"[object Arguments]"==f||p&&!i){if(a=c||p?{}:qr(t),!u)return c?WA(t,XA(a,t)):YA(t,ZA(a,t))}else{if(!zb[f])return i?t:{};a=$A(t,f,u)}}if(s||(s=new Qg),i=s.get(t))return i;s.set(t,a),aB(t)?t.forEach(function(o){a.add(Pg(o,n,r,o,t,s))}):bB(t)&&t.forEach(function(o,i){a.set(i,Pg(o,n,r,i,t,s))}),c=l?c?rr:km:c?hi:Wf;var h=o?void 0:c(t);return cB(h||t,function(o,i){h&&(o=t[i=o]),sr(a,i,Pg(o,n,r,i,t,s))}),a}function lm(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw TypeError("Expected a function");var r=function r(){var o=arguments,i=n?n.apply(this,o):o[0],s=r.cache;return s.has(i)?s.get(i):(o=t.apply(this,o),r.cache=s.set(i,o)||s,o)};return r.cache=new(lm.Cache||Fj),r}function tr(t){if("string"==typeof t)return t;if(lc(t))return Rg(t,tr)+"";if(Sg(t))return ur?ur.call(t):"";var n=t+"";return"0"==n&&1/t==-dB?"-0":n}function mm(t,n,r,o,i){var s=-1,a=t.length;for(r||(r=eB),i||(i=[]);++s<a;){var u=t[s];0<n&&r(u)?1<n?mm(u,n-1,r,o,i):nm(i,u):o||(i[i.length]=u)}return i}function Tg(t,n,r,o,i){if(t===n)n=!0;else if(null!=t&&null!=n&&(ee(t)||ee(n)))e:{var s=lc(t),a=lc(n),u=s?"[object Array]":fi(t),c=a?"[object Array]":fi(n),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u);if(a="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),(c=u==c)&&gi(t)){if(!gi(n)){n=!1;break e}s=!0,l=!1}if(c&&!l)i||(i=new Qg),n=s||om(t)?vr(t,n,r,o,Tg,i):fB(t,n,u,r,o,Tg,i);else{if(!(1&r)&&(s=l&&wr.call(t,"__wrapped__"),u=a&&wr.call(n,"__wrapped__"),s||u)){t=s?t.value():t,n=u?n.value():n,i||(i=new Qg),n=Tg(t,n,r,o,i);break e}if(c)t:if(i||(i=new Qg),s=1&r,a=(u=km(t)).length,c=km(n).length,a==c||s){for(c=a;c--;){var f=u[c];if(!(s?f in n:gB.call(n,f))){n=!1;break t}}if(l=i.get(t),f=i.get(n),l&&f)n=l==n&&f==t;else{l=!0,i.set(t,n),i.set(n,t);for(var p=s;++c<a;){var h=t[f=u[c]],d=n[f];if(o)var g=s?o(d,h,f,n,t,i):o(h,d,f,t,n,i);if(void 0===g?h!==d&&!Tg(h,d,r,o,i):!g){l=!1;break}p||(p="constructor"==f)}l&&!p&&(r=t.constructor)!=(o=n.constructor)&&"constructor"in t&&"constructor"in n&&!("function"==typeof r&&r instanceof r&&"function"==typeof o&&o instanceof o)&&(l=!1),i.delete(t),i.delete(n),n=l}}else n=!1;else n=!1}}else n=t!=t&&n!=n;return n}function Ab(t,n,r){this.low=0|t,this.high=0|n,this.unsigned=!!r}function Lc(t){return!0===(t&&t.__isLong__)}function Xf(t,n){var r;if(n){if((n=0<=(t>>>=0)&&256>t)&&(r=xr[t]))return r;r=Bb(t,0>(0|t)?-1:0,!0),n&&(xr[t]=r)}else{if((n=-128<=(t|=0)&&128>t)&&(r=yr[t]))return r;r=Bb(t,0>t?-1:0,!1),n&&(yr[t]=r)}return r}function qd(t,n){if(isNaN(t))return n?Yf:rd;if(n){if(0>t)return Yf;if(t>=zr)return Ar}else{if(t<=-Br)return Mc;if(t+1>=Br)return Cr}return 0>t?qd(-t,n).neg():Bb(t%Ug|0,t/Ug|0,n)}function Bb(t,n,r){return new Ab(t,n,r)}function pm(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return rd;if("number"==typeof n?(r=n,n=!1):n=!!n,2>(r=r||10)||36<r)throw RangeError("radix");if(0<(o=t.indexOf("-")))throw Error("interior hyphen");if(0===o)return pm(t.substring(1),n,r).neg();o=qd(Hj(r,8));for(var o,i=rd,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+a),r);8>a?(a=qd(Hj(r,a)),i=i.mul(a).add(qd(u))):i=(i=i.mul(o)).add(qd(u))}return i.unsigned=n,i}function Nd(t,n){return"number"==typeof t?qd(t,n):"string"==typeof t?pm(t,n):Bb(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}function Ca(t,n){function r(){this.constructor=t}qm(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function Vg(t){return"function"==typeof t}function Wg(t){setTimeout(function(){throw t},0)}function rm(t){return null!==t&&"object"===Ia(t)}function Dr(t){return t.reduce(function(t,n){return t.concat(n instanceof ii?n.errors:n)},[])}function sm(t){for(;t;){var n=t.destination,r=t.isStopped;if(t.closed||r)return!1;t=n&&n instanceof hb?n:null}return!0}function jf(t){return t}function tm(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Er(t)}function Er(t){return 0===t.length?jf:1===t.length?t[0]:function(n){return t.reduce(function(t,n){return n(t)},n)}}function Fr(t){if(t||(t=sd.Promise||Promise),!t)throw Error("no Promise impl found");return t}function Gr(){return function(t){return t.lift(new hB(t))}}function ji(t){return t?iB(t):$c}function iB(t){return new Za(function(n){return t.schedule(function(){return n.complete()})})}function Ce(t){return t&&"function"==typeof t.schedule}function um(t,n){return new Za(function(r){var o=new dc,i=0;return o.add(n.schedule(function(){i===t.length?r.complete():(r.next(t[i++]),r.closed||o.add(this.schedule()))})),o})}function ki(t,n){return n?um(t,n):new Za(Hr(t))}function Wb(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ce(n=t[t.length-1])?(t.pop(),um(t,n)):ki(t)}function Va(t,n){return new Za(n?function(r){return n.schedule(jB,0,{error:t,subscriber:r})}:function(n){return n.error(t)})}function jB(t){t.subscriber.error(t.error)}function kB(t,n){return void 0===n&&(n=0),function(r){return r.lift(new lB(t,n))}}function Ir(t){return t in vm&&(delete vm[t],!0)}function fe(){}function Wa(t,n){return function(r){if("function"!=typeof t)throw TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new mB(t,n))}}function Jr(t,n,r){if(n){if(!Ce(n))return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return Jr(t,r).apply(void 0,o).pipe(Wa(function(t){return td(t)?n.apply(void 0,t):n(t)}))};r=n}return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i,s=this,a={context:s,subject:i,callbackFunc:t,scheduler:r};return new Za(function(o){if(r)return r.schedule(nB,0,{args:n,subscriber:o,params:a});if(!i){i=new li;try{t.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];i.next(1>=t.length?t[0]:t),i.complete()}]))}catch(u){sm(i)?i.error(u):console.warn(u)}}return i.subscribe(o)})}}function nB(t){var n=this,r=t.args,o=t.subscriber,i=t.params;t=i.callbackFunc;var s=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new li,i=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.add(a.schedule(oB,0,{value:1>=t.length?t[0]:t,subject:u}))};try{t.apply(s,r.concat([i]))}catch(c){u.error(c)}}this.add(u.subscribe(o))}function oB(t){var n=t.subject;n.next(t.value),n.complete()}function Kr(t,n,r){if(n){if(!Ce(n))return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return Kr(t,r).apply(void 0,o).pipe(Wa(function(t){return td(t)?n.apply(void 0,t):n(t)}))};r=n}return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new Za(function(o){var s=i.context,a=i.subject;if(r)return r.schedule(pB,0,{params:i,subscriber:o,context:s});if(!a){a=i.subject=new li;try{t.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(n=t.shift())?a.error(n):(a.next(1>=t.length?t[0]:t),a.complete())}]))}catch(u){sm(a)?a.error(u):console.warn(u)}}return a.subscribe(o)})}}function pB(t){var n=this,r=t.params,o=t.subscriber;t=t.context;var i=r.callbackFunc,s=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new li,r=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(r=t.shift())?n.add(a.schedule(Lr,0,{err:r,subject:u})):n.add(a.schedule(qB,0,{value:1>=t.length?t[0]:t,subject:u}))};try{i.apply(t,s.concat([r]))}catch(c){this.add(a.schedule(Lr,0,{err:c,subject:u}))}}this.add(u.subscribe(o))}function qB(t){var n=t.subject;n.next(t.value),n.complete()}function Lr(t){t.subject.error(t.err)}function Mr(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}function wm(t,n,r,o,i){if(void 0===i&&(i=new rB(t,r,o)),!i.closed)return n instanceof Za?n.subscribe(i):mi(n)(i)}function sB(t,n){return new Za(function(r){var o=new dc;return o.add(n.schedule(function(){var i=t[Xg]();o.add(i.subscribe({next:function(t){o.add(n.schedule(function(){return r.next(t)}))},error:function(t){o.add(n.schedule(function(){return r.error(t)}))},complete:function(){o.add(n.schedule(function(){return r.complete()}))}}))})),o})}function tB(t,n){return new Za(function(r){var o=new dc;return o.add(n.schedule(function(){return t.then(function(t){o.add(n.schedule(function(){r.next(t),o.add(n.schedule(function(){return r.complete()}))}))},function(t){o.add(n.schedule(function(){return r.error(t)}))})})),o})}function uB(t,n){if(!t)throw Error("Iterable cannot be null");return new Za(function(r){var o,i=new dc;return i.add(function(){o&&"function"==typeof o.return&&o.return()}),i.add(n.schedule(function(){o=t[kf](),i.add(n.schedule(function(){if(!r.closed){try{var t=o.next(),n=t.value,i=t.done}catch(s){return void r.error(s)}i?r.complete():(r.next(n),this.schedule())}}))})),i})}function Nr(t,n){if(null!=t){if(t&&"function"==typeof t[Xg])return sB(t,n);if(Mr(t))return tB(t,n);if(Or(t))return um(t,n);if(t&&"function"==typeof t[kf]||"string"==typeof t)return uB(t,n)}throw TypeError((null!==t&&Ia(t)||t)+" is not observable")}function ge(t,n){return n?Nr(t,n):t instanceof Za?t:new Za(mi(t))}function De(t,n){if(!n.closed){if(t instanceof Za)return t.subscribe(n);try{var r=mi(t)(n)}catch(o){n.error(o)}return r}}function Ac(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(Ac(function(r,o){return ge(t(r,o)).pipe(Wa(function(t,i){return n(r,t,o,i)}))},r))}:("number"==typeof n&&(r=n),function(n){return n.lift(new vB(t,r))})}function Ij(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Ac(jf,t)}function Pr(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ij(1)(Wb.apply(void 0,t))}function lf(t){return new Za(function(n){try{var r=t()}catch(o){return void n.error(o)}return(r?ge(r):ji()).subscribe(n)})}function Jj(t,n){return new Za(function(r){var o=t.length;if(0===o)r.complete();else for(var i=Array(o),s=0,a=0,u=function(u){var c=ge(t[u]),l=!1;r.add(c.subscribe({next:function(t){l||(l=!0,a++),i[u]=t},error:function(t){return r.error(t)},complete:function(){++s!==o&&l||(a===o&&r.next(n?n.reduce(function(t,n,r){return t[n]=i[r],t},{}):i),r.complete())}}))},c=0;c<o;c++)u(c)})}function Bc(t,n,r,o){return Vg(r)&&(o=r,r=void 0),o?Bc(t,n,r).pipe(Wa(function(t){return td(t)?o.apply(void 0,t):o(t)})):new Za(function(o){Qr(t,n,function(t){1<arguments.length?o.next(Array.prototype.slice.call(arguments)):o.next(t)},o,r)})}function Qr(t,n,r,o,i){if(t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener){t.addEventListener(n,r,i);var s=function(){return t.removeEventListener(n,r,i)}}else if(t&&"function"==typeof t.on&&"function"==typeof t.off)t.on(n,r),s=function(){return t.off(n,r)};else if(t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener)t.addListener(n,r),s=function(){return t.removeListener(n,r)};else{if(!t||!t.length)throw TypeError("Invalid event target");for(var a=0,u=t.length;a<u;a++)Qr(t[a],n,r,o,i)}o.add(s)}function Rr(t,n,r){return r?Rr(t,n).pipe(Wa(function(t){return td(t)?r.apply(void 0,t):r(t)})):new Za(function(r){var o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.next(1===t.length?t[0]:t)};try{var i=t(o)}catch(s){return void r.error(s)}if(Vg(n))return function(){return n(o,i)}})}function wB(t){var n=t.subscriber,r=t.condition;if(!n.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){return void n.error(o)}else t.needIterate=!0;if(r){var i=void 0;try{i=r(t.state)}catch(s){return void n.error(s)}if(!i)return void n.complete();if(n.closed)return}try{var a=t.resultSelector(t.state)}catch(u){return void n.error(u)}if(!n.closed&&(n.next(a),!n.closed))return this.schedule(t)}}function xm(t){return!td(t)&&0<=t-parseFloat(t)+1}function Yg(t,n){return void 0===t&&(t=0),void 0===n&&(n=Ee),(!xm(t)||0>t)&&(t=0),n&&"function"==typeof n.schedule||(n=Ee),new Za(function(r){return r.add(n.schedule(xB,t,{subscriber:r,counter:0,period:t})),r})}function xB(t){var n=t.subscriber,r=t.counter;t=t.period,n.next(r),this.schedule({subscriber:n,counter:r+1,period:t},t)}function Nc(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];n=Number.POSITIVE_INFINITY;var r=null,o=t[t.length-1];return Ce(o)?(r=t.pop(),1<t.length&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof Za?t[0]:Ij(n)(ki(t,r))}function ym(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return $c;var r=t[0],o=t.slice(1);return 1===t.length&&td(r)?ym.apply(void 0,r):new Za(function(t){var n=function(){return t.add(ym.apply(void 0,o).subscribe(t))};return ge(r).subscribe({next:function(n){t.next(n)},error:n,complete:n})})}function yB(t){var n=t.keys,r=t.index,o=t.subscriber,i=t.subscription;if(t=t.obj,!o.closed){if(r<n.length){var s=n[r];o.next([s,t[s]]),i.add(this.schedule({keys:n,index:r+1,subscriber:o,subscription:i,obj:t}))}else o.complete()}}function zB(t,n){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=n,r}function sc(t,n){return function(r){return r.lift(new AB(t,n))}}function bb(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(1===t.length){if(!td(t[0]))return t[0];t=t[0]}return ki(t,void 0).lift(new BB)}function CB(t){var n=t.start,r=t.index,o=t.subscriber;r>=t.count?o.complete():(o.next(n),o.closed||(t.index=r+1,t.start=n+1,this.schedule(t)))}function Fe(t,n,r){void 0===t&&(t=0);var o=-1;return xm(n)?o=1>Number(n)?1:Number(n):Ce(n)&&(r=n),Ce(r)||(r=Ee),new Za(function(n){var i=xm(t)?t:+t-r.now();return r.schedule(DB,i,{index:0,period:o,subscriber:n})})}function DB(t){var n=t.index,r=t.period,o=t.subscriber;if(o.next(n),!o.closed){if(-1===r)return o.complete();t.index=n+1,this.schedule(t,r)}}function zm(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"function"==typeof(n=t[t.length-1])&&t.pop(),ki(t,void 0).lift(new EB(n))}function Kj(t){var n=arguments.length,r=Ee;Ce(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],n--);var o=null;2<=n&&(o=arguments[1]);var i=Number.POSITIVE_INFINITY;return 3<=n&&(i=arguments[2]),function(n){return n.lift(new FB(t,o,i,r))}}function Sr(t){var n=t.subscriber,r=t.context;r&&n.closeContext(r),n.closed||(t.context=n.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function GB(t){var n=t.bufferCreationInterval,r=t.bufferTimeSpan,o=t.subscriber,i=t.scheduler,s=o.openContext();o.closed||(o.add(s.closeAction=i.schedule(Tr,r,{subscriber:o,context:s})),this.schedule(t,n))}function Tr(t){t.subscriber.closeContext(t.context)}function Rb(t){return function(n){var r=new HB(t);return n=n.lift(r),r.caught=n}}function Am(t,n){return Ac(t,n,1)}function Ur(t){return void 0===t&&(t=null),function(n){return n.lift(new IB(t))}}function mf(t,n){void 0===n&&(n=Ee);var r=t instanceof Date&&!isNaN(+t)?+t-n.now():Math.abs(t);return function(t){return t.lift(new JB(r,n))}}function Vr(t,n){return function(r){return r.lift(new KB(t,n))}}function Zf(t){return void 0===t&&(t=LB),function(n){return n.lift(new MB(t))}}function LB(){return new Lj}function Xb(t){return function(n){return 0===t?ji():n.lift(new NB(t))}}function Mj(t){return function(n){return n.lift(new OB(t))}}function La(t,n){var r=2<=arguments.length;return function(o){return o.pipe(t?sc(function(n,r){return t(n,r,o)}):jf,Xb(1),r?Ur(n):Zf(function(){return new Lj}))}}function PB(){return function(t){return t.lift(new QB)}}function Wr(t){return function(n){return 0===t?ji():n.lift(new RB(t))}}function ni(t){return function(n){return n.lift(new SB(t))}}function Nj(t,n){var r=!1;return 2<=arguments.length&&(r=!0),function(o){return o.lift(new TB(t,n,r))}}function Xr(t,n){return 2<=arguments.length?function(r){return tm(Nj(t,n),Wr(1),Ur(n))(r)}:function(n){return tm(Nj(function(n,r,o){return t(n,r,o+1)}),Wr(1))(n)}}function UB(t,n){return function(r){var o="function"==typeof t?t:function(){return t};if("function"==typeof n)return r.lift(new VB(o,n));var i=Object.create(r,WB);return i.source=r,i.subjectFactory=o,i}}function Zg(t){return function(n){return n.lift(new XB(t,n))}}function YB(){return new ec}function $g(){return function(t){return Gr()(UB(YB)(t))}}function Yr(t,n,r){var o=t&&"object"===Ia(t)?t:{bufferSize:t,windowTime:n,refCount:!1,scheduler:r};return function(t){return t.lift(ZB(o))}}function ZB(t){var n,r,o=t.bufferSize,i=void 0===o?Number.POSITIVE_INFINITY:o,s=void 0===(o=t.windowTime)?Number.POSITIVE_INFINITY:o,a=t.refCount,u=t.scheduler,c=0,l=!1,f=!1;return function(t){if(c++,!n||l){l=!1;var o=(n=new ah(i,s,u)).subscribe(this);r=t.subscribe({next:function(t){n.next(t)},error:function(t){l=!0,n.error(t)},complete:function(){f=!0,r=void 0,n.complete()}}),f&&(r=void 0)}else o=n.subscribe(this);this.add(function(){c--,o.unsubscribe(),o=void 0,r&&!f&&a&&0===c&&(r.unsubscribe(),n=r=void 0)})}}function Cc(t,n){return"function"==typeof n?function(r){return r.pipe(Cc(function(r,o){return ge(t(r,o)).pipe(Wa(function(t,i){return n(r,t,o,i)}))}))}:function(n){return n.lift(new $B(t))}}function he(t){return function(n){return n.lift(new aC(t))}}function Ka(t,n,r){return function(o){return o.lift(new bC(t,n,r))}}function cC(t,n,r){return void 0===n&&(n=Ee),void 0===r&&(r=dC),function(o){return o.lift(new eC(t,n,r.leading,r.trailing))}}function fC(t){t.subscriber.clearThrottle()}function gC(t,n,r){return void 0===r&&(r=Ee),function(o){var i=t instanceof Date&&!isNaN(+t),s=i?+t-r.now():Math.abs(t);return o.lift(new hC(s,i,n,r))}}function Oc(t,n){return void 0===n&&(n=Ee),gC(t,Va(new ad),n)}function iC(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){var r;return"function"==typeof t[t.length-1]&&(r=t.pop()),n.lift(new jC(t,r))}}function Zr(t){(Bm||t)&&($r.abort(),t&&($r=new AbortController),Bm=t)}function as(t,n,r,o,i){t!==n&&bs(n,function(s,a){if(i||(i=new Qg),Kc(s)){s=i;var u=Cm(t,a),c=Cm(n,a),l=s.get(c);if(l)Dm(t,a,l);else{var f=void 0===(l=o?o(u,c,a+"",t,n,s):void 0);if(f){var p=lc(c),h=!p&&gi(c),d=!p&&!h&&om(c);l=c,p||h||d?lc(u)?l=u:ee(u)&&$f(u)?l=jm(u):h?(f=!1,l=pr(c,!0)):d?(f=!1,l=cs(c,!0)):l=[]:ds(c)||oi(c)?(l=u,oi(u)?l=bh(u,hi(u)):Kc(u)&&!Em(u)||(l=qr(c))):f=!1}f&&(s.set(c,l),as(l,c,r,o,s),s.delete(c)),Dm(t,a,l)}}else void 0===(u=o?o(Cm(t,a),s,a+"",t,n,i):void 0)&&(u=s),Dm(t,a,u)},hi)}function kC(t){var n=1,r=Fm;1==(1>=arguments.length?0:arguments.length-1)?"number"==typeof(1>=arguments.length?void 0:arguments[1])?n=1>=arguments.length?void 0:arguments[1]:r=1>=arguments.length?void 0:arguments[1]:2==(1>=arguments.length?0:arguments.length-1)&&(n=1>=arguments.length?void 0:arguments[1],r=2>=arguments.length?void 0:arguments[2]);var o=n||1;return function(n){return n.pipe(Nj(function(n,i){var s=r.now(),a=s-t;if((n=n.filter(function(t){return t.until>a})).length>=o){var u=n[n.length-1],c=n[0].until+t*Math.floor(n.length/o);n.push({delay:u.until<s?c-s:c-u.until,until:c,value:i})}else n.push({delay:0,until:s,value:i});return n},[]),Wa(function(t){return t[t.length-1]}),Am(function(t){var n=Wb(t.value);return t.delay?n.pipe(mf(t.delay,r)):n}))}}function lC(t,n){var r=(n=void 0===n?{protocols:es,makeWebSocket:fs}:n).protocols,o=void 0===r?es:r,i=void 0===(n=n.makeWebSocket)?fs:n;return new Za(function(n){var r,s=new ec,a=i(t,o),u=!1,c=!1,l=!1,f=function(t){if(r)throw u=!0,t=Error("Web socket message factory function called more than once"),n.error(t),t;return r=t.subscribe(function(t){a.send(t)}),s};return a.onopen=function(){l=!0,c?(u=!0,a.close()):n.next(f)},a.onmessage=function(t){s.next(t.data)},a.onerror=function(t){u=!0,n.error(Error(t.message))},a.onclose=function(t){u||(u=!0,c?(n.complete(),s.complete()):n.error(Error(1e3===t.code?"Normal closure":t.reason)))},function(){c=!0,r&&r.unsubscribe(),u||(u=!0,l&&a.close())}})}function Oj(){this._listeners={}}function gs(t){return"undefined"!=typeof Float32Array?function(){function n(t,n,r){s[0]=t,n[r]=a[0],n[r+1]=a[1],n[r+2]=a[2],n[r+3]=a[3]}function r(t,n,r){s[0]=t,n[r]=a[3],n[r+1]=a[2],n[r+2]=a[1],n[r+3]=a[0]}function o(t,n){return a[0]=t[n],a[1]=t[n+1],a[2]=t[n+2],a[3]=t[n+3],s[0]}function i(t,n){return a[3]=t[n],a[2]=t[n+1],a[1]=t[n+2],a[0]=t[n+3],s[0]}var s=new Float32Array([-0]),a=new Uint8Array(s.buffer),u=128===a[3];t.writeFloatLE=u?n:r,t.writeFloatBE=u?r:n,t.readFloatLE=u?o:i,t.readFloatBE=u?i:o}():function(){function n(t,n,r,o){var i=0>n?1:0;if(i&&(n=-n),0===n)t(0<1/n?0:2147483648,r,o);else if(isNaN(n))t(2143289344,r,o);else if(34028234663852886e22<n)t((i<<31|2139095040)>>>0,r,o);else if(11754943508222875e-54>n)t((i<<31|Math.round(n/1401298464324817e-60))>>>0,r,o);else{var s=Math.floor(Math.log(n)/Math.LN2);t((i<<31|s+127<<23|8388607&Math.round(n*Math.pow(2,-s)*8388608))>>>0,r,o)}}function r(t,n,r){return t=2*((r=t(n,r))>>31)+1,n=r>>>23&255,r&=8388607,255===n?r?NaN:1/0*t:0===n?1401298464324817e-60*t*r:t*Math.pow(2,n-150)*(r+8388608)}t.writeFloatLE=n.bind(null,hs),t.writeFloatBE=n.bind(null,is),t.readFloatLE=r.bind(null,js),t.readFloatBE=r.bind(null,ks)}(),"undefined"!=typeof Float64Array?function(){function n(t,n,r){s[0]=t,n[r]=a[0],n[r+1]=a[1],n[r+2]=a[2],n[r+3]=a[3],n[r+4]=a[4],n[r+5]=a[5],n[r+6]=a[6],n[r+7]=a[7]}function r(t,n,r){s[0]=t,n[r]=a[7],n[r+1]=a[6],n[r+2]=a[5],n[r+3]=a[4],n[r+4]=a[3],n[r+5]=a[2],n[r+6]=a[1],n[r+7]=a[0]}function o(t,n){return a[0]=t[n],a[1]=t[n+1],a[2]=t[n+2],a[3]=t[n+3],a[4]=t[n+4],a[5]=t[n+5],a[6]=t[n+6],a[7]=t[n+7],s[0]}function i(t,n){return a[7]=t[n],a[6]=t[n+1],a[5]=t[n+2],a[4]=t[n+3],a[3]=t[n+4],a[2]=t[n+5],a[1]=t[n+6],a[0]=t[n+7],s[0]}var s=new Float64Array([-0]),a=new Uint8Array(s.buffer),u=128===a[7];t.writeDoubleLE=u?n:r,t.writeDoubleBE=u?r:n,t.readDoubleLE=u?o:i,t.readDoubleBE=u?i:o}():function(){function n(t,n,r,o,i,s){var a=0>o?1:0;if(a&&(o=-o),0===o)t(0,i,s+n),t(0<1/o?0:2147483648,i,s+r);else if(isNaN(o))t(0,i,s+n),t(2146959360,i,s+r);else if(17976931348623157e292<o)t(0,i,s+n),t((a<<31|2146435072)>>>0,i,s+r);else if(22250738585072014e-324>o)t((o/=5e-324)>>>0,i,s+n),t((a<<31|o/4294967296)>>>0,i,s+r);else{var u=Math.floor(Math.log(o)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(o*=Math.pow(2,-u))>>>0,i,s+n),t((a<<31|u+1023<<20|1048576*o&1048575)>>>0,i,s+r)}}function r(t,n,r,o,i){return n=t(o,i+n),t=2*((o=t(o,i+r))>>31)+1,n=4294967296*(1048575&o)+n,2047==(r=o>>>20&2047)?n?NaN:1/0*t:0===r?5e-324*t*n:t*Math.pow(2,r-1075)*(n+4503599627370496)}t.writeDoubleLE=n.bind(null,hs,0,4),t.writeDoubleBE=n.bind(null,is,4,0),t.readDoubleLE=r.bind(null,js,0,4),t.readDoubleBE=r.bind(null,ks,4,0)}(),t}function hs(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}function is(t,n,r){n[r]=t>>>24,n[r+1]=t>>>16&255,n[r+2]=t>>>8&255,n[r+3]=255&t}function js(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function ks(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}function mc(t,n){this.lo=t>>>0,this.hi=n>>>0}function pi(t,n,r){this.fn=t,this.len=n,this.next=void 0,this.val=r}function Gm(){}function mC(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function ib(){this.len=0,this.tail=this.head=new pi(Gm,0,0),this.states=null}function Hm(t,n,r){n[r]=255&t}function Im(t,n){this.len=t,this.next=void 0,this.val=n}function Jm(t,n,r){for(;t.hi;)n[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)n[r++]=127&t.lo|128,t.lo>>>=7;n[r++]=t.lo}function Km(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}function ie(){Lm.call(this)}function nC(t,n,r){40>t.length?Ra.utf8.write(t,n,r):n.utf8Write?n.utf8Write(t,r):n.write(t,r)}function Od(t,n){return RangeError("index out of range: "+t.pos+" + "+(n||1)+" > "+t.len)}function Yb(t){this.buf=t,this.pos=0,this.len=t.length}function Mm(){var t=new ls(0,0),n=0;if(!(4<this.len-this.pos)){for(;3>n;++n){if(this.pos>=this.len)throw Od(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,128>this.buf[this.pos++])return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;4>n;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,128>this.buf[this.pos++])return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return t;if(n=0,4<this.len-this.pos){for(;5>n;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,128>this.buf[this.pos++])return t}else for(;5>n;++n){if(this.pos>=this.len)throw Od(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,128>this.buf[this.pos++])return t}throw Error("invalid varint encoding")}function Pj(t,n){return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0}function ms(){if(this.pos+8>this.len)throw Od(this,8);return new ls(Pj(this.buf,this.pos+=4),Pj(this.buf,this.pos+=4))}function ag(t){Nm.call(this,t)}function qi(t,n,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");Ra.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!n,this.responseDelimited=!!r}function yb(t){return"string"==typeof t&&/^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(t)&&"null"!==t}function ns(t){try{var n=t.split(".").map(function(t){return Number(t)})}catch(r){return!1}if(4!==n.length||0===n[0])return!1;for(t=0;t<n.length;t++){var o=n[t];if(!Number.isInteger(o)||0>o||255<o)return!1}return!0}function os(t,n){if(!Array.isArray(n)||0===n.length||32<n.length||n.some(function(t){return 0===t.length||32<t.length}))throw new ja("arguments is not valid",Ub);if(!yb(t))throw new ja("ID is invalid",Ub)}function ri(t){var n=t.attributes,r=t.attrSizeMap,o=t.maxAttrsCount,i=t.maxAttrValueSize;if(t=t.maxTotalSize,!Lg(n))throw new ja("attributes must be an object",Ub);if(Object.keys(n).length>o)throw new Dc("Exceed the limit of ".concat(o," attributes"),ch);if(0===Object.keys(n).length)throw new ja("The attributes is an empty object",Ub);var s=0,a=0;for(n=Object.entries(n);a<n.length;a++){var u=Lb(n[a],2),c=u[1];u=new Blob([u[0]]).size;var l=new Blob([c]).size;if(0===u||32<u)throw new ja("Invalid attribute key",Ub);if(l>i)throw new Dc("Invalid attribute value, over the limit of ".concat(i," bytes"),ch);if("string"!=typeof c||0===c.length)throw new ja("Invalid attribute value",Ub);s+=u+l}if(s>t)throw new Dc("The attributes size overflow",ch);if(void 0!==r){if(Object.keys(r).length>o)throw new Dc("Exceed the limit of ".concat(o," attributes"),ch);for(s=o=0,r=Object.entries(r);s<r.length;s++){if(a=(n=Lb(r[s],2))[1],0===(n=new Blob([n[0]]).size))throw new ja("Invalid attribute key",Ub);if(a>i)throw new Dc("Invalid attribute value, over the limit of ".concat(i," bytes"),ch);o+=n+a}if(o>t)throw new Dc("The attributes size overflow",ch)}}function nf(t){var n=t.items,r=t.maxMetaDataCount,o=t.maxMetaValueSize;if(t=t.type,!Array.isArray(n))throw new ja("params must be an MetadataItem array",Mb);var i=n.map(function(t){return[t.getKey(),t.getValue()]});if(i.length>r)throw new Dc("Exceed the limit of ".concat(r," metadata items"),Om);if(0===i.length)throw new ja("The metadata is empty ",Mb);if(("Update"===t||"Delete"===t)&&n.map(function(t){return t.getRevision()}).includes(0))throw new ja("The operation limit metadata revision can not set 0 ",of);for(r=0;r<i.length;r++){var s=Lb(i[r],2),a=s[0];s=s[1];var u=new Blob([null!=a?a:""]).size,c=new Blob([null!=s?s:""]).size;if("_"===(null==a?void 0:a[0]))throw new ja("Invalid metaData key",Mb);if(0===u||32<u)throw new ja("Invalid metaData key",Om);if("string"!=typeof s)throw new ja("Invalid metadata value",Mb);if("Delete"!==t&&c>o)throw new Dc("Invalid metadata value, over the limit of ".concat(o," bytes"),Om)}if(new Set(n.map(function(t){return t.getKey()})).size!==n.map(function(t){return t.getKey()}).length)throw new ja("meta data params key must be key must be unique",oC)}function Qj(t,n){return Math.floor(Math.random()*(Math.floor(n)-Math.ceil(t)+1))+t}function Rj(){var t=Qj(0,4294967295),n=Qj(1,4294967295);return new D(t,n,!0)}function fc(t){return t.toString().padEnd(32,"0")}function ps(t,n){return TypeError("Unexpected ".concat(t,": ").concat(n))}function qs(t,n){return t=t.split(".").map(function(t){return Number(t)}),n=n.split(".").map(function(t){return Number(t)}),Math.sqrt(1e3*Math.pow(t[0]-n[0],2)+100*Math.pow(t[1]-n[1],2)+10*Math.pow(t[2]-n[2],2)+1*Math.pow(t[3]-n[3],2))}function rs(t){return t.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?t.toNumber():t.toString()}function Pm(t,n){n="".concat(t).concat(n||"");var r=ss.get(n)||1;return ss.set(n,r+1),"".concat(t).concat(r)}function ts(t,n){var r="number"==typeof n?n:void 0!==n&&"string"!=typeof n?n.code:void 0;return n="number"!=typeof n&&"string"!=typeof n&&void 0!==n&&void 0!==n.serverCode?n.serverCode:void 0,r="".concat(void 0!==r?" Error Code ".concat(r):"").concat(void 0!==n?", server Code ".concat(n):""),t="string"==typeof t&&t?Sj(t):Array.isArray(t)&&"string"==typeof t[0]&&t[0]?Sj(us.apply(void 0,[t[0]].concat(ra(t.slice(1))))):"","".concat(""===r?"":"".concat(r," - ")).concat(t)}function pC(t,n){return Qm.apply(this,arguments)}function Qm(){return(Qm=za(W.mark(function t(n,r){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r||!r.aborted){t.next=2;break}return t.abrupt("return");case 2:return t.abrupt("return",new Promise(function(t){setTimeout(t,n),null==r||r.addEventListener("abort",t)}));case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tj(t,n,r){return Rm.apply(this,arguments)}function Rm(){return(Rm=za(W.mark(function t(n,r,o){var i,s,a,u,c,l,f,p,h,d,g,v,y,b,m,E,_,w,O,R,k,T,S,A,I,N;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.body,a=void 0===(s=r.headers)?{}:s,c=void 0===(u=r.timeout)?1e4:u,l=r.signal,p=void 0!==(f=r.withCredentials)&&f,d=void 0!==(h=(o||{}).useBinaryResponse)&&h,(g=new XMLHttpRequest).open("POST",n,!0),g.responseType=d?"arraybuffer":"text",g.withCredentials=p,g.timeout=c,v=i instanceof FormData,y=i instanceof Uint8Array,!(1<(b=Object.keys(a).filter(function(t){return"content-type"===t.toLowerCase()})).length)){t.next=14;break}throw RangeError("multiple content-type");case 14:0===b.length&&(y?a["Content-Type"]="application/octet-stream":v||(a["Content-Type"]="application/json"));case 15:if("setRequestHeader"in g){t.next=46;break}return g.abort(),t.next=19,fetch(n,{body:v||y?i:JSON.stringify(i),cache:"no-cache",credentials:p?"include":"same-origin",headers:a,method:"POST",mode:"cors",referrer:"no-referrer",signal:l});case 19:if(!(200<=(E=(m=t.sent).status)&&300>E||304===E)){t.next=31;break}if(!d){t.next=27;break}return t.next=25,m.arrayBuffer();case 25:return _=t.sent,t.abrupt("return",{status:E,responseData:_});case 27:return t.next=29,m.text();case 29:return w=t.sent,t.abrupt("return",{status:E,responseText:w});case 31:return O=new Pa(["Post XHR failure, status %d",E]),t.prev=32,t.next=35,m.text();case 35:throw R=t.sent,O.statusCode=E,O.message=R||"Request failed, status ".concat(E),O;case 41:throw t.prev=41,t.t0=t.catch(32),O.statusCode=E,O.message="Request failed, status ".concat(E),O;case 46:if(0!==Object.keys(a).length)for(k=0,T=Object.entries(a);k<T.length;k++)A=(S=Lb(T[k],2))[0],I=S[1],g.setRequestHeader(A,I);return void 0!==l&&(N=function t(){g.abort(),l.removeEventListener("abort",t)},l.addEventListener("abort",N)),v||y?g.send(i):g.send(JSON.stringify(i)),t.abrupt("return",new Promise(function(t,n){g.onload=function(){var r=g.status;if(200<=r&&300>r||304===r)t(d?{status:r,responseData:g.response}:{status:r,responseText:g.responseText});else{var o=new Pa(["Post XHR failure, status %d",r]);o.statusCode=r,o.message=g.response||"Request failed, status ".concat(g.status),n(o)}},g.ontimeout=function(t){n(new Pc(["XHR request timed out after %d ms",c],{originalError:t}))},g.onerror=function(){var t=new Pa(["Post XHR failure, status %d",g.status]);t.statusCode=g.status,t.message=g.response||"Request failed, status ".concat(g.status),n(t)},g.onabort=function(){try{n(new DOMException("The request aborted.","AbortError"))}catch(r){var t=Error("The request aborted.");t.name="AbortError",n(t)}}}));case 50:case"end":return t.stop()}},t,null,[[32,41]])}))).apply(this,arguments)}function vs(t,n){if(!Lg(t))throw new ja("message object is not a plain object",n);if(void 0===t.messageType){if(t.rawMessage instanceof Uint8Array){if(t.messageType="RAW",void 0!==t.text)throw new ja("Raw messages cannot have text property. Use description instead",n)}else{if("string"!=typeof t.text)throw new ja("messageType is undefined",n);if(t.messageType="TEXT",void 0!==t.rawMessage)throw new ja("Text messages cannot have rawMessage property",n)}}}function Uj(t){return Sm.apply(this,arguments)}function Sm(){return(Sm=za(W.mark(function t(n){var r,o,i,s,a,u,c,l,f,p,h,d,g,v,y,b,m,E,_;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.message,o=n.peerId,i=n.toPeer,s=n.session,a=n.errorCodes,u=n.diff,c=n.logger,void 0!==s){t.next=3;break}throw new ia("The client is not logged in. Cannot do the operation",a.NOT_LOGGED_IN);case 3:if(l=!1,f=i?"TEXT"===r.messageType?vb.P2pSMsgNoOfflineFlag:vb.P2pRMsgNoOfflineFlag:"TEXT"===r.messageType?vb.ChannelSMsg:vb.ChannelRMsg,"TEXT"!==r.messageType||!r.text.startsWith("AgoraRTMLegacyEndcallCompatibleMessagePrefix")||!i){t.next=14;break}if(h=(p=Lb(r.text.split("_"),3))[0],d=p[1],void 0!==p[2]&&yb(d)&&"AgoraRTMLegacyEndcallCompatibleMessagePrefix"===h){t.next=13;break}throw s.emit("messageCount",{messageCategory:f,type:"common",key:"sentcount"}),s.emit("messageCount",{messageCategory:f,type:"common",key:"invalidmessagecount"}),new ja("Message is not valid",si);case 13:l=!0;case 14:if(g=Date.now(),v=s.messageSentTimes.length-1,!((y=s.messageSentTimes[v])&&y+3e3<g)){t.next=21;break}s.messageSentTimes=[g],t.next=34;break;case 21:b=v;case 22:if(!(0<=b)){t.next=33;break}if(!(s.messageSentTimes[b]+3e3<g)){t.next=26;break}return s.messageSentTimes=s.messageSentTimes.slice(b+1,v+1),t.abrupt("break",33);case 26:if(!(180<=v-b+1)){t.next=30;break}throw s.emit("messageCount",{messageCategory:f,type:"common",key:"sentcount"}),s.emit("messageCount",{messageCategory:f,type:"common",key:"toooftencount"}),new Dc("Message sent failed, exceeded the 180 message in 3 seconds",a.TOO_OFTEN);case 30:b--,t.next=22;break;case 33:s.messageSentTimes.push(g);case 34:t.t0=r.messageType,t.next="TEXT"===t.t0?37:"RAW"===t.t0?42:44;break;case 37:if(!l){t.next=41;break}return E=(m=Lb(r.text.split("_"),3))[1],_=m[2],c.info("[rtm-API] EndCall message send api is called"),t.abrupt("return",s.sendInvitationMessage({peerId:o,type:"CallCancel",extra:_,channelId:E,callId:"0"}));case 41:return t.abrupt("return",s.sendTextMessage(r.text,o,i,1e4-u));case 42:return void 0===r.description&&(r.description=""),t.abrupt("return",s.sendRawMessage(r.rawMessage,r.description,o,i,1e4-u));case 44:throw s.emit("messageCount",{messageCategory:f,type:"common",key:"sentcount"}),s.emit("messageCount",{messageCategory:f,type:"common",key:"invalidmessagecount"}),new ja("Invalid message type",si);case 47:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qC(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=t.replace(/(https?:\/\/)?(www.)?/i,"");return n||(r=r.split(".").slice(t.length-2).join(".")),-1!==r.indexOf("/")?r.split("/")[0]:r}function wb(t){if("string"!=typeof t)return"[Sensitive Info]";var n=Math.floor(.7*t.length),r=t.length;return ws(t,n,r,"*".repeat(r-n))}function xs(t,n,r){function o(i){if(void 0===t)return t;if(or(i))return i;if(Array.isArray(i))return i.map(o);var s={},a=0;for(i=Vj(i);a<i.length;a++){var u=Lb(i[a],2),c=u[0];if("string"==typeof(u=u[1])&&r.includes(c)){s[c]="string"==typeof u?wb(u):"[Sensitive Info]";break}n.includes(c)?s[c]="[Hidden Info]":s[c]=null==u?u:r.includes(c)?"[Sensitive Info]":o(u)}return s}return Array.isArray(t)?t.map(o):o(t)}function ys(t){return Object.getOwnPropertyNames(t).forEach(function(n){"object"==Ia(n=t[n])&&null!==n&&ys(n)}),Object.freeze(t)}function ti(t){return new TextDecoder("utf-8").decode(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}function Wj(t){return(new TextEncoder).encode(t).length}function zs(){for(var t=0,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];for(n=0;n<r.length;n++)t+=r[n].length;for(t=new Uint8Array(t),o=n=0;o<r.length;o++){var i=r[o];t.set(i,n),n+=i.length}return t}function dh(t,n,r){var o,i=t.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(t=null==i?void 0:i[1],i=null==i?void 0:i[2]){for(i=i.substr(1).split("&"),o=0;o<i.length;o++)if(i[o].split("=")[0]==n){i[o]=n+"="+encodeURIComponent(r);break}return o==i.length&&i.push(n+"="+encodeURIComponent(r)),t+"?"+i.join("&")}return t+"?"+n+"="+encodeURIComponent(r)}function ws(t,n,r,o){return"string"!=typeof t?"[Sensitive Info]":t.substring(0,n)+o+t.substring(r)}function ui(t){return"string"==typeof t&&0!==t.length&&"false"!==t&&"null"!==t&&"undefined"!==t}function As(t){var n=[];return function t(r){if(null===r||"object"!==Ia(r))return r;if(-1!==n.indexOf(r))return"[Circular]";if(n.push(r),"function"==typeof r.toJSON)try{var o=t(r.toJSON());return n.pop(),o}catch(i){return"[Throws: "+(i?i.message:"?")+"]"}return Array.isArray(r)?(o=r.map(t),n.pop(),o):(o=Object.keys(r).reduce(function(n,o){e:{if(rC.call(r,o))try{var i=r[o];break e}catch(s){i="[Throws: "+(s?s.message:"?")+"]";break e}i=r[o]}return n[o]=t(i),n},{}),n.pop(),o)}(t)}function sC(t){if(!(100<(t=String(t)).length)&&(t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t))){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}function Xj(t,n,r,o){return Math.round(t/r)+" "+o+(n>=1.5*r?"s":"")}function tC(t){var n=t.areas,r=t.excludedArea;if(1===n.length&&n[0]===oa.GLOBAL&&r===oa.CHINA)return eh([oa.OVERSEA]);if(n.includes(oa.GLOBAL)){if(t=vi(Yj).filter(function(t){return t!==oa.GLOBAL&&t!==oa.OVERSEA}),r in wi){var o=[].concat(ra(null!=(n=wi[r])?n:[]),[r]);return eh(t.filter(function(t){return!o.includes(t)}))}if(Bs(r)){var i=uC(r);return eh(t.filter(function(t){return t!==r&&t!==i}))}}if(Bs(r)||r in wi)return eh(n);throw new ja("Invalid excludedArea area config")}function gb(t,n,r){void 0===r&&(r=Object.getOwnPropertyDescriptor(t,n));var o=r.value;return r.value=function(){for(var t=this,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];this.invokeTracker.apply(this,["%s: ".concat(0<i.length?"%s with args: ".concat(i.map(function(){return"%o"})):"%s"),this.name,n].concat(ra(i.map(fh))));try{var a=o.apply(this,i)}catch(u){throw this.logError.apply(this,["".concat(void 0!==u.code?"Error Code ".concat(u.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map(function(){return"%o"})):""),n].concat(ra(i.map(fh)))),u.originalError&&this.logError(u.originalError),this.errorTracker(u),u}var c=Date.now();return za(W.mark(function r(){var o,s;return W.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a;case 3:o=r.sent,r.next=12;break;case 6:return r.prev=6,r.t0=r.catch(0),t.logError.apply(t,["".concat(void 0!==r.t0.code?"Error Code ".concat(r.t0.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map(function(){return"%o"})):""),n].concat(ra(i.map(fh)))),r.t0.originalError&&t.logError(r.t0.originalError),t.errorTracker(r.t0),r.abrupt("return");case 12:o!==a?void 0===o?t.resultTracker("%s promise resolves after %dms",n,Date.now()-c):t.resultTracker("%s promise resolves after %dms, result is %o",n,Date.now()-c,fh(o)):"Object"!==Be(o)||Lg(o)?t.resultTracker("%s result is %o",n,fh(o)):t.resultTracker("%s result is %s",n,o.name||(null===(s=o.constructor)||void 0===s?void 0:s.name));case 13:case"end":return r.stop()}},r,null,[[0,6]])}))(),a},r}function je(t,n,r){void 0===r&&(r=Object.getOwnPropertyDescriptor(t,n));var o=r.value;return r.value=function(){for(var t=this,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];this.invokeTracker.apply(this,["%s: ".concat(0<i.length?"%s with args: ".concat(i.map(function(){return"%o"})):"%s"),this.name,n].concat(i));try{var a=o.apply(this,i)}catch(u){throw this.logError.apply(this,["".concat(void 0!==u.code?"Error Code ".concat(u.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map(function(){return"%o"})):""),n].concat(i)),u.originalError&&this.logError(u.originalError),this.errorTracker(u),u}var c=Date.now();return za(W.mark(function r(){var o,s;return W.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a;case 3:o=r.sent,r.next=12;break;case 6:return r.prev=6,r.t0=r.catch(0),t.logError.apply(t,["".concat(void 0!==r.t0.code?"Error Code ".concat(r.t0.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map(function(){return"%o"})):""),n].concat(i)),r.t0.originalError&&t.logError(r.t0.originalError),t.errorTracker(r.t0),r.abrupt("return");case 12:o!==a?void 0===o?t.resultTracker("%s promise resolves after %dms",n,Date.now()-c):t.resultTracker("%s promise resolves after %dms, result is %o",n,Date.now()-c,o):"Object"!==Be(o)||Lg(o)?t.resultTracker("%s result is %o",n,o):t.resultTracker("%s result is %s",n,o.name||(null===(s=o.constructor)||void 0===s?void 0:s.name));case 13:case"end":return r.stop()}},r,null,[[0,6]])}))(),a},r}function vC(t,n){var r="".concat(t,"Uri");if("number"!=typeof(r=Tm[r])||0===r)throw TypeError("Got Unknown URI Name");return n=new(t=Cs[t])(n),n=t.encode(n).finish(),new wC({uri:r,data:n})}function Ds(t,n){var r=ui(null);return"".concat(t.split(".").join("-"),".edge.").concat(r?null:n?"sd-rtn.com":"agora.io")}function $a(t,n,r){return Um.apply(this,arguments)}function Um(){return(Um=za(W.mark(function t(n,r,o){var i,s,a,u=arguments;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=3<u.length&&void 0!==u[3]&&u[3],s=xC[n].encode(r).finish(),a=function(){var t=za(W.mark(function t(r){var u,c,l,f=arguments;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(3<(c=1<f.length&&void 0!==f[1]?f[1]:0))){t.next=3;break}return t.abrupt("return");case 3:if(l=dh(l=o?"https://".concat(null!==(u=null==Ba?void 0:Ba.PROXY_NGINX[0])&&void 0!==u?u:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(r,"&p=443&d=events/proto-raw"):"https://".concat(r,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),l=dh(l,"id",yC[n].toString()),!i){t.next=9;break}return t.next=9,pC(1e4);case 9:return t.next=11,Tj(l,{body:s,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch(function(t){return a(r,c+1)});case 11:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),t.prev=3,t.next=6,a((null==Ba?void 0:Ba.EVENT_REPORT_DOMAIN[0])||ui(null)&&null||"webcollector-rtm.agora.io");case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),t.next=12,a(Ba&&Es(1<(null==Ba?void 0:Ba.EVENT_REPORT_DOMAIN.length)?null==Ba?void 0:Ba.EVENT_REPORT_DOMAIN.slice(1):null==Ba?void 0:Ba.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return t.stop()}},t,null,[[3,8]])}))).apply(this,arguments)}function Nb(t){return void 0===t?D.fromNumber(0):D.fromNumber(Date.now()-t)}function Zj(t,n){return D.fromValue(t).eq(n)}function ak(t,n){var r=void 0===n?t.val:n,o=t.isBoolean;n=t.isNumber;var i=t.oneof,s=t.len;if(2!==[o,n,i].filter(function(t){return!t}).length)throw TypeError("invalid field type");if(void 0!==r&&(t=!1,void 0!==i&&zC(i=Vm(i),Zj).length===i.length&&void 0!==AC(i,function(t){return Zj(r,t)})&&(t=!0),o=void 0!==o&&(0===r||1===r)&&1===s,n=void 0!==n&&r.toString(2).length<=s,!(t||o||n)))throw Error("invalid field value")}function pf(t,n){n=E({},Ge.STATE_REVISION,void 0!==n&&0<=n?n:void 0);for(var r=0;r<t.length;r++){var o=t[r];n[o.getKey()]=o.getValue(),n["".concat(Ge.STATE_REVISION_KEY_PREFIX).concat(o.getKey())]=0<=o.getRevision()||-2===o.getRevision()?o.getRevision():void 0}return Pd.omitBy(n,Pd.isUndefined)}function Wm(t){var n=JSON.parse(t);t={majorRevision:n[Ge.STATE_REVISION],items:[]};var r=Pd.omit(n,Ge.STATE_REVISION);return n=Object.keys(r).filter(function(t){return"_"!==t[0]}),t.items=n.map(function(t){return new Fs({key:t,value:r[t],revision:r["".concat(Ge.STATE_REVISION_KEY_PREFIX).concat(t)],updateTs:r["".concat(Ge.STATE_TIMESTAMP_PREFIX).concat(t)],authorUserId:r["".concat(Ge.STATE_AUTHOR_PREFIX).concat(t)]})}),t}function ud(t){var n=bd;return t!==bg.StateOk&&t!==bg.DuplicatedOperation&&(n=t===bg.OutdateRevision?of:t===bg.TimeOutError?cd:t===bg.ArgumentError?Mb:He),n}function Gs(t){return t.reduce(function(t,n){return t.concat(n instanceof bk.UnsubscriptionError?n.errors:n)},[])}function BC(t,n){do 2147483647==xi?xi=0:xi++;while(gh.hasOwnProperty(xi));var r=xi;return gh[r]={callback:t,parameters:Array.prototype.slice.call(arguments,2)},Xm.postMessage({name:"setInterval",fakeId:r,time:n}),r}function Hs(t){return function(){var n=t();if(!n)throw new ia("Client is not logged in. Cannot do the operation");return n}}var qb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},ck=function(t){return t&&t.Math==Math&&t},na=ck("object"==typeof globalThis&&globalThis)||ck("object"==typeof window&&window)||ck("object"==typeof self&&self)||ck("object"==typeof qb&&qb)||function(){return this}()||Function("return this")(),Ga=function(t){try{return!!t()}catch(n){return!0}},cb=!Ga(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Is={}.propertyIsEnumerable,Js=Object.getOwnPropertyDescriptor,yi=Js&&!Is.call({1:2},1)?function(t){return!!(t=Js(this,t))&&t.enumerable}:Is,ke=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},CC={}.toString,Qd=function(t){return CC.call(t).slice(8,-1)},DC="".split,zi=Ga(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Qd(t)?DC.call(t,""):Object(t)}:Object,Ec=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},Qc=function(t){return zi(Ec(t))},fb=function(t){return"object"==typeof t?null!==t:"function"==typeof t},le=function(t,n){var r,o;if(!fb(t))return t;if(n&&"function"==typeof(r=t.toString)&&!fb(o=r.call(t))||"function"==typeof(r=t.valueOf)&&!fb(o=r.call(t))||!n&&"function"==typeof(r=t.toString)&&!fb(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")},Zb=function(t){return Object(Ec(t))},EC={}.hasOwnProperty,Fa=function(t,n){return EC.call(Zb(t),n)},hh=na.document,dk=fb(hh)&&fb(hh.createElement),Ks=!cb&&!Ga(function(){return 7!=Object.defineProperty(dk?hh.createElement("div"):{},"a",{get:function(){return 7}}).a}),Ls=Object.getOwnPropertyDescriptor,pd={f:cb?Ls:function(t,n){if(t=Qc(t),n=le(n,!0),Ks)try{return Ls(t,n)}catch(r){}if(Fa(t,n))return ke(!yi.call(t,n),t[n])}},ub=function(t){if(!fb(t))throw TypeError(String(t)+" is not an object");return t},Ms=Object.defineProperty,$b={f:cb?Ms:function(t,n,r){if(ub(t),n=le(n,!0),ub(r),Ks)try{return Ms(t,n,r)}catch(o){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},ac=cb?function(t,n,r){return $b.f(t,n,ke(1,r))}:function(t,n,r){return t[n]=r,t},Ym=function(t,n){try{ac(na,t,n)}catch(r){na[t]=n}return n},qf=na["__core-js_shared__"]||Ym("__core-js_shared__",{}),FC=Function.toString;"function"!=typeof qf.inspectSource&&(qf.inspectSource=function(t){return FC.call(t)});var Zm=qf.inspectSource,Ns=na.WeakMap,GC="function"==typeof Ns&&/native code/.test(Zm(Ns)),rf=kc(function(t){(t.exports=function(t,n){return qf[t]||(qf[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),HC=0,IC=Math.random(),ih=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++HC+IC).toString(36)},Os=rf("keys"),ek=function(t){return Os[t]||(Os[t]=ih(t))},jh={},JC=na.WeakMap;if(GC||qf.state)var cg=qf.state||(qf.state=new JC),KC=cg.get,Ps=cg.has,LC=cg.set,$m=function(t,n){if(Ps.call(cg,t))throw TypeError("Object already initialized");return n.facade=t,LC.call(cg,t,n),n},fk=function(t){return KC.call(cg,t)||{}},an=function(t){return Ps.call(cg,t)};else{var kh=ek("state");jh[kh]=!0,$m=function(t,n){if(Fa(t,kh))throw TypeError("Object already initialized");return n.facade=t,ac(t,kh,n),n},fk=function(t){return Fa(t,kh)?t[kh]:{}},an=function(t){return Fa(t,kh)}}var d,b,Sb={set:$m,get:fk,has:an,enforce:function(t){return an(t)?fk(t):$m(t,{})},getterFor:function(t){return function(n){var r;if(!fb(n)||(r=fk(n)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},Ob=kc(function(t){var n=Sb.get,r=Sb.enforce,o=String(String).split("String");(t.exports=function(t,n,i,s){var a=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable;if(s=!!s&&!!s.noTargetGet,"function"==typeof i){"string"!=typeof n||Fa(i,"name")||ac(i,"name",n);var c=r(i);c.source||(c.source=o.join("string"==typeof n?n:""))}t===na?u?t[n]=i:Ym(n,i):(a?!s&&t[n]&&(u=!0):delete t[n],u?t[n]=i:ac(t,n,i))})(Function.prototype,"toString",function(){return"function"==typeof this&&n(this).source||Zm(this)})}),Qs=function(t){return"function"==typeof t?t:void 0},me=function(t,n){return 2>arguments.length?Qs(na[t])||Qs(na[t]):na[t]&&na[t][n]||na[t]&&na[t][n]},MC=Math.ceil,NC=Math.floor,Rd=function(t){return isNaN(t=+t)?0:(0<t?NC:MC)(t)},OC=Math.min,xb=function(t){return 0<t?OC(Rd(t),9007199254740991):0},PC=Math.max,QC=Math.min,dd=function(t,n){return 0>(t=Rd(t))?PC(t+n,0):QC(t,n)},Rs=function(t){return function(n,r,o){var i=xb((n=Qc(n)).length);if(o=dd(o,i),t&&r!=r){for(;i>o;)if((r=n[o++])!=r)return!0}else for(;i>o;o++)if((t||o in n)&&n[o]===r)return t||o||0;return!t&&-1}},Ss=Rs(!0),bn=Rs(!1),Ts=function(t,n){t=Qc(t);var r,o=0,i=[];for(r in t)!Fa(jh,r)&&Fa(t,r)&&i.push(r);for(;n.length>o;)Fa(t,r=n[o++])&&(~bn(i,r)||i.push(r));return i},gk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),RC=gk.concat("length","prototype"),dg={f:Object.getOwnPropertyNames||function(t){return Ts(t,RC)}},Ai={f:Object.getOwnPropertySymbols},Us=me("Reflect","ownKeys")||function(t){var n=dg.f(ub(t)),r=Ai.f;return r?n.concat(r(t)):n},Vs=function(t,n){for(var r=Us(n),o=$b.f,i=pd.f,s=0;s<r.length;s++){var a=r[s];Fa(t,a)||o(t,a,i(n,a))}},SC=/#|\.prototype\./,ne=function(t,n){return(t=TC[UC(t)])==VC||t!=WC&&("function"==typeof n?Ga(n):!!n)},UC=ne.normalize=function(t){return String(t).replace(SC,".").toLowerCase()},TC=ne.data={},WC=ne.NATIVE="N",VC=ne.POLYFILL="P",XC=pd.f,wa=function(t,n){var r,o,i,s=t.target,a=t.global,u=t.stat;if(o=a?na:u?na[s]||Ym(s,{}):(na[s]||{}).prototype)for(i in n){var c=n[i],l=t.noTargetGet?(r=XC(o,i))&&r.value:o[i];if(!(r=ne(a?i:s+(u?".":"#")+i,t.forced))&&void 0!==l){if(typeof c==typeof l)continue;Vs(c,l)}(t.sham||l&&l.sham)&&ac(c,"sham",!0);try{Ob(o,i,c,t)}catch(f){}}},hk=function(){var t=ub(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n},Sd=Ga(function(){var t=/a/y;return t.lastIndex=2,null!=t.exec("abcd")}),YC=Ga(function(){var t=/^r/gy;return t.lastIndex=2,null!=t.exec("str")}),ik=RegExp.prototype.exec,ZC=rf("native-string-replace",String.prototype.replace),Ws=ik,cn=(d=/a/,b=/b*/g,ik.call(d,"a"),ik.call(b,"a"),0!==d.lastIndex||0!==b.lastIndex),Xs=Sd||YC,dn=void 0!==/()??/.exec("")[1];(cn||dn||Xs)&&(Ws=function(t){var n,r=Xs&&this.sticky,o=hk.call(this),i=this.source,s=0,a=t;if(r){-1===(o=o.replace("y","")).indexOf("g")&&(o+="g"),a=String(t).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&"\n"!==t[this.lastIndex-1])&&(i="(?: "+i+")",a=" "+a,s++);var u=RegExp("^(?:"+i+")",o)}if(dn&&(u=RegExp("^"+i+"$(?!\\s)",o)),cn)var c=this.lastIndex;var l=ik.call(r?u:this,a);return r?l?(l.input=l.input.slice(s),l[0]=l[0].slice(s),l.index=this.lastIndex,this.lastIndex+=l[0].length):this.lastIndex=0:cn&&l&&(this.lastIndex=this.global?l.index+l[0].length:c),dn&&l&&1<l.length&&ZC.call(l[0],u,function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(l[n]=void 0)}),l});var Bi=Ws;wa({target:"RegExp",proto:!0,forced:/./.exec!==Bi},{exec:Bi});var lh=me("navigator","userAgent")||"",Ys=na.process,Zs=Ys&&Ys.versions,$s=Zs&&Zs.v8;if($s)var sf=$s.split("."),en=4>sf[0]?1:sf[0]+sf[1];else lh&&(sf=lh.match(/Edge\/(\d+)/),(!sf||74<=sf[1])&&(sf=lh.match(/Chrome\/(\d+)/))&&(en=sf[1]));var oe=en&&+en,pe=!!Object.getOwnPropertySymbols&&!Ga(function(){return!String(Symbol())||!Symbol.sham&&oe&&41>oe}),at=pe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ci=rf("wks"),Di=na.Symbol,$C=at?Di:Di&&Di.withoutSetter||ih,mb=function(t){return Fa(Ci,t)&&(pe||"string"==typeof Ci[t])||(pe&&Fa(Di,t)?Ci[t]=Di[t]:Ci[t]=$C("Symbol."+t)),Ci[t]},aD=mb("species"),fn=RegExp.prototype,bD=!Ga(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),bt="$0"==="a".replace(/./,"$0"),ct=mb("replace"),dt=!!/./[ct]&&""===/./[ct]("a","$0"),cD=!Ga(function(){var t=/(?:)/,n=t.exec;return t.exec=function(){return n.apply(this,arguments)},2!==(t="ab".split(t)).length||"a"!==t[0]||"b"!==t[1]}),jk=function(t,n,r,o){var i=mb(t),s=!Ga(function(){var n={};return n[i]=function(){return 7},7!=""[t](n)}),a=s&&!Ga(function(){var n=!1,r=/a/;return"split"===t&&((r={constructor:{}}).constructor[aD]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return n=!0,null},r[i](""),!n});if(!s||!a||"replace"===t&&(!bD||!bt||dt)||"split"===t&&!cD){var u=/./[i],c=(r=r(i,""[t],function(t,n,r,o,i){var a=n.exec;return a===Bi||a===fn.exec?s&&!i?{done:!0,value:u.call(n,r,o)}:{done:!0,value:t.call(r,n,o)}:{done:!1}},{REPLACE_KEEPS_$0:bt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:dt}))[1];Ob(String.prototype,t,r[0]),Ob(fn,i,2==n?function(t,n){return c.call(t,this,n)}:function(t){return c.call(t,this)})}o&&ac(fn[i],"sham",!0)},dD=mb("match"),gn=function(t){var n;return fb(t)&&(void 0!==(n=t[dD])?!!n:"RegExp"==Qd(t))},Rc=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},eD=mb("species"),eg=function(t,n){var r;return void 0===(t=ub(t).constructor)||null==(r=ub(t)[eD])?n:Rc(r)},et=function(t){return function(n,r){n=String(Ec(n)),r=Rd(r);var o,i=n.length;if(0>r||r>=i)return t?"":void 0;var s=n.charCodeAt(r);return 55296>s||56319<s||r+1===i||56320>(o=n.charCodeAt(r+1))||57343<o?t?n.charAt(r):s:t?n.slice(r,r+2):o-56320+(s-55296<<10)+65536}},fD=et(!1),ft=et(!0),hn=function(t,n,r){return n+(r?ft(t,n).length:1)},mh=function(t,n){var r=t.exec;if("function"==typeof r){if("object"!=typeof(t=r.call(t,n)))throw TypeError("RegExp exec method returned something other than an Object or null");return t}if("RegExp"!==Qd(t))throw TypeError("RegExp#exec called on incompatible receiver");return Bi.call(t,n)},gD=[].push,hD=Math.min;jk("split",2,function(t,n,r){var o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,r){var o=String(Ec(this));if(0==(r=void 0===r?4294967295:r>>>0))return[];if(void 0===t)return[o];if(!gn(t))return n.call(o,t,r);var i,s,a,u=[],c=0;for(t=RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(i=Bi.call(t,o))&&!((s=t.lastIndex)>c&&(u.push(o.slice(c,i.index)),1<i.length&&i.index<o.length&&gD.apply(u,i.slice(1)),a=i[0].length,c=s,u.length>=r));)t.lastIndex===i.index&&t.lastIndex++;return c===o.length?(a||!t.test(""))&&u.push(""):u.push(o.slice(c)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:n.call(this,t,r)}:n;return[function(n,r){var i=Ec(this),s=null==n?void 0:n[t];return void 0!==s?s.call(n,i,r):o.call(String(i),n,r)},function(t,i){var s=r(o,t,this,i,o!==n);if(s.done)return s.value;var a=ub(t);t=String(this);var u=eg(a,RegExp);if(s=a.unicode,a=new u(Sd?"^(?:"+a.source+")":a,(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Sd?"g":"y")),0==(i=void 0===i?4294967295:i>>>0))return[];if(0===t.length)return null===mh(a,t)?[t]:[];var c=0,l=0;for(u=[];l<t.length;){a.lastIndex=Sd?0:l;var f,p=mh(a,Sd?t.slice(l):t);if(null===p||(f=hD(xb(a.lastIndex+(Sd?l:0)),t.length))===c)l=hn(t,l,s);else{if(u.push(t.slice(c,l)),u.length===i)return u;for(c=1;c<=p.length-1;c++)if(u.push(p[c]),u.length===i)return u;l=c=f}}return u.push(t.slice(c)),u}]},Sd);var iD=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,jD=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,jn=function(t){return function(n){return n=String(Ec(n)),1&t&&(n=n.replace(iD,"")),2&t&&(n=n.replace(jD,"")),n}},kD=jn(1),lD=jn(2),kk=jn(3),lk=na.parseInt,mD=/^[+-]?0[Xx]/,gt=8!==lk("	\n\v\f\r \xa0áââââââââââââ¯âã\u2028\u2029\uFEFF08")||22!==lk("	\n\v\f\r \xa0áââââââââââââ¯âã\u2028\u2029\uFEFF0x16")?function(t,n){return lk(t=kk(String(t)),n>>>0||(mD.test(t)?16:10))}:lk;wa({global:!0,forced:parseInt!=gt},{parseInt:gt});var tf=function(t,n,r){if(Rc(t),void 0===n)return t;switch(r){case 0:return function(){return t.call(n)};case 1:return function(r){return t.call(n,r)};case 2:return function(r,o){return t.call(n,r,o)};case 3:return function(r,o,i){return t.call(n,r,o,i)}}return function(){return t.apply(n,arguments)}},uf=Array.isArray||function(t){return"Array"==Qd(t)},nD=mb("species"),Ei=function(t,n){if(uf(t)){var r=t.constructor;"function"==typeof r&&(r===Array||uf(r.prototype))?r=void 0:fb(r)&&null===(r=r[nD])&&(r=void 0)}return new(void 0===r?Array:r)(0===n?0:n)},ht=[].push,vf=function(t){var n=1==t,r=2==t,o=3==t,i=4==t,s=6==t,a=7==t,u=5==t||s;return function(c,l,f,p){var h=Zb(c),d=zi(h);l=tf(l,f,3),f=xb(d.length);var g,v=0;for(p=p||Ei,c=n?p(c,f):r||a?p(c,0):void 0;f>v;v++)if((u||v in d)&&(g=l(p=d[v],v,h),t)){if(n)c[v]=g;else if(g)switch(t){case 3:return!0;case 5:return p;case 6:return v;case 2:ht.call(c,p)}else switch(t){case 4:return!1;case 7:ht.call(c,p)}}return s?-1:o||i?i:c}},fg=vf(0),it=vf(1),jt=vf(2),oD=vf(3),pD=vf(4),kt=vf(5),lt=vf(6);vf(7);var qD=mb("species"),Fi=function(t){return 51<=oe||!Ga(function(){var n=[];return(n.constructor={})[qD]=function(){return{foo:1}},1!==n[t](Boolean).foo})},rD=Fi("filter");wa({target:"Array",proto:!0,forced:!rD},{filter:function(t){return jt(this,t,1<arguments.length?arguments[1]:void 0)}});var Ie=Object.keys||function(t){return Ts(t,gk)},sD=Ga(function(){Ie(1)});wa({target:"Object",stat:!0,forced:sD},{keys:function(t){return Ie(Zb(t))}});var gg=function(t,n){var r=[][t];return!!r&&Ga(function(){r.call(null,n||function(){throw 1},1)})},tD=[].join,uD=zi!=Object,vD=gg("join",",");wa({target:"Array",proto:!0,forced:uD||!vD},{join:function(t){return tD.call(Qc(this),void 0===t?",":t)}});var wD=Fi("map");wa({target:"Array",proto:!0,forced:!wD},{map:function(t){return it(this,t,1<arguments.length?arguments[1]:void 0)}});var kn=function(t){var n=t.return;if(void 0!==n)return ub(n.call(t)).value},nh={},xD=mb("iterator"),yD=Array.prototype,ln=function(t){return void 0!==t&&(nh.Array===t||yD[xD]===t)},oh=function(t,n,r){(n=le(n))in t?$b.f(t,n,ke(0,r)):t[n]=r},zD=mb("toStringTag"),mt={};mt[zD]="z";var mn="[object z]"===String(mt),AD=mb("toStringTag"),BD="Arguments"==Qd(function(){return arguments}()),ph=mn?Qd:function(t){var n;if(void 0===t)var r="Undefined";else{if(null===t)var o="Null";else{e:{var i=t=Object(t);try{o=i[AD];break e}catch(s){}o=void 0}o="string"==typeof(r=o)?r:BD?Qd(t):"Object"==(n=Qd(t))&&"function"==typeof t.callee?"Arguments":n}r=o}return r},CD=mb("iterator"),Gi=function(t){if(null!=t)return t[CD]||t["@@iterator"]||nh[ph(t)]},hg=function(t){var n,r=Zb(t),o="function"==typeof this?this:Array,i=arguments.length,s=1<i?arguments[1]:void 0,a=void 0!==s,u=Gi(r),c=0;if(a&&(s=tf(s,2<i?arguments[2]:void 0,2)),null==u||o==Array&&ln(u)){var l=xb(r.length);for(o=new o(l);l>c;c++)u=a?s(r[c],c):r[c],oh(o,c,u)}else for(i=(r=u.call(r)).next,o=new o;!(n=i.call(r)).done;c++){if(a){u=r;var f=s;n=[n.value,c];try{l=f(ub(n)[0],n[1])}catch(p){throw kn(u),p}}else l=n.value;oh(o,c,u=l)}return o.length=c,o},nt=mb("iterator"),ot=!1;try{var DD=0,pt={next:function(){return{done:!!DD++}},return:function(){ot=!0}};pt[nt]=function(){return this},Array.from(pt,function(){throw 2})}catch(d){}var mk=function(t,n){if(!n&&!ot)return!1;var r=!1;try{(n={})[nt]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(o){}return r},ED=!mk(function(t){Array.from(t)});wa({target:"Array",stat:!0,forced:ED},{from:hg});var ig,qt=!Ga(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),rt=ek("IE_PROTO"),FD=Object.prototype,Md=qt?Object.getPrototypeOf:function(t){return Fa(t=Zb(t),rt)?t[rt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?FD:null},nn=mb("iterator"),st=!1,GD=function(){return this};if([].keys){var tt=[].keys();if("next"in tt){var ut=Md(Md(tt));ut!==Object.prototype&&(ig=ut)}else st=!0}(null==ig||Ga(function(){var t={};return ig[nn].call(t)!==t}))&&(ig={}),Fa(ig,nn)||ac(ig,nn,GD);var qn,nk=ig,ok=st,vt=cb?Object.defineProperties:function(t,n){ub(t);for(var r,o=Ie(n),i=o.length,s=0;i>s;)$b.f(t,r=o[s++],n[r]);return t},on=me("document","documentElement"),wt=ek("IE_PROTO"),pn=function(){},pk=function(){try{qn=document.domain&&new ActiveXObject("htmlfile")}catch(t){}if(qn){var n=qn;n.write("<script></script>"),n.close(),n=n.parentWindow.Object}else(e=dk?hh.createElement("iframe"):{}).style.display="none",on.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object</script>"),e.close(),e=e.F;for(pk=e,e=gk.length;e--;)delete pk.prototype[gk[e]];return pk()};jh[wt]=!0;var vd=Object.create||function(t,n){if(null!==t){pn.prototype=ub(t);var r=new pn;pn.prototype=null,r[wt]=t}else r=pk();return void 0===n?r:vt(r,n)},HD=$b.f,xt=mb("toStringTag"),Td=function(t,n,r){t&&!Fa(t=r?t:t.prototype,xt)&&HD(t,xt,{configurable:!0,value:n})},ID=function(){return this},yt=function(t,n,r){return n+=" Iterator",t.prototype=vd(nk,{next:ke(1,r)}),Td(t,n,!1),nh[n]=ID,t},gc=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,n={};try{var r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;r.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){if(ub(n),!fb(o)&&null!==o)throw TypeError("Can't set "+String(o)+" as a prototype");return t?r.call(n,o):n.__proto__=o,n}}():void 0),Hi=mb("iterator"),JD=function(){return this},rn=function(t,n,r,o,i,s,a){yt(r,n,o),o=function(t){if(t===i&&h)return h;if(!ok&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}};var u,c=n+" Iterator",l=!1,f=t.prototype,p=f[Hi]||f["@@iterator"]||i&&f[i],h=!ok&&p||o(i),d="Array"==n&&f.entries||p;if(d&&(t=Md(d.call(new t)),nk!==Object.prototype&&t.next&&(Md(t)!==nk&&(gc?gc(t,nk):"function"!=typeof t[Hi]&&ac(t,Hi,JD)),Td(t,c,!0))),"values"==i&&p&&"values"!==p.name&&(l=!0,h=function(){return p.call(this)}),f[Hi]!==h&&ac(f,Hi,h),nh[n]=h,i){var g={values:o("values"),keys:s?h:o("keys"),entries:o("entries")};if(a)for(u in g)!ok&&!l&&u in f||Ob(f,u,g[u]);else wa({target:n,proto:!0,forced:ok||l},g)}return g},KD=Sb.set,LD=Sb.getterFor("String Iterator");rn(String,"String",function(t){KD(this,{type:"String Iterator",string:String(t),index:0})},function(){var t=LD(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(n=ft(n,r),t.index+=n.length,{value:n,done:!1})});var sn=mb("unscopables"),tn=Array.prototype;null==tn[sn]&&$b.f(tn,sn,{configurable:!0,value:vd(null)});var wf=function(t){tn[sn][t]=!0},zt=!0;"find"in[]&&[,].find(function(){zt=!1}),wa({target:"Array",proto:!0,forced:zt},{find:function(t){return kt(this,t,1<arguments.length?arguments[1]:void 0)}}),wf("find");var At=function(t){var n=String(Ec(this)),r="";if(0>(t=Rd(t))||1/0==t)throw RangeError("Wrong number of repetitions");for(;0<t;(t>>>=1)&&(n+=n))1&t&&(r+=n);return r};wa({target:"String",proto:!0},{repeat:At});var Bt=[].indexOf,Ct=!!Bt&&0>1/[1].indexOf(1,-0),MD=gg("indexOf");wa({target:"Array",proto:!0,forced:Ct||!MD},{indexOf:function(t){return Ct?Bt.apply(this,arguments)||0:bn(this,t,1<arguments.length?arguments[1]:void 0)}});var JA=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,KA=/CrOS/,LA=/android|ipad|playbook|silk/i;Kg.isMobile=Kg,Kg.default=Kg,wa({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),wa({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),na.Number.isNaN;var ND=mn?({}).toString:function(){return"[object "+ph(this)+"]"};mn||Ob(Object.prototype,"toString",ND,{unsafe:!0});var qk=na.Promise,qh=function(t,n,r){for(var o in n)Ob(t,o,n[o],r);return t},Dt=mb("species"),Ii=function(t){t=me(t);var n=$b.f;cb&&t&&!t[Dt]&&n(t,Dt,{configurable:!0,get:function(){return this}})},Ud=function(t,n,r){if(!(t instanceof n))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},Ji=function(t,n){this.stopped=t,this.result=n},rk=function(t,n,r){var o,i=!(!r||!r.AS_ENTRIES),s=!(!r||!r.IS_ITERATOR),a=!(!r||!r.INTERRUPTED),u=tf(n,r&&r.that,1+i+a),c=function(t){return l&&kn(l),new Ji(!0,t)};if(n=function(t){return i?(ub(t),a?u(t[0],t[1],c):u(t[0],t[1])):a?u(t,c):u(t)},s)var l=t;else{if("function"!=typeof(s=Gi(t)))throw TypeError("Target is not iterable");if(ln(s)){for(s=0,r=xb(t.length);r>s;s++)if((o=n(t[s]))&&o instanceof Ji)return o;return new Ji(!1)}l=s.call(t)}for(t=l.next;!(s=t.call(l)).done;){try{o=n(s.value)}catch(f){throw kn(l),f}if("object"==typeof o&&o&&o instanceof Ji)return o}return new Ji(!1)},Et=/(?:iphone|ipod|ipad).*applewebkit/i.test(lh),qe="process"==Qd(na.process),sk=na.location,un=na.setImmediate,Ft=na.clearImmediate,OD=na.process,Gt=na.MessageChannel,vn=na.Dispatch,wn=0,Ki={},xn=function(t){if(Ki.hasOwnProperty(t)){var n=Ki[t];delete Ki[t],n()}},yn=function(t){return function(){xn(t)}},Ht=function(t){xn(t.data)},It=function(t){na.postMessage(t+"",sk.protocol+"//"+sk.host)};if(!un||!Ft){if(un=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return Ki[++wn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,n)},Li(wn),wn},Ft=function(t){delete Ki[t]},qe)var Li=function(t){OD.nextTick(yn(t))};else if(vn&&vn.now)Li=function(t){vn.now(yn(t))};else if(Gt&&!Et){var Jt=new Gt,Kt=Jt.port2;Jt.port1.onmessage=Ht,Li=tf(Kt.postMessage,Kt,1)}else na.addEventListener&&"function"==typeof postMessage&&!na.importScripts&&sk&&"file:"!==sk.protocol&&!Ga(It)?(Li=It,na.addEventListener("message",Ht,!1)):Li="onreadystatechange"in(dk?hh.createElement("script"):{})?function(t){on.appendChild(dk?hh.createElement("script"):{}).onreadystatechange=function(){on.removeChild(this),xn(t)}}:function(t){setTimeout(yn(t),0)}}var jg,Mi,zn=un,PD=/web0s(?!.*chrome)/i.test(lh),QD=pd.f,Lt=na.MutationObserver||na.WebKitMutationObserver,Mt=na.document,Nt=na.process,tk=na.Promise,Ot=QD(na,"queueMicrotask"),Pt=Ot&&Ot.value;if(!Pt){var vk=function(){var t;for(qe&&(t=Nt.domain)&&t.exit();jg;){var n=jg.fn;jg=jg.next;try{n()}catch(r){throw jg?uk():Mi=void 0,r}}Mi=void 0,t&&t.enter()};if(Et||qe||PD||!Lt||!Mt){if(tk&&tk.resolve){var An=tk.resolve(void 0);An.constructor=tk;var RD=An.then,uk=function(){RD.call(An,vk)}}else uk=qe?function(){Nt.nextTick(vk)}:function(){zn.call(na,vk)}}else{var Qt=!0,Rt=Mt.createTextNode("");new Lt(vk).observe(Rt,{characterData:!0}),uk=function(){Rt.data=Qt=!Qt}}}var St=Pt||function(t){t={fn:t,next:void 0},Mi&&(Mi.next=t),jg||(jg=t,uk()),Mi=t},SD=function(t){var n,r;this.promise=new t(function(t,o){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=o}),this.resolve=Rc(n),this.reject=Rc(r)},Bn={f:function(t){return new SD(t)}},TD=function(t,n){var r=na.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,n))},Cn=function(t){try{return{error:!1,value:t()}}catch(n){return{error:!0,value:n}}},UD="object"==typeof window,VD=mb("species"),Tt=Sb.get,WD=Sb.set,XD=Sb.getterFor("Promise"),kg=qk&&qk.prototype,ed=qk,wk=kg,Ut=na.TypeError,Dn=na.document,En=na.process,rh=Bn.f,YD=rh,ZD=!!(Dn&&Dn.createEvent&&na.dispatchEvent),Vt="function"==typeof PromiseRejectionEvent,Wt=!1,Ni=ne("Promise",function(){var t=Zm(ed)!==String(ed);if(!t&&66===oe)return!0;if(51<=oe&&/native code/.test(ed))return!1;var n=new ed(function(t){t(1)}),r=function(t){t(function(){},function(){})};return(n.constructor={})[VD]=r,!(Wt=n.then(function(){}) instanceof r)||!t&&UD&&!Vt}),$D=Ni||!mk(function(t){ed.all(t).catch(function(){})}),Xt=function(t){var n;return!(!fb(t)||"function"!=typeof(n=t.then))&&n},Fn=function(t,n){if(!t.notified){t.notified=!0;var r=t.reactions;St(function(){for(var o=t.value,i=1==t.state,s=0;r.length>s;){var a,u=r[s++],c=i?u.ok:u.fail,l=u.resolve,f=u.reject,p=u.domain;try{if(c){if(i||(2===t.rejection&&aE(t),t.rejection=1),!0===c)var h=o;else if(p&&p.enter(),h=c(o),p){p.exit();var d=!0}h===u.promise?f(Ut("Promise-chain cycle")):(a=Xt(h))?a.call(h,l,f):l(h)}else f(o)}catch(g){p&&!d&&p.exit(),f(g)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&bE(t)})}},Yt=function(t,n,r){var o;if(ZD){var i=Dn.createEvent("Event");i.promise=n,i.reason=r,i.initEvent(t,!1,!0),na.dispatchEvent(i)}else i={promise:n,reason:r};!Vt&&(o=na["on"+t])?o(i):"unhandledrejection"===t&&TD("Unhandled promise rejection",r)},bE=function(t){zn.call(na,function(){var n=t.facade,r=t.value;if(1!==t.rejection&&!t.parent){var o=Cn(function(){qe?En.emit("unhandledRejection",r,n):Yt("unhandledrejection",n,r)});if(t.rejection=qe||1!==t.rejection&&!t.parent?2:1,o.error)throw o.value}})},aE=function(t){zn.call(na,function(){var n=t.facade;qe?En.emit("rejectionHandled",n):Yt("rejectionhandled",n,t.value)})},sh=function(t,n,r){return function(o){t(n,o,r)}},th=function(t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Fn(t,!0))},Gn=function(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw Ut("Promise can't be resolved itself");var o=Xt(n);o?St(function(){var r={done:!1};try{o.call(n,sh(Gn,r,t),sh(th,r,t))}catch(i){th(r,i,t)}}):(t.value=n,t.state=1,Fn(t,!1))}catch(i){th({done:!1},i,t)}}};if(Ni){wk=(ed=function(t){Ud(this,ed,"Promise"),Rc(t),Hn.call(this);var n=Tt(this);try{t(sh(Gn,n),sh(th,n))}catch(r){th(n,r)}}).prototype;var Hn=function(t){WD(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};Hn.prototype=qh(wk,{then:function(t,n){var r=XD(this),o=rh(eg(this,ed));return o.ok="function"!=typeof t||t,o.fail="function"==typeof n&&n,o.domain=qe?En.domain:void 0,r.parent=!0,r.reactions.push(o),0!=r.state&&Fn(r,!1),o.promise},catch:function(t){return this.then(void 0,t)}});var cE=function(){var t=new Hn,n=Tt(t);this.promise=t,this.resolve=sh(Gn,n),this.reject=sh(th,n)};if(Bn.f=rh=function(t){return t===ed||t===dE?new cE(t):YD(t)},"function"==typeof qk&&kg!==Object.prototype){var eE=kg.then;Wt||(Ob(kg,"then",function(t,n){var r=this;return new ed(function(t,n){eE.call(r,t,n)}).then(t,n)},{unsafe:!0}),Ob(kg,"catch",wk.catch,{unsafe:!0}));try{delete kg.constructor}catch(d){}gc&&gc(kg,wk)}}wa({global:!0,wrap:!0,forced:Ni},{Promise:ed}),Td(ed,"Promise",!1),Ii("Promise");var dE=me("Promise");wa({target:"Promise",stat:!0,forced:Ni},{reject:function(t){var n=rh(this);return n.reject.call(void 0,t),n.promise}}),wa({target:"Promise",stat:!0,forced:Ni},{resolve:function(t){if(ub(this),!fb(t)||t.constructor!==this){var n=Bn.f(this);(0,n.resolve)(t),t=n.promise}return t}}),wa({target:"Promise",stat:!0,forced:$D},{all:function(t){var n=this,r=rh(n),o=r.resolve,i=r.reject,s=Cn(function(){var r=Rc(n.resolve),s=[],a=0,u=1;rk(t,function(t){var c=a++,l=!1;s.push(void 0),u++,r.call(n,t).then(function(t){l||(l=!0,s[c]=t,--u||o(s))},i)}),--u||o(s)});return s.error&&i(s.value),r.promise},race:function(t){var n=this,r=rh(n),o=r.reject,i=Cn(function(){var i=Rc(n.resolve);rk(t,function(t){i.call(n,t).then(r.resolve,o)})});return i.error&&o(i.value),r.promise}});var fE=Math.floor,gE="".replace,hE=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,iE=/\$([$&'`]|\d{1,2})/g,jE=function(t,n,r,o,i,s){var a=r+t.length,u=o.length,c=iE;return void 0!==i&&(i=Zb(i),c=hE),gE.call(s,c,function(s,c){switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(a);case"<":s=i[c.slice(1,-1)];break;default:var l=+c;if(0===l)return s;if(l>u)return 0===(l=fE(l/10))?s:l<=u?void 0===o[l-1]?c.charAt(1):o[l-1]+c.charAt(1):s;s=o[l-1]}return void 0===s?"":s})},kE=Math.max,lE=Math.min;jk("replace",2,function(t,n,r,o){var i=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,s=o.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(r,o){var i=Ec(this),s=null==r?void 0:r[t];return void 0!==s?s.call(r,i,o):n.call(String(i),r,o)},function(t,o){if(!i&&s||"string"==typeof o&&-1===o.indexOf(a)){var u=r(n,t,this,o);if(u.done)return u.value}var c=ub(t);t=String(this),(u="function"==typeof o)||(o=String(o));var l=c.global;if(l){var f=c.unicode;c.lastIndex=0}for(var p=[];;){var h=mh(c,t);if(null===h||(p.push(h),!l))break;""===String(h[0])&&(c.lastIndex=hn(t,xb(c.lastIndex),f))}for(f="",l=c=0;l<p.length;l++){h=p[l];for(var d=String(h[0]),g=kE(lE(Rd(h.index),t.length),0),v=[],y=1;y<h.length;y++){var b=v,m=h[y];b.push.call(b,void 0===m?m:String(m))}h=h.groups,u?(v=[d].concat(v,g,t),void 0!==h&&v.push(h),h=String(o.apply(void 0,v))):h=jE(d,t,g,v,h,o),g>=c&&(f+=t.slice(c,g)+h,c=g+d.length)}return f+t.slice(c)}]});var mE=Fi("slice"),nE=mb("species"),oE=[].slice,pE=Math.max;wa({target:"Array",proto:!0,forced:!mE},{slice:function(t,n){var r=Qc(this),o=xb(r.length);if(t=dd(t,o),n=dd(void 0===n?o:n,o),uf(r)){var i=r.constructor;if("function"==typeof i&&(i===Array||uf(i.prototype))?i=void 0:fb(i)&&null===(i=i[nE])&&(i=void 0),i===Array||void 0===i)return oE.call(r,t,n)}for(i=new(void 0===i?Array:i)(pE(n-t,0)),o=0;t<n;t++,o++)t in r&&oh(i,o,r[t]);return i.length=o,i}});var qE=Sb.set,rE=Sb.getterFor("Array Iterator"),xf=rn(Array,"Array",function(t,n){qE(this,{type:"Array Iterator",target:Qc(t),index:0,kind:n})},function(){var t=rE(this),n=t.target,r=t.kind,o=t.index++;return!n||o>=n.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:o,done:!1}:"values"==r?{value:n[o],done:!1}:{value:[o,n[o]],done:!1}},"values");nh.Arguments=nh.Array,wf("keys"),wf("values"),wf("entries");var Zt="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,uh=function(t){if(void 0===t)return 0;var n=xb(t=Rd(t));if(t!==n)throw RangeError("Wrong length or index");return n},sE=Math.abs,Je=Math.pow,tE=Math.floor,uE=Math.log,vE=Math.LN2,In=function(t){var n=Zb(this),r=xb(n.length),o=arguments.length,i=dd(1<o?arguments[1]:void 0,r);for(r=void 0===(o=2<o?arguments[2]:void 0)?r:dd(o,r);r>i;)n[i++]=t;return n},wE=dg.f,xE=$b.f,vh=Sb.get,$t=Sb.set,Vd=na.ArrayBuffer,fd=Vd,Wd=na.DataView,xk=Wd&&Wd.prototype,au=Object.prototype,yk=na.RangeError,bu=function(t,n,r){var o,i=Array(r),s=(1<<(r=8*r-n-1))-1,a=s>>1,u=23===n?Je(2,-24)-Je(2,-77):0,c=0>t||0===t&&0>1/t?1:0,l=0;if((t=sE(t))!=t||1/0===t){t=t!=t?1:0;var f=s}else f=tE(uE(t)/vE),1>t*(o=Je(2,-f))&&(f--,o*=2),2<=(t=1<=f+a?t+u/o:t+u*Je(2,1-a))*o&&(f++,o/=2),f+a>=s?(t=0,f=s):1<=f+a?(t=(t*o-1)*Je(2,n),f+=a):(t=t*Je(2,a-1)*Je(2,n),f=0);for(;8<=n;i[l++]=255&t,t/=256,n-=8);for(f=f<<n|t,r+=n;0<r;i[l++]=255&f,f/=256,r-=8);return i[--l]|=128*c,i},cu=function(t,n){var r=t.length,o=8*r-n-1,i=(1<<o)-1,s=i>>1;o-=7,--r;var a=t[r--],u=127&a;for(a>>=7;0<o;u=256*u+t[r],r--,o-=8);var c=u&(1<<-o)-1;for(u>>=-o,o+=n;0<o;c=256*c+t[r],r--,o-=8);if(0===u)u=1-s;else{if(u===i)return c?NaN:a?-1/0:1/0;c+=Je(2,n),u-=s}return(a?-1:1)*c*Je(2,u-n)},du=function(t){return[255&t]},eu=function(t){return[255&t,t>>8&255]},fu=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},gu=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},yE=function(t){return bu(t,23,4)},zE=function(t){return bu(t,52,8)},zk=function(t,n){xE(t.prototype,n,{get:function(){return vh(this)[n]}})},yf=function(t,n,r,o){r=uh(r);var i=vh(t);if(r+n>i.byteLength)throw yk("Wrong index");return t=vh(i.buffer).bytes,r+=i.byteOffset,n=t.slice(r,r+n),o?n:n.reverse()},zf=function(t,n,r,o,i,s){r=uh(r);var a=vh(t);if(r+n>a.byteLength)throw yk("Wrong index");for(t=vh(a.buffer).bytes,r+=a.byteOffset,o=o(+i),i=0;i<n;i++)t[r+i]=o[s?i:n-i-1]};if(Zt){if(!Ga(function(){Vd(1)})||!Ga(function(){new Vd(-1)})||Ga(function(){return new Vd,new Vd(1.5),new Vd(NaN),"ArrayBuffer"!=Vd.name})){fd=function(t){return Ud(this,fd),new Vd(uh(t))};for(var Jn,AE=fd.prototype=Vd.prototype,hu=wE(Vd),iu=0;hu.length>iu;)(Jn=hu[iu++])in fd||ac(fd,Jn,Vd[Jn]);AE.constructor=fd}gc&&Md(xk)!==au&&gc(xk,au);var Ak=new Wd(new fd(2)),ju=xk.setInt8;Ak.setInt8(0,2147483648),Ak.setInt8(1,2147483649),!Ak.getInt8(0)&&Ak.getInt8(1)||qh(xk,{setInt8:function(t,n){ju.call(this,t,n<<24>>24)},setUint8:function(t,n){ju.call(this,t,n<<24>>24)}},{unsafe:!0})}else fd=function(t){Ud(this,fd,"ArrayBuffer"),t=uh(t),$t(this,{bytes:In.call(Array(t),0),byteLength:t}),cb||(this.byteLength=t)},Wd=function(t,n,r){Ud(this,Wd,"DataView"),Ud(t,fd,"DataView");var o=vh(t).byteLength;if(0>(n=Rd(n))||n>o)throw yk("Wrong offset");if(n+(r=void 0===r?o-n:xb(r))>o)throw yk("Wrong length");$t(this,{buffer:t,byteLength:r,byteOffset:n}),cb||(this.buffer=t,this.byteLength=r,this.byteOffset=n)},cb&&(zk(fd,"byteLength"),zk(Wd,"buffer"),zk(Wd,"byteLength"),zk(Wd,"byteOffset")),qh(Wd.prototype,{getInt8:function(t){return yf(this,1,t)[0]<<24>>24},getUint8:function(t){return yf(this,1,t)[0]},getInt16:function(t){var n=yf(this,2,t,1<arguments.length?arguments[1]:void 0);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=yf(this,2,t,1<arguments.length?arguments[1]:void 0);return n[1]<<8|n[0]},getInt32:function(t){return gu(yf(this,4,t,1<arguments.length?arguments[1]:void 0))},getUint32:function(t){return gu(yf(this,4,t,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(t){return cu(yf(this,4,t,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(t){return cu(yf(this,8,t,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(t,n){zf(this,1,t,du,n)},setUint8:function(t,n){zf(this,1,t,du,n)},setInt16:function(t,n){zf(this,2,t,eu,n,2<arguments.length?arguments[2]:void 0)},setUint16:function(t,n){zf(this,2,t,eu,n,2<arguments.length?arguments[2]:void 0)},setInt32:function(t,n){zf(this,4,t,fu,n,2<arguments.length?arguments[2]:void 0)},setUint32:function(t,n){zf(this,4,t,fu,n,2<arguments.length?arguments[2]:void 0)},setFloat32:function(t,n){zf(this,4,t,yE,n,2<arguments.length?arguments[2]:void 0)},setFloat64:function(t,n){zf(this,8,t,zE,n,2<arguments.length?arguments[2]:void 0)}});Td(fd,"ArrayBuffer"),Td(Wd,"DataView");var Oi={ArrayBuffer:fd,DataView:Wd},Kn=Oi.ArrayBuffer,ku=Oi.DataView,lu=Kn.prototype.slice,BE=Ga(function(){return!new Kn(2).slice(1,void 0).byteLength});wa({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:BE},{slice:function(t,n){if(void 0!==lu&&void 0===n)return lu.call(ub(this),t);var r=ub(this).byteLength;t=dd(t,r),n=dd(void 0===n?r:n,r),r=new(eg(this,Kn))(xb(n-t));for(var o=new ku(this),i=new ku(r),s=0;t<n;)i.setUint8(s++,o.getUint8(t++));return r}});var gd,CE=$b.f,Bk=na.Int8Array,Ln=Bk&&Bk.prototype,mu=na.Uint8ClampedArray,nu=mu&&mu.prototype,re=Bk&&Md(Bk),Xd=Ln&&Md(Ln),ou=Object.prototype,pu=ou.isPrototypeOf,qu=mb("toStringTag"),Mn=ih("TYPED_ARRAY_TAG"),Ke=Zt&&!!gc&&"Opera"!==ph(na.opera),ru=!1,se={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},DE={BigInt64Array:8,BigUint64Array:8},Ck=function(t){return!!fb(t)&&(Fa(se,t=ph(t))||Fa(DE,t))};for(gd in se)na[gd]||(Ke=!1);if((!Ke||"function"!=typeof re||re===Function.prototype)&&(re=function(){throw TypeError("Incorrect invocation")},Ke))for(gd in se)na[gd]&&gc(na[gd],re);if((!Ke||!Xd||Xd===ou)&&(Xd=re.prototype,Ke))for(gd in se)na[gd]&&gc(na[gd].prototype,Xd);if(Ke&&Md(nu)!==Xd&&gc(nu,Xd),cb&&!Fa(Xd,qu))for(gd in ru=!0,CE(Xd,qu,{get:function(){return fb(this)?this[Mn]:void 0}}),se)na[gd]&&ac(na[gd],Mn,gd);var Pi=Ke,su=ru&&Mn,Gb=function(t){if(Ck(t))return t;throw TypeError("Target is not a typed array")},wh=function(t){if(gc){if(pu.call(re,t))return t}else for(var n in se)if(Fa(se,gd)){var r=na[n];if(r&&(t===r||pu.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},Cb=function(t,n,r){if(cb){if(r)for(var o in se){var i=na[o];if(i&&Fa(i.prototype,t))try{delete i.prototype[t]}catch(s){}}Xd[t]&&!r||Ob(Xd,t,r?n:Ke&&Ln[t]||n)}},tu=function(t,n,r){var o,i;if(cb){if(gc){if(r){for(o in se)if((i=na[o])&&Fa(i,t))try{delete i[t]}catch(s){}}if(re[t]&&!r)return;try{return Ob(re,t,r?n:Ke&&re[t]||n)}catch(a){}}for(o in se)(i=na[o])&&(!i[t]||r)&&Ob(i,t,n)}},uu=re,Qi=Xd,EE=na.ArrayBuffer,lg=na.Int8Array,Nn=!Pi||!Ga(function(){lg(1)})||!Ga(function(){new lg(-1)})||!mk(function(t){new lg,new lg(null),new lg(1.5),new lg(t)},!0)||Ga(function(){return 1!==new lg(new EE(2),1,void 0).length}),Dk=function(t,n){if(0>(t=Rd(t)))throw RangeError("The argument can't be less than 0");if(t%n)throw RangeError("Wrong offset");return t},On=function(t){var n=Zb(t),r=arguments.length,o=1<r?arguments[1]:void 0,i=void 0!==o,s=Gi(n);if(null!=s&&!ln(s)){var a=s.call(n),u=a.next;for(n=[];!(s=u.call(a)).done;)n.push(s.value)}for(i&&2<r&&(o=tf(o,arguments[2],2)),s=xb(n.length),a=new(wh(this))(s),r=0;s>r;r++)a[r]=i?o(n[r],r):n[r];return a},Ek=function(t,n,r){var o,i;return gc&&"function"==typeof(o=n.constructor)&&o!==r&&fb(i=o.prototype)&&i!==r.prototype&&gc(t,i),t},Ri=kc(function(t){var n=dg.f,r=Sb.get,o=Sb.set,i=$b.f,s=pd.f,a=Math.round,u=na.RangeError,c=Oi.ArrayBuffer,l=Oi.DataView,f=function(t,n){var r=0,o=n.length;for(t=new(wh(t))(o);o>r;)t[r]=n[r++];return t},p=function(t,n){i(t,n,{get:function(){return r(this)[n]}})},h=function(t){var n;return t instanceof c||"ArrayBuffer"==(n=ph(t))||"SharedArrayBuffer"==n},d=function(t,n){return Ck(t)&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},g=function(t,n){return d(t,n=le(n,!0))?ke(2,t[n]):s(t,n)},v=function(t,n,r){return!(d(t,n=le(n,!0))&&fb(r)&&Fa(r,"value"))||Fa(r,"get")||Fa(r,"set")||r.configurable||Fa(r,"writable")&&!r.writable||Fa(r,"enumerable")&&!r.enumerable?i(t,n,r):(t[n]=r.value,t)};cb?(Pi||(pd.f=g,$b.f=v,p(Qi,"buffer"),p(Qi,"byteOffset"),p(Qi,"byteLength"),p(Qi,"length")),wa({target:"Object",stat:!0,forced:!Pi},{getOwnPropertyDescriptor:g,defineProperty:v}),t.exports=function(t,s,p){var d=t.match(/\d+$/)[0]/8,g=t+(p?"Clamped":"")+"Array",v="get"+t,y="set"+t,b=na[g],m=b;t=m&&m.prototype;var E={},_=function(t,n){i(t,n,{get:function(){var t=r(this);return t.view[v](n*d+t.byteOffset,!0)},set:function(t){var o=r(this);p&&(t=0>(t=a(t))?0:255<t?255:255&t),o.view[y](n*d+o.byteOffset,t,!0)},enumerable:!0})};Pi?Nn&&(m=s(function(t,n,r,o){return Ud(t,m,g),Ek(fb(n)?h(n)?void 0!==o?new b(n,Dk(r,d),o):void 0!==r?new b(n,Dk(r,d)):new b(n):Ck(n)?f(m,n):On.call(m,n):new b(uh(n)),t,m)}),gc&&gc(m,uu),fg(n(b),function(t){t in m||ac(m,t,b[t])}),m.prototype=t):(m=s(function(t,n,r,i){Ud(t,m,g);var s=0,a=0;if(fb(n)){if(!h(n))return Ck(n)?f(m,n):On.call(m,n);var p=n;if(a=Dk(r,d),n=n.byteLength,void 0===i){if(n%d||0>(i=n-a))throw u("Wrong length")}else if((i=xb(i)*d)+a>n)throw u("Wrong length");n=i/d}else n=uh(n),p=new c(i=n*d);for(o(t,{buffer:p,byteOffset:a,byteLength:i,length:n,view:new l(p)});s<n;)_(t,s++)}),gc&&gc(m,uu),t=m.prototype=vd(Qi)),t.constructor!==m&&ac(t,"constructor",m),su&&ac(t,su,g),E[g]=m,wa({global:!0,forced:m!=b,sham:!Pi},E),"BYTES_PER_ELEMENT"in m||ac(m,"BYTES_PER_ELEMENT",d),"BYTES_PER_ELEMENT"in t||ac(t,"BYTES_PER_ELEMENT",d),Ii(g)}):t.exports=function(){}});Ri("Uint8",function(t){return function(n,r,o){return t(this,n,r,o)}});var FE=Math.min,GE=[].copyWithin||function(t,n){var r=Zb(this),o=xb(r.length),i=dd(t,o),s=dd(n,o),a=2<arguments.length?arguments[2]:void 0;for(o=FE((void 0===a?o:dd(a,o))-s,o-i),a=1,s<i&&i<s+o&&(a=-1,s+=o-1,i+=o-1);0<o--;)s in r?r[i]=r[s]:delete r[i],i+=a,s+=a;return r};Cb("copyWithin",function(t,n){return GE.call(Gb(this),t,n,2<arguments.length?arguments[2]:void 0)}),Cb("every",function(t){return pD(Gb(this),t,1<arguments.length?arguments[1]:void 0)}),Cb("fill",function(t){return In.apply(Gb(this),arguments)}),Cb("filter",function(t){var n=jt(Gb(this),t,1<arguments.length?arguments[1]:void 0),r=eg(this,this.constructor),o=0,i=n.length;for(r=new(wh(r))(i);i>o;)r[o]=n[o++];return r}),Cb("find",function(t){return kt(Gb(this),t,1<arguments.length?arguments[1]:void 0)}),Cb("findIndex",function(t){return lt(Gb(this),t,1<arguments.length?arguments[1]:void 0)}),Cb("forEach",function(t){fg(Gb(this),t,1<arguments.length?arguments[1]:void 0)}),Cb("includes",function(t){return Ss(Gb(this),t,1<arguments.length?arguments[1]:void 0)}),Cb("indexOf",function(t){return bn(Gb(this),t,1<arguments.length?arguments[1]:void 0)});var vu=mb("iterator"),wu=na.Uint8Array,HE=xf.values,IE=xf.keys,JE=xf.entries,Pn=wu&&wu.prototype[vu],xu=!!Pn&&("values"==Pn.name||null==Pn.name),yu=function(){return HE.call(Gb(this))};Cb("entries",function(){return JE.call(Gb(this))}),Cb("keys",function(){return IE.call(Gb(this))}),Cb("values",yu,!xu),Cb(vu,yu,!xu);var KE=[].join;Cb("join",function(t){return KE.apply(Gb(this),arguments)});var LE=Math.min,Qn=[].lastIndexOf,zu=!!Qn&&0>1/[1].lastIndexOf(1,-0),ME=gg("lastIndexOf"),Rn=zu||!ME?function(t){if(zu)return Qn.apply(this,arguments)||0;var n=Qc(this),r=xb(n.length),o=r-1;for(1<arguments.length&&(o=LE(o,Rd(arguments[1]))),0>o&&(o=r+o);0<=o;o--)if(o in n&&n[o]===t)return o||0;return -1}:Qn;Cb("lastIndexOf",function(t){return Rn.apply(Gb(this),arguments)}),Cb("map",function(t){return it(Gb(this),t,1<arguments.length?arguments[1]:void 0,function(t,n){return new(wh(eg(t,t.constructor)))(n)})});var Au=function(t){return function(n,r,o,i){Rc(r);var s=zi(n=Zb(n)),a=xb(n.length),u=t?a-1:0,c=t?-1:1;if(2>o)for(;;){if(u in s){i=s[u],u+=c;break}if(u+=c,t?0>u:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?0<=u:a>u;u+=c)u in s&&(i=r(i,s[u],u,n));return i}},Bu=Au(!1),Cu=Au(!0);Cb("reduce",function(t){return Bu(Gb(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)}),Cb("reduceRight",function(t){return Cu(Gb(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)});var NE=Math.floor;Cb("reverse",function(){for(var t,n=Gb(this).length,r=NE(n/2),o=0;o<r;)t=this[o],this[o++]=this[--n],this[n]=t;return this});var OE=Ga(function(){new Int8Array(1).set({})});Cb("set",function(t){Gb(this);var n=Dk(1<arguments.length?arguments[1]:void 0,1),r=this.length,o=Zb(t),i=xb(o.length),s=0;if(i+n>r)throw RangeError("Wrong length");for(;s<i;)this[n+s]=o[s++]},OE);var PE=[].slice,QE=Ga(function(){new Int8Array(1).slice()});Cb("slice",function(t,n){t=PE.call(Gb(this),t,n);var r=eg(this,this.constructor);n=0;var o=t.length;for(r=new(wh(r))(o);o>n;)r[n]=t[n++];return r},QE),Cb("some",function(t){return oD(Gb(this),t,1<arguments.length?arguments[1]:void 0)});var RE=[].sort;Cb("sort",function(t){return RE.call(Gb(this),t)}),Cb("subarray",function(t,n){var r=Gb(this),o=r.length;return t=dd(t,o),new(eg(r,r.constructor))(r.buffer,r.byteOffset+t*r.BYTES_PER_ELEMENT,xb((void 0===n?o:dd(n,o))-t))});var Fk=na.Int8Array,Du=[].toLocaleString,SE=[].slice,TE=!!Fk&&Ga(function(){Du.call(new Fk(1))}),UE=Ga(function(){return[1,2].toLocaleString()!=new Fk([1,2]).toLocaleString()})||!Ga(function(){Fk.prototype.toLocaleString.call([1,2])});Cb("toLocaleString",function(){return Du.apply(TE?SE.call(Gb(this)):Gb(this),arguments)},UE);var Eu=na.Uint8Array,VE=Eu&&Eu.prototype||{},Gk=[].toString,WE=[].join;Ga(function(){Gk.call({})})&&(Gk=function(){return WE.call(this)}),Cb("toString",Gk,VE.toString!=Gk);var Fu=Oi.ArrayBuffer;wa({global:!0,forced:na.ArrayBuffer!==Fu},{ArrayBuffer:Fu}),Ii("ArrayBuffer");var XE=$b.f,Sn=Function.prototype,YE=Sn.toString,ZE=/^\s*function ([^ (]*)/;!cb||"name"in Sn||XE(Sn,"name",{configurable:!0,get:function(){try{return YE.call(this).match(ZE)[1]}catch(t){return""}}});var Gu=RegExp.prototype,Hu=Gu.toString,$E=Ga(function(){return"/a/b"!=Hu.call({source:"a",flags:"b"})}),aF="toString"!=Hu.name;($E||aF)&&Ob(RegExp.prototype,"toString",function(){var t=ub(this),n=String(t.source),r=t.flags;return"/"+n+"/"+(t=String(void 0===r&&t instanceof RegExp&&!("flags"in Gu)?hk.call(t):r))},{unsafe:!0});var bF=Fi("splice"),cF=Math.max,dF=Math.min;wa({target:"Array",proto:!0,forced:!bF},{splice:function(t,n){var r,o,i=Zb(this),s=xb(i.length),a=dd(t,s),u=arguments.length;if(0===u?u=r=0:1===u?(u=0,r=s-a):(u-=2,r=dF(cF(Rd(n),0),s-a)),9007199254740991<s+u-r)throw TypeError("Maximum allowed length exceeded");var c=Ei(i,r);for(o=0;o<r;o++){var l=a+o;l in i&&oh(c,o,i[l])}if(c.length=r,u<r){for(o=a;o<s-r;o++){var f=o+u;(l=o+r)in i?i[f]=i[l]:delete i[f]}for(o=s;o>s-r+u;o--)delete i[o-1]}else if(u>r)for(o=s-r;o>a;o--)f=o+u-1,(l=o+r-1)in i?i[f]=i[l]:delete i[f];for(o=0;o<u;o++)i[o+a]=arguments[o+2];return i.length=s-r+u,c}});var Hk,Tn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Un=mb("iterator"),Iu=mb("toStringTag"),Vn=xf.values;for(Hk in Tn){var Ju=na[Hk],Le=Ju&&Ju.prototype;if(Le){if(Le[Un]!==Vn)try{ac(Le,Un,Vn)}catch(d){Le[Un]=Vn}if(Le[Iu]||ac(Le,Iu,Hk),Tn[Hk]){for(var xh in xf)if(Le[xh]!==xf[xh])try{ac(Le,xh,xf[xh])}catch(d){Le[xh]=xf[xh]}}}}var Ku=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};jk("search",1,function(t,n,r){return[function(n){var r=Ec(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):RegExp(n)[t](String(r))},function(t){var o=r(n,t,this);if(o.done)return o.value;t=ub(t);var i=String(this);return Ku(o=t.lastIndex,0)||(t.lastIndex=0),i=mh(t,i),Ku(t.lastIndex,o)||(t.lastIndex=o),null===i?-1:i.index}]}),kc(function(t){!function(n,r){t.exports?t.exports=r(n):r(n)}("undefined"!=typeof self?self:qb,function(t){function n(t){return btoa(t).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function r(t){return atob((t=(t+="===").slice(0,-t.length%4)).replace(/-/g,"+").replace(/_/g,"/"))}function o(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}function i(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),String.fromCharCode.apply(String,t)}function s(t){var n={name:(t.name||t||"").toUpperCase().replace("V","v")};switch(n.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":t.length&&(n.length=t.length);break;case"HMAC":t.hash&&(n.hash=s(t.hash)),t.length&&(n.length=t.length);break;case"RSAES-PKCS1-v1_5":t.publicExponent&&(n.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(n.modulusLength=t.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":t.hash&&(n.hash=s(t.hash)),t.publicExponent&&(n.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(n.modulusLength=t.modulusLength);break;default:throw SyntaxError("Bad algorithm name")}return n}function a(t){return({HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}})[t.name][(t.hash||{}).name||t.length||""]}function u(t){(t instanceof ArrayBuffer||t instanceof Uint8Array)&&(t=JSON.parse(decodeURIComponent(escape(i(t)))));var n={kty:t.kty,alg:t.alg,ext:t.ext||t.extractable};switch(n.kty){case"oct":n.k=t.k;case"RSA":"n e d p q dp dq qi oth".split(" ").forEach(function(r){r in t&&(n[r]=t[r])});break;default:throw TypeError("Unsupported key type")}return n}function c(t){return t=u(t),_&&(t.extractable=t.ext,delete t.ext),o(unescape(encodeURIComponent(JSON.stringify(t)))).buffer}function l(t){var r=f(t),o=!1;if(2<r.length&&(o=!0,r.shift()),t={ext:!0},"1.2.840.113549.1.1.1"===r[0][0]){var s="n e d p q dp dq qi".split(" ");for(r=f(r[1]),o&&r.shift(),o=0;o<r.length;o++)r[o][0]||(r[o]=r[o].subarray(1)),t[s[o]]=n(i(r[o]));t.kty="RSA"}else throw TypeError("Unsupported key type");return t}function f(t,n){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),n||(n={pos:0,end:t.length}),2>n.end-n.pos||n.end>t.length)throw RangeError("Malformed DER");var r=t[n.pos++],o=t[n.pos++];if(128<=o){if(o&=127,n.end-n.pos<o)throw RangeError("Malformed DER");for(var s=0;o--;)s<<=8,s|=t[n.pos++];o=s}if(n.end-n.pos<o)throw RangeError("Malformed DER");switch(r){case 2:r=t.subarray(n.pos,n.pos+=o);break;case 3:if(t[n.pos++])throw Error("Unsupported bit string");o--;case 4:r=new Uint8Array(t.subarray(n.pos,n.pos+=o)).buffer;break;case 5:r=null;break;case 6:if(!((t=btoa(i(t.subarray(n.pos,n.pos+=o))))in O))throw Error("Unsupported OBJECT ID "+t);r=O[t];break;case 48:for(r=[],o=n.pos+o;n.pos<o;)r.push(f(t,n));break;default:throw Error("Unsupported DER tag 0x"+r.toString(16))}return r}function p(t,n){n||(n=[]);var r=n.length+2;if(n.push(0,0),t instanceof Uint8Array)for(var i=2,s=t.length,a=0;a<s;a++)n.push(t[a]);else if(t instanceof ArrayBuffer)for(i=4,s=t.byteLength,t=new Uint8Array(t),a=0;a<s;a++)n.push(t[a]);else if(null===t)i=5,s=0;else if("string"==typeof t&&t in R)for(i=6,s=(t=o(atob(R[t]))).length,a=0;a<s;a++)n.push(t[a]);else if(t instanceof Array){for(a=0;a<t.length;a++)p(t[a],n);i=48,s=n.length-r}else{if(!("object"===Ia(t)&&3===t.tag&&t.value instanceof ArrayBuffer))throw Error("Unsupported DER value "+t);for(i=3,s=(t=new Uint8Array(t.value)).byteLength,n.push(0),a=0;a<s;a++)n.push(t[a]);s++}if(128<=s){for(a=s,s=4,n.splice(r,0,a>>24&255,a>>16&255,a>>8&255,255&a);1<s&&!(a>>24);)a<<=8,s--;4>s&&n.splice(r,4-s),s|=128}return n.splice(r-2,2,i,s),n}function h(t,n,r,o){Object.defineProperties(this,{_key:{value:t},type:{value:t.type,enumerable:!0},extractable:{value:void 0===r?t.extractable:r,enumerable:!0},algorithm:{value:void 0===n?t.algorithm:n,enumerable:!0},usages:{value:void 0===o?t.usages:o,enumerable:!0}})}function d(t){return"verify"===t||"encrypt"===t||"wrapKey"===t}function g(t){return"sign"===t||"decrypt"===t||"unwrapKey"===t}if("function"!=typeof Promise)throw"Promise support required";var v=t.crypto||t.msCrypto;if(v){var y=v.subtle||v.webkitSubtle;if(y){var b=t.Crypto||v.constructor||Object,m=t.SubtleCrypto||y.constructor||Object;t.CryptoKey||t.Key;var E=-1<t.navigator.userAgent.indexOf("Edge/"),_=!!t.msCrypto&&!E,w=!v.subtle&&!!v.webkitSubtle;if(_||w){var O={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},R={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(t){var n=y[t];y[t]=function(i,f,p){var b=[].slice.call(arguments);switch(t){case"generateKey":var m=s(i),E=f,O=p;break;case"importKey":m=s(p),E=b[3],O=b[4],"jwk"===i&&((f=u(f)).alg||(f.alg=a(m)),f.key_ops||(f.key_ops="oct"!==f.kty?"d"in f?O.filter(g):O.filter(d):O.slice()),b[1]=c(f));break;case"unwrapKey":m=b[4],E=b[5],O=b[6],b[2]=p._key}if("generateKey"===t&&"HMAC"===m.name&&m.hash)return m.length=m.length||({"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024})[m.hash.name],y.importKey("raw",v.getRandomValues(new Uint8Array(m.length+7>>3)),m,E,O);if(w&&"generateKey"===t&&"RSASSA-PKCS1-v1_5"===m.name&&(!m.modulusLength||2048<=m.modulusLength))return(i=s(i)).name="RSAES-PKCS1-v1_5",delete i.hash,y.generateKey(i,!0,["encrypt","decrypt"]).then(function(t){return Promise.all([y.exportKey("jwk",t.publicKey),y.exportKey("jwk",t.privateKey)])}).then(function(t){return t[0].alg=t[1].alg=a(m),t[0].key_ops=O.filter(d),t[1].key_ops=O.filter(g),Promise.all([y.importKey("jwk",t[0],m,!0,t[0].key_ops),y.importKey("jwk",t[1],m,E,t[1].key_ops)])}).then(function(t){return{publicKey:t[0],privateKey:t[1]}});if((w||_&&"SHA-1"===(m.hash||{}).name)&&"importKey"===t&&"jwk"===i&&"HMAC"===m.name&&"oct"===f.kty)return y.importKey("raw",o(r(f.k)),p,b[3],b[4]);if(w&&"importKey"===t&&("spki"===i||"pkcs8"===i))return y.importKey("jwk",l(f),p,b[3],b[4]);if(_&&"unwrapKey"===t)return y.decrypt(b[3],p,f).then(function(t){return y.importKey(i,t,b[4],b[5],b[6])});try{var R=n.apply(y,b)}catch(k){return Promise.reject(k)}return _&&(R=new Promise(function(t,n){R.onabort=R.onerror=function(t){n(t)},R.oncomplete=function(n){t(n.target.result)}})),R=R.then(function(t){return"HMAC"!==m.name||m.length||(m.length=8*t.algorithm.length),0==m.name.search("RSA")&&(m.modulusLength||(m.modulusLength=(t.publicKey||t).algorithm.modulusLength),m.publicExponent||(m.publicExponent=(t.publicKey||t).algorithm.publicExponent)),t.publicKey&&t.privateKey?{publicKey:new h(t.publicKey,m,E,O.filter(d)),privateKey:new h(t.privateKey,m,E,O.filter(g))}:new h(t,m,E,O)})}}),["exportKey","wrapKey"].forEach(function(t){var s=y[t];y[t]=function(c,l,f){var h=[].slice.call(arguments);switch(t){case"exportKey":h[1]=l._key;break;case"wrapKey":h[1]=l._key,h[2]=f._key}if((w||_&&"SHA-1"===(l.algorithm.hash||{}).name)&&"exportKey"===t&&"jwk"===c&&"HMAC"===l.algorithm.name&&(h[0]="raw"),w&&"exportKey"===t&&("spki"===c||"pkcs8"===c)&&(h[0]="jwk"),_&&"wrapKey"===t)return y.exportKey(c,l).then(function(t){return"jwk"===c&&(t=o(unescape(encodeURIComponent(JSON.stringify(u(t)))))),y.encrypt(h[3],f,t)});try{var v=s.apply(y,h)}catch(b){return Promise.reject(b)}return _&&(v=new Promise(function(t,n){v.onabort=v.onerror=function(t){n(t)},v.oncomplete=function(n){t(n.target.result)}})),"exportKey"===t&&"jwk"===c&&(v=v.then(function(t){return(w||_&&"SHA-1"===(l.algorithm.hash||{}).name)&&"HMAC"===l.algorithm.name?{kty:"oct",alg:a(l.algorithm),key_ops:l.usages.slice(),ext:!0,k:n(i(t))}:((t=u(t)).alg||(t.alg=a(l.algorithm)),t.key_ops||(t.key_ops="public"===l.type?l.usages.filter(d):"private"===l.type?l.usages.filter(g):l.usages.slice()),t)})),w&&"exportKey"===t&&("spki"===c||"pkcs8"===c)&&(v=v.then(function(t){var n=[["",null]],i=!1;if("RSA"===(t=u(t)).kty){for(var s="n e d p q dp dq qi".split(" "),a=[],c=0;c<s.length&&(s[c]in t);c++){var l=a[c]=o(r(t[s[c]]));128&l[0]&&(a[c]=new Uint8Array(l.length+1),a[c].set(l,1))}2<a.length&&(i=!0,a.unshift(new Uint8Array([0]))),n[0][0]="1.2.840.113549.1.1.1"}else throw TypeError("Unsupported key type");return n.push(new Uint8Array(p(a)).buffer),i?n.unshift(new Uint8Array([0])):n[1]={tag:3,value:n[1]},new Uint8Array(p(n)).buffer})),v}}),["encrypt","decrypt","sign","verify"].forEach(function(t){var n=y[t];y[t]=function(r,o,i,a){if(_&&(!i.byteLength||a&&!a.byteLength))throw Error("Empty input is not allowed");var u=[].slice.call(arguments),c=s(r);if(_&&("sign"===t||"verify"===t)&&("RSASSA-PKCS1-v1_5"===r||"HMAC"===r)&&(u[0]={name:r}),_&&o.algorithm.hash&&(u[0].hash=u[0].hash||o.algorithm.hash),_&&"decrypt"===t&&"AES-GCM"===c.name){var l=r.tagLength>>3;u[2]=(i.buffer||i).slice(0,i.byteLength-l),r.tag=(i.buffer||i).slice(i.byteLength-l)}_&&"AES-GCM"===c.name&&void 0===u[0].tagLength&&(u[0].tagLength=128),u[1]=o._key;try{var f=n.apply(y,u)}catch(p){return Promise.reject(p)}return _&&(f=new Promise(function(n,r){f.onabort=f.onerror=function(t){r(t)},f.oncomplete=function(r){if(r=r.target.result,"encrypt"===t&&r instanceof AesGcmEncryptResult){var o=r.ciphertext,i=r.tag;(r=new Uint8Array(o.byteLength+i.byteLength)).set(new Uint8Array(o),0),r.set(new Uint8Array(i),o.byteLength),r=r.buffer}n(r)}})),f}}),_){var k=y.digest;y.digest=function(t,n){if(!n.byteLength)throw Error("Empty input is not allowed");try{var r=k.call(y,t,n)}catch(o){return Promise.reject(o)}return r=new Promise(function(t,n){r.onabort=r.onerror=function(t){n(t)},r.oncomplete=function(n){t(n.target.result)}})},t.crypto=Object.create(v,{getRandomValues:{value:function(t){return v.getRandomValues(t)}},subtle:{value:y}}),t.CryptoKey=h}w&&(v.subtle=y,t.Crypto=b,t.SubtleCrypto=m,t.CryptoKey=h)}}}})}),function(t){t.console||(t.console={}),t=t.console;for(var n,r=function(){},o=["memory"],i="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");n=o.pop();)t[n]||(t[n]={});for(;n=i.pop();)t[n]||(t[n]=r)}("undefined"==typeof window?qb:window),wa({target:"Object",stat:!0},{setPrototypeOf:gc});var eF=Ga(function(){Md(1)});wa({target:"Object",stat:!0,forced:eF,sham:!qt},{getPrototypeOf:function(t){return Md(Zb(t))}});var Lu=[].slice,Wn={},fF=Function.bind||function(t){var n=Rc(this),r=Lu.call(arguments,1),o=function(){var i=r.concat(Lu.call(arguments));if(this instanceof o){var s=i.length;if(!(s in Wn)){for(var a=[],u=0;u<s;u++)a[u]="a["+u+"]";Wn[s]=Function("C,a","return new C("+a.join(",")+")")}i=Wn[s](n,i)}else i=n.apply(t,i);return i};return fb(n.prototype)&&(o.prototype=n.prototype),o},Xn=me("Reflect","construct"),Mu=Ga(function(){function t(){}return!(Xn(function(){},[],t) instanceof t)}),Nu=!Ga(function(){Xn(function(){})}),Ou=Mu||Nu;wa({target:"Reflect",stat:!0,forced:Ou,sham:Ou},{construct:function(t,n){Rc(t),ub(n);var r=3>arguments.length?t:Rc(arguments[2]);if(Nu&&!Mu)return Xn(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}return(r=[null]).push.apply(r,n),new(fF.apply(t,r))}r=vd(fb(r=r.prototype)?r:Object.prototype);var o=Function.apply.call(t,r,n);return fb(o)?o:r}}),wa({target:"Reflect",stat:!0},{get:cr});var Pu=pd.f,gF=Ga(function(){Pu(1)});wa({target:"Object",stat:!0,forced:!cb||gF,sham:!cb},{getOwnPropertyDescriptor:function(t,n){return Pu(Qc(t),n)}});var Qu=dg.f,hF={}.toString,Ru="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Yn=function(t){if(Ru&&"[object Window]"==hF.call(t))try{var n=Qu(t)}catch(r){n=Ru.slice()}else n=Qu(Qc(t));return n},Su={f:mb},iF=$b.f,Ik=function(t){var n=na.Symbol||(na.Symbol={});Fa(n,t)||iF(n,t,{value:Su.f(t)})},Sc=ek("hidden"),Tu=mb("toPrimitive"),jF=Sb.set,Uu=Sb.getterFor("Symbol"),wd=Object.prototype,Tc=na.Symbol,Si=me("JSON","stringify"),Vu=pd.f,Af=$b.f,Wu=Yn,kF=yi,Me=rf("symbols"),Ti=rf("op-symbols"),Zn=rf("string-to-symbol-registry"),$n=rf("symbol-to-string-registry"),lF=rf("wks"),ao=na.QObject,bo=!ao||!ao.prototype||!ao.prototype.findChild,co=cb&&Ga(function(){return 7!=vd(Af({},"a",{get:function(){return Af(this,"a",{value:7}).a}})).a})?function(t,n,r){var o=Vu(wd,n);o&&delete wd[n],Af(t,n,r),o&&t!==wd&&Af(wd,n,o)}:Af,eo=function(t,n){var r=Me[t]=vd(Tc.prototype);return jF(r,{type:"Symbol",tag:t,description:n}),cb||(r.description=n),r},fo=at?function(t){return"symbol"==typeof t}:function(t){return Object(t) instanceof Tc},Jk=function(t,n,r){return t===wd&&Jk(Ti,n,r),ub(t),n=le(n,!0),ub(r),Fa(Me,n)?(r.enumerable?(Fa(t,Sc)&&t[Sc][n]&&(t[Sc][n]=!1),r=vd(r,{enumerable:ke(0,!1)})):(Fa(t,Sc)||Af(t,Sc,ke(1,{})),t[Sc][n]=!0),co(t,n,r)):Af(t,n,r)},Xu=function(t,n){ub(t);var r=Qc(n);return n=Ie(r).concat(go(r)),fg(n,function(n){cb&&!ho.call(r,n)||Jk(t,n,r[n])}),t},ho=function(t){t=le(t,!0);var n=kF.call(this,t);return!(this===wd&&Fa(Me,t)&&!Fa(Ti,t))&&(!(n||!Fa(this,t)||!Fa(Me,t)||Fa(this,Sc)&&this[Sc][t])||n)},Yu=function(t,n){if(t=Qc(t),n=le(n,!0),t!==wd||!Fa(Me,n)||Fa(Ti,n)){var r=Vu(t,n);return!r||!Fa(Me,n)||Fa(t,Sc)&&t[Sc][n]||(r.enumerable=!0),r}},Zu=function(t){t=Wu(Qc(t));var n=[];return fg(t,function(t){Fa(Me,t)||Fa(jh,t)||n.push(t)}),n},go=function(t){var n=t===wd;t=Wu(n?Ti:Qc(t));var r=[];return fg(t,function(t){Fa(Me,t)&&(!n||Fa(wd,t))&&r.push(Me[t])}),r};pe||(Tc=function(){if(this instanceof Tc)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=ih(t),r=function(t){this===wd&&r.call(Ti,t),Fa(this,Sc)&&Fa(this[Sc],n)&&(this[Sc][n]=!1),co(this,n,ke(1,t))};return cb&&bo&&co(wd,n,{configurable:!0,set:r}),eo(n,t)},Ob(Tc.prototype,"toString",function(){return Uu(this).tag}),Ob(Tc,"withoutSetter",function(t){return eo(ih(t),t)}),yi=ho,$b.f=Jk,pd.f=Yu,dg.f=Yn=Zu,Ai.f=go,Su.f=function(t){return eo(mb(t),t)},cb&&(Af(Tc.prototype,"description",{configurable:!0,get:function(){return Uu(this).description}}),Ob(wd,"propertyIsEnumerable",ho,{unsafe:!0}))),wa({global:!0,wrap:!0,forced:!pe,sham:!pe},{Symbol:Tc}),fg(Ie(lF),function(t){Ik(t)}),wa({target:"Symbol",stat:!0,forced:!pe},{for:function(t){if(Fa(Zn,t=String(t)))return Zn[t];var n=Tc(t);return Zn[t]=n,$n[n]=t,n},keyFor:function(t){if(!fo(t))throw TypeError(t+" is not a symbol");if(Fa($n,t))return $n[t]},useSetter:function(){bo=!0},useSimple:function(){bo=!1}}),wa({target:"Object",stat:!0,forced:!pe,sham:!cb},{create:function(t,n){return void 0===n?vd(t):Xu(vd(t),n)},defineProperty:Jk,defineProperties:Xu,getOwnPropertyDescriptor:Yu}),wa({target:"Object",stat:!0,forced:!pe},{getOwnPropertyNames:Zu,getOwnPropertySymbols:go}),wa({target:"Object",stat:!0,forced:Ga(function(){Ai.f(1)})},{getOwnPropertySymbols:function(t){return Ai.f(Zb(t))}}),Si&&wa({target:"JSON",stat:!0,forced:!pe||Ga(function(){var t=Tc();return"[null]"!=Si([t])||"{}"!=Si({a:t})||"{}"!=Si(Object(t))})},{stringify:function(t,n,r){for(var o,i=[t],s=1;arguments.length>s;)i.push(arguments[s++]);if(o=n,(fb(n)||void 0!==t)&&!fo(t))return uf(n)||(n=function(t,n){if("function"==typeof o&&(n=o.call(this,t,n)),!fo(n))return n}),i[1]=n,Si.apply(null,i)}}),Tc.prototype[Tu]||ac(Tc.prototype,Tu,Tc.prototype.valueOf),Td(Tc,"Symbol"),jh[Sc]=!0;var nF=$b.f,Ne=na.Symbol;if(cb&&"function"==typeof Ne&&(!("description"in Ne.prototype)||void 0!==Ne().description)){var $u={},Ui=function(){var t=1>arguments.length||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof Ui?new Ne(t):void 0===t?Ne():Ne(t);return""===t&&($u[n]=!0),n};Vs(Ui,Ne);var io=Ui.prototype=Ne.prototype;io.constructor=Ui;var oF=io.toString,pF="Symbol(test)"==String(Ne("test")),qF=/^Symbol\((.*)\)[^)]+$/;nF(io,"description",{configurable:!0,get:function(){var t=fb(this)?this.valueOf():this,n=oF.call(t);return Fa($u,t)?"":""===(t=pF?n.slice(7,-1):n.replace(qF,"$1"))?void 0:t}}),wa({global:!0,forced:!0},{Symbol:Ui})}Ik("toStringTag"),Td(na.JSON,"JSON",!0),Td(Math,"Math",!0),function(){function t(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")}function n(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,r,o){return r&&n(t.prototype,r),o&&n(t,o),t}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,n){return(i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r=o(t);if(n){var i=o(this).constructor;r=Reflect.construct(r,arguments,i)}else r=r.apply(this,arguments);return r&&("object"===Ia(r)||"function"==typeof r)?r:s(this)}}function u(t,n,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););if(t)return(n=Object.getOwnPropertyDescriptor(t,n)).get?n.get.call(r):n.value})(t,n,r||t)}var c=function(){function n(){t(this,n),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(n,[{key:"addEventListener",value:function(t,n,r){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:n,options:r})}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners){for(var r=0,o=(t=this.listeners[t]).length;r<o;r++)if(t[r].callback===n){t.splice(r,1);break}}}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var n=this.listeners[t.type].slice(),r=0,o=n.length;r<o;r++){var i=n[r];try{i.callback.call(this,t)}catch(s){Promise.resolve().then(function(){throw s})}i.options&&i.options.once&&this.removeEventListener(t.type,i.callback)}return!t.defaultPrevented}}}]),n}(),l=function(n){function l(){t(this,l);var n=f.call(this);return n.listeners||c.call(s(n)),Object.defineProperty(s(n),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(n),"onabort",{value:null,writable:!0,configurable:!0}),n}!function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}(l,n);var f=a(l);return r(l,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),u(o(l.prototype),"dispatchEvent",this).call(this,t)}}]),l}(c),f=function(){function n(){t(this,n),Object.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(n,[{key:"abort",value:function(){try{var t=new Event("abort")}catch(n){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),n}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),function(t){if(t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");var n=!0}else n="function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController;n&&(t.AbortController=f,t.AbortSignal=l)}("undefined"!=typeof self?self:qb)}();var rF=Math.floor,sF=Math.log,tF=Math.LOG2E;wa({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-rF(sF(t+.5)*tF):32}});var lo,uF=Math.log,vF=Math.LN2,NA=Math.clz32||function(t){return 31-uF(t>>>0)/vF|0},Uf=String.fromCharCode,av={}.toString,jo=window.Uint8Array,ko=jo||Array,wF=av.call((window.ArrayBuffer||ko).prototype);dr.prototype.decode=function(t){if(t=t&&t.buffer||t,av.call(t)!==wF)throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");for(var n="",r=0,o=0|(t=jo?new ko(t):t).length;r<o;r=r+32768|0)n+=Uf.apply(0,t[jo?"slice":"subarray"](r,r+32768|0));return n.replace(/[\xc0-\xff][\x80-\xbf]*/g,MA)},window.TextDecoder||(window.TextDecoder=dr),er.prototype.encode=function(t){for(var n=0|(t=void 0===t?"":(""+t).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,OA)).length,r=new ko(n),o=0;o<n;o=o+1|0)r[o]=t.charCodeAt(o);return r},window.TextEncoder||(window.TextEncoder=er),function(t){var n,r,o,i,s,a,u,c,l,f,p,h,d;(r=n||(n={})).LOGIN="LOGIN",r.LOGIN_SUCCESS="LOGIN_SUCCESS",r.LOGIN_FAILURE="LOGIN_FAILURE",r.LOGIN_TIMEOUT="LOGIN_TIMEOUT",r.INTERRUPTED="INTERRUPTED",r.LOGOUT="LOGOUT",r.BANNED_BY_SERVER="BANNED_BY_SERVER",r.REMOTE_LOGIN="REMOTE_LOGIN",r.TOKEN_EXPIRED="TOKEN_EXPIRED",t.ConnectionChangeReason=n,function(t){t.DISCONNECTED="DISCONNECTED",t.CONNECTING="CONNECTING",t.CONNECTED="CONNECTED",t.RECONNECTING="RECONNECTING",t.ABORTED="ABORTED"}(o||(o={})),t.ConnectionState=o,function(t){t.IDLE="IDLE",t.SENT_TO_REMOTE="SENT_TO_REMOTE",t.RECEIVED_BY_REMOTE="RECEIVED_BY_REMOTE",t.ACCEPTED_BY_REMOTE="ACCEPTED_BY_REMOTE",t.REFUSED_BY_REMOTE="REFUSED_BY_REMOTE",t.CANCELED="CANCELED",t.FAILURE="FAILURE"}(i||(i={})),t.LocalInvitationState=i,function(t){t.INVITATION_RECEIVED="INVITATION_RECEIVED",t.ACCEPT_SENT_TO_LOCAL="ACCEPT_SENT_TO_LOCAL",t.REFUSED="REFUSED",t.ACCEPTED="ACCEPTED",t.CANCELED="CANCELED",t.FAILURE="FAILURE"}(s||(s={})),t.RemoteInvitationState=s,function(t){t.UNKNOWN="UNKNOWN",t.PEER_NO_RESPONSE="PEER_NO_RESPONSE",t.INVITATION_EXPIRE="INVITATION_EXPIRE",t.PEER_OFFLINE="PEER_OFFLINE",t.NOT_LOGGEDIN="NOT_LOGGEDIN"}(a||(a={})),t.LocalInvitationFailureReason=a,function(t){t.UNKNOWN="UNKNOWN",t.PEER_OFFLINE="PEER_OFFLINE",t.ACCEPT_FAILURE="ACCEPT_FAILURE",t.INVITATION_EXPIRE="INVITATION_EXPIRE"}(u||(u={})),t.RemoteInvitationFailureReason=u,function(t){t.ONLINE="ONLINE",t.UNREACHABLE="UNREACHABLE",t.OFFLINE="OFFLINE"}(c||(c={})),t.PeerOnlineState=c,function(t){t.UNSUBSCRIBED="UNSUBSCRIBED",t.SUBSCRIBED="SUBSCRIBED"}(l||(l={})),t.subscribedState=l,(f||(f={})).ONLINE_STATUS="ONLINE_STATUS",t.PeerSubscriptionOption=f,function(t){t.TEXT="TEXT",t.RAW="RAW"}(p||(p={})),t.MessageType=p,function(t){t.CN="CN",t.NA="NA",t.EU="EU",t.AS="AS",t.JP="JP",t.IN="IN",t.GLOB="GLOB",t.OC="OC",t.SA="SA",t.AF="AF",t.OVS="OVS"}(h||(h={})),t.LegacyAreaCode=h,function(t){t.GLOBAL="GLOBAL",t.INDIA="INDIA",t.JAPAN="JAPAN",t.ASIA="ASIA",t.EUROPE="EUROPE",t.CHINA="CHINA",t.NORTH_AMERICA="NORTH_AMERICA"}(d||(d={})),t.AreaCode=d}(lo||(lo={}));var Oa=lo;wa({target:"Array",proto:!0},{includes:function(t){return Ss(this,t,1<arguments.length?arguments[1]:void 0)}}),wf("includes");var mo=function(t){if(gn(t))throw TypeError("The method doesn't accept regular expressions");return t},xF=mb("match"),no=function(t){var n=/./;try{"/./"[t](n)}catch(o){try{return n[xF]=!1,"/./"[t](n)}catch(r){}}return!1};wa({target:"String",proto:!0,forced:!no("includes")},{includes:function(t){return!!~String(Ec(this)).indexOf(mo(t),1<arguments.length?arguments[1]:void 0)}});var Yd={RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:3e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0};Ik("iterator"),Ik("asyncIterator");var bv,oo=gg("forEach")?[].forEach:function(t){return fg(this,t,1<arguments.length?arguments[1]:void 0)};for(bv in Tn){var cv=na[bv],Kk=cv&&cv.prototype;if(Kk&&Kk.forEach!==oo)try{ac(Kk,"forEach",oo)}catch(d){Kk.forEach=oo}}var yF=[].reverse,dv=[1,2];wa({target:"Array",proto:!0,forced:String(dv)===String(dv.reverse())},{reverse:function(){return uf(this)&&(this.length=this.length),yF.call(this)}});var W=kc(function(t){t=function(t){function n(t,n,r){return Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[n]}function r(t,n,r,s){return n=Object.create((n&&n.prototype instanceof i?n:i).prototype),s=new h(s||[]),n._invoke=function(t,n,r){var i=R;return function(s,a){if(i===T)throw Error("Generator is already running");if(i===S){if("throw"===s)throw a;return g()}for(r.method=s,r.arg=a;;){if((s=r.delegate)&&(s=l(s,r))){if(s===A)continue;return s}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===R)throw i=S,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);if(i=T,"normal"===(s=o(t,n,r)).type){if(i=r.done?S:k,s.arg===A)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=S,r.method="throw",r.arg=s.arg)}}}(t,r,s),n}function o(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(o){return{type:"throw",arg:o}}}function i(){}function s(){}function a(){}function u(t){["next","throw","return"].forEach(function(r){n(t,r,function(t){return this._invoke(r,t)})})}function c(t,n){var r;function i(r,s,a,u){if("throw"!==(r=o(t[r],t,s)).type){var c=r.arg;return(r=c.value)&&"object"===Ia(r)&&b.call(r,"__await")?n.resolve(r.__await).then(function(t){i("next",t,a,u)},function(t){i("throw",t,a,u)}):n.resolve(r).then(function(t){c.value=t,a(c)},function(t){return i("throw",t,a,u)})}u(r.arg)}this._invoke=function(t,o){function s(){return new n(function(n,r){i(t,o,n,r)})}return r=r?r.then(s,s):s()}}function l(t,n){var r=t.iterator[n.method];if(r===v){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=v,l(t,n),"throw"===n.method))return A;n.method="throw",n.arg=TypeError("The iterator does not provide a 'throw' method")}return A}return"throw"===(r=o(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,A):(r=r.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=v),n.delegate=null,A):r:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,A)}function f(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function p(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function d(t){if(t){var n=t[E];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1;return(n=function n(){for(;++r<t.length;)if(b.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=v,n.done=!0,n}).next=n}}return{next:g}}function g(){return{value:v,done:!0}}var v,y=Object.prototype,b=y.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},E=m.iterator||"@@iterator",_=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{n({},"")}catch(O){n=function(t,n,r){return t[n]=r}}t.wrap=r;var R="suspendedStart",k="suspendedYield",T="executing",S="completed",A={};n(m={},E,function(){return this});var I=Object.getPrototypeOf;(I=I&&I(I(d([]))))&&I!==y&&b.call(I,E)&&(m=I);var N=a.prototype=i.prototype=Object.create(m);return s.prototype=a,n(N,"constructor",a),n(a,"constructor",s),s.displayName=n(a,w,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,n(t,w,"GeneratorFunction")),t.prototype=Object.create(N),t},t.awrap=function(t){return{__await:t}},u(c.prototype),n(c.prototype,_,function(){return this}),t.AsyncIterator=c,t.async=function(n,o,i,s,a){void 0===a&&(a=Promise);var u=new c(r(n,o,i,s),a);return t.isGeneratorFunction(o)?u:u.next().then(function(t){return t.done?t.value:u.next()})},u(N),n(N,w,"Generator"),n(N,E,function(){return this}),n(N,"toString",function(){return"[object Generator]"}),t.keys=function(t){var n,r=[];for(n in t)r.push(n);return r.reverse(),function n(){for(;r.length;){var o=r.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=d,h.prototype={constructor:h,reset:function(t){if(this.next=this.prev=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!t)for(var n in this)"t"===n.charAt(0)&&b.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=v),!!o}if(this.done)throw t;for(var r=this,o=this.tryEntries.length-1;0<=o;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=b.call(i,"catchLoc"),u=b.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&b.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}return i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null),(r=i?i.completion:{}).type=t,r.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(r)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),p(r),A}},catch:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc===t){if("throw"===(t=r.completion).type){var o=t.arg;p(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:d(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=v),A}},t}(t.exports);try{regeneratorRuntime=t}catch(n){"object"===("undefined"==typeof globalThis?"undefined":Ia(globalThis))?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}),ev=!Ga(function(){return Object.isExtensible(Object.preventExtensions({}))}),po=kc(function(t){var n=$b.f,r=ih("meta"),o=0,i=Object.isExtensible||function(){return!0},s=function(t){n(t,r,{value:{objectID:"O"+ ++o,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!fb(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Fa(t,r)){if(!i(t))return"F";if(!n)return"E";s(t)}return t[r].objectID},getWeakData:function(t,n){if(!Fa(t,r)){if(!i(t))return!0;if(!n)return!1;s(t)}return t[r].weakData},onFreeze:function(t){return ev&&a.REQUIRED&&i(t)&&!Fa(t,r)&&s(t),t}};jh[r]=!0}),fv=function(t,n,r){var o=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),s=o?"set":"add",a=na[t],u=a&&a.prototype,c=a,l={},f=function(t){var n=u[t];Ob(u,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!fb(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!fb(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!fb(t))&&n.call(this,0===t?0:t)}:function(t,r){return n.call(this,0===t?0:t,r),this})};if(ne(t,"function"!=typeof a||!(i||u.forEach&&!Ga(function(){(new a).entries().next()}))))c=r.getConstructor(n,t,o,s),po.REQUIRED=!0;else if(ne(t,!0)){var p=new c,h=p[s](i?{}:-0,1)!=p,d=Ga(function(){p.has(1)}),g=mk(function(t){new a(t)}),v=!i&&Ga(function(){for(var t=new a,n=5;n--;)t[s](n,n);return!t.has(-0)});g||((c=n(function(n,r){return Ud(n,c,t),n=Ek(new a,n,c),null!=r&&rk(r,n[s],{that:n,AS_ENTRIES:o}),n})).prototype=u,u.constructor=c),(d||v)&&(f("delete"),f("has"),o&&f("get")),(v||h)&&f(s),i&&u.clear&&delete u.clear}return l[t]=c,wa({global:!0,forced:c!=a},l),Td(c,t),i||r.setStrong(c,t,o),c},zF=$b.f,gv=po.fastKey,hv=Sb.set,qo=Sb.getterFor,iv={getConstructor:function(t,n,r,o){var i=t(function(t,s){Ud(t,i,n),hv(t,{type:n,index:vd(null),first:void 0,last:void 0,size:0}),cb||(t.size=0),null!=s&&rk(s,t[o],{that:t,AS_ENTRIES:r})}),s=qo(n),a=function(t,n,r){var o,i=s(t),a=u(t,n);return a?a.value=r:(i.last=a={index:o=gv(n,!0),key:n,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),cb?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},u=function(t,n){t=s(t);var r=gv(n);if("F"!==r)return t.index[r];for(t=t.first;t;t=t.next)if(t.key==n)return t};return qh(i.prototype,{clear:function(){for(var t=s(this),n=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,cb?t.size=0:this.size=0},delete:function(t){var n=s(this);if(t=u(this,t)){var r=t.next,o=t.previous;delete n.index[t.index],t.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==t&&(n.first=r),n.last==t&&(n.last=o),cb?n.size--:this.size--}return!!t},forEach:function(t){for(var n,r=s(this),o=tf(t,1<arguments.length?arguments[1]:void 0,3);n=n?n.next:r.first;)for(o(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!u(this,t)}}),qh(i.prototype,r?{get:function(t){return(t=u(this,t))&&t.value},set:function(t,n){return a(this,0===t?0:t,n)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),cb&&zF(i.prototype,"size",{get:function(){return s(this).size}}),i},setStrong:function(t,n,r){var o=n+" Iterator",i=qo(n),s=qo(o);rn(t,n,function(t,n){hv(this,{type:o,target:t,state:i(t),kind:n,last:void 0})},function(){for(var t=s(this),n=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==n?{value:r.key,done:!1}:"values"==n?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},r?"entries":"values",!r,!0),Ii(n)}};fv("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},iv);var AF=yi,jv=function(t){return function(n){n=Qc(n);for(var r,o=Ie(n),i=o.length,s=0,a=[];i>s;)r=o[s++],cb&&!AF.call(n,r)||a.push(t?[r,n[r]]:n[r]);return a}},BF=jv(!0),CF=jv(!1);wa({target:"Object",stat:!0},{values:function(t){return CF(t)}});var ro=me("Reflect","apply"),DF=Function.apply,EF=!Ga(function(){ro(function(){})});wa({target:"Reflect",stat:!0,forced:EF},{apply:function(t,n,r){return Rc(t),ub(r),ro?ro(t,n,r):DF.call(t,n,r)}}),wa({target:"Reflect",stat:!0},{ownKeys:Us});var kv=mb("isConcatSpreadable"),FF=51<=oe||!Ga(function(){var t=[];return t[kv]=!1,t.concat()[0]!==t}),GF=Fi("concat");wa({target:"Array",proto:!0,forced:!FF||!GF},{concat:function(t){var n,r=Zb(this),o=Ei(r,0),i=0,s=-1;for(n=arguments.length;s<n;s++){var a=-1===s?r:arguments[s],u=a;if(fb(u)){var c=u[kv];u=void 0!==c?!!c:uf(u)}else u=!1;if(u){if(9007199254740991<i+(c=xb(a.length)))throw TypeError("Maximum allowed index exceeded");for(u=0;u<c;u++,i++)u in a&&oh(o,i,a[u])}else{if(9007199254740991<=i)throw TypeError("Maximum allowed index exceeded");oh(o,i++,a)}}return o.length=i,o}});var HF=Yn,IF=Ga(function(){return!Object.getOwnPropertyNames(1)});wa({target:"Object",stat:!0,forced:IF},{getOwnPropertyNames:HF});var JF=dg.f,KF=pd.f,LF=$b.f,Bf=na.Number,Lk=Bf.prototype,MF="Number"==Qd(vd(Lk)),lv=function(t){var n,r=le(t,!1);if("string"==typeof r&&2<r.length){if(43===(t=(r=kk(r)).charCodeAt(0))||45===t){if(88===(t=r.charCodeAt(2))||120===t)return NaN}else if(48===t){switch(r.charCodeAt(1)){case 66:case 98:t=2;var o=49;break;case 79:case 111:t=8,o=55;break;default:return+r}var i=(r=r.slice(2)).length;for(n=0;n<i;n++){var s=r.charCodeAt(n);if(48>s||s>o)return NaN}return parseInt(r,t)}}return+r};if(ne("Number",!Bf(" 0o1")||!Bf("0b1")||Bf("+0x1"))){for(var Mk,mg=function(t){var n=1>arguments.length?0:t,r=this;return r instanceof mg&&(MF?Ga(function(){Lk.valueOf.call(r)}):"Number"!=Qd(r))?Ek(new Bf(lv(n)),r,mg):lv(n)},mv=cb?JF(Bf):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),so=0;mv.length>so;so++)Fa(Bf,Mk=mv[so])&&!Fa(mg,Mk)&&LF(mg,Mk,KF(Bf,Mk));mg.prototype=Lk,Lk.constructor=mg,Ob(na,"Number",mg)}var yh="object"===("undefined"==typeof Reflect?"undefined":Ia(Reflect))?Reflect:null,nv=yh&&"function"==typeof yh.apply?yh.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},NF=yh&&"function"==typeof yh.ownKeys?yh.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},ov=Number.isNaN||function(t){return t!=t};kb.EventEmitter=kb,kb.prototype._events=void 0,kb.prototype._eventsCount=0,kb.prototype._maxListeners=void 0;var pv=10;Object.defineProperty(kb,"defaultMaxListeners",{enumerable:!0,get:function(){return pv},set:function(t){if("number"!=typeof t||0>t||ov(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");pv=t}}),kb.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},kb.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||ov(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},kb.prototype.getMaxListeners=function(){return void 0===this._maxListeners?kb.defaultMaxListeners:this._maxListeners},kb.prototype.emit=function(t){for(var n,r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);o="error"===t;var i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){if(0<r.length&&(n=r[0]),n instanceof Error)throw n;throw(r=Error("Unhandled error."+(n?" ("+n.message+")":""))).context=n,r}if(void 0===(o=i[t]))return!1;if("function"==typeof o)nv(o,this,r);else for(i=ir(o,n=o.length),o=0;o<n;++o)nv(i[o],this,r);return!0},kb.prototype.addListener=function(t,n){return fr(this,t,n,!1)},kb.prototype.on=kb.prototype.addListener,kb.prototype.prependListener=function(t,n){return fr(this,t,n,!0)},kb.prototype.once=function(t,n){return Cj(n),this.on(t,gr(this,t,n)),this},kb.prototype.prependOnceListener=function(t,n){return Cj(n),this.prependListener(t,gr(this,t,n)),this},kb.prototype.removeListener=function(t,n){Cj(n);var r,o=this._events;if(void 0===o)return this;var i=o[t];if(void 0===i)return this;if(i===n||i.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){var s=-1;for(r=i.length-1;0<=r;r--)if(i[r]===n||i[r].listener===n){var a=i[r].listener;s=r;break}if(0>s)return this;if(0===s)i.shift();else{for(;s+1<i.length;s++)i[s]=i[s+1];i.pop()}1===i.length&&(o[t]=i[0]),void 0!==o.removeListener&&this.emit("removeListener",t,a||n)}return this},kb.prototype.off=kb.prototype.removeListener,kb.prototype.removeAllListeners=function(t){var n=this._events;if(void 0===n)return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0==arguments.length){var r=Object.keys(n);for(n=0;n<r.length;++n){var o=r[n];"removeListener"!==o&&this.removeAllListeners(o)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(r=n[t]))this.removeListener(t,r);else if(void 0!==r)for(n=r.length-1;0<=n;n--)this.removeListener(t,r[n]);return this},kb.prototype.listeners=function(t){return hr(this,t,!0)},kb.prototype.rawListeners=function(t){return hr(this,t,!1)},kb.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):jr.call(t,n)},kb.prototype.listenerCount=jr,kb.prototype.eventNames=function(){return 0<this._eventsCount?NF(this._events):[]},kb.once=function(t,n){return new Promise(function(r,o){function i(r){t.removeListener(n,s),o(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}kr(t,n,s,{once:!0}),"error"!==n&&QA(t,i,{once:!0})})};var zh=Object.assign,qv=Object.defineProperty,Vi=!zh||Ga(function(){if(cb&&1!==zh({b:1},zh(qv({},"a",{enumerable:!0,get:function(){qv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},n={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),7!=zh({},t)[r]||"abcdefghijklmnopqrst"!=Ie(zh({},n)).join("")})?function(t,n){for(var r=Zb(t),o=arguments.length,i=1,s=Ai.f,a=yi;o>i;)for(var u,c=zi(arguments[i++]),l=s?Ie(c).concat(s(c)):Ie(c),f=l.length,p=0;f>p;)u=l[p++],(!cb||a.call(c,u))&&(r[u]=c[u]);return r}:zh;wa({target:"Object",stat:!0,forced:Object.assign!==Vi},{assign:Vi}),fv("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},iv);var OF=Math.log,PF=Math.LN2;wa({target:"Math",stat:!0},{log2:function(t){return OF(t)/PF}});var QF=$b.f,RF=dg.f,SF=Sb.enforce,TF=mb("match"),te=na.RegExp,to=te.prototype,Wi=/a/g,uo=/a/g,vo=new te(Wi)!==Wi;if(cb&&ne("RegExp",!vo||Sd||Ga(function(){return uo[TF]=!1,te(Wi)!=Wi||te(uo)==uo||"/a/i"!=te(Wi,"i")}))){for(var Oe=function(t,n){var r,o=this instanceof Oe,i=gn(t),s=void 0===n;return!o&&i&&t.constructor===Oe&&s||(vo?i&&!s&&(t=t.source):t instanceof Oe&&(s&&(n=hk.call(t)),t=t.source),Sd&&(r=!!n&&-1<n.indexOf("y"))&&(n=n.replace(/y/g,"")),t=Ek(vo?new te(t,n):te(t,n),o?this:to,Oe),Sd&&r&&(SF(t).sticky=!0)),t},UF=function(t){(t in Oe)||QF(Oe,t,{configurable:!0,get:function(){return te[t]},set:function(n){te[t]=n}})},rv=RF(te),sv=0;rv.length>sv;)UF(rv[sv++]);to.constructor=Oe,Oe.prototype=to,Ob(na,"RegExp",Oe)}Ii("RegExp"),Ri("Float32",function(t){return function(n,r,o){return t(this,n,r,o)}}),Ri("Float64",function(t){return function(n,r,o){return t(this,n,r,o)}}),Ri("Uint32",function(t){return function(n,r,o){return t(this,n,r,o)}}),Ri("Uint16",function(t){return function(n,r,o){return t(this,n,r,o)}});var wo=function(t,n){return t===n?0:null==t?null==n?0:-1:null==n?null==t?0:1:"function"==typeof t.compare?t.compare(n):"function"==typeof n.compare?-n.compare(t):t<n?-1:t>n?1:0},xo=[],tv=xo.sort,VF=Ga(function(){xo.sort(void 0)}),WF=Ga(function(){xo.sort(null)}),XF=gg("sort");wa({target:"Array",proto:!0,forced:VF||!WF||!XF},{sort:function(t){return void 0===t?tv.call(Zb(this)):tv.call(Zb(this),Rc(t))}});var uv=Object.getPrototypeOf({}),Xi=function(t,n){var r;return t===n||(null==t?t==n:"function"===Ia(t.equiv)?t.equiv(n):null==n?t==n:"function"===Ia(n.equiv)?n.equiv(t):"string"!==Ia(t)&&"string"!==Ia(n)&&(null!=(r=Object.getPrototypeOf(t))&&r!==uv||null!=(r=Object.getPrototypeOf(n))&&r!==uv?"function"!==Ia(t)&&void 0!==t.length&&"function"!==Ia(n)&&void 0!==n.length?ZF(t,n):t instanceof Set&&n instanceof Set?$F(t,n):t instanceof Map&&n instanceof Map?aG(t,n):t instanceof Date&&n instanceof Date?t.getTime()===n.getTime():t instanceof RegExp&&n instanceof RegExp?t.toString()===n.toString():t!=t&&n!=n:YF(t,n)))},ZF=function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Xi,o=t.length;if(o===n.length)for(;0<=--o&&r(t[o],n[o]););return 0>o},$F=function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Xi;return t.size===n.size&&r(ra(t.keys()).sort(),ra(n.keys()).sort())},aG=function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Xi;return t.size===n.size&&r(ra(t).sort(),ra(n).sort())},YF=function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Xi;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var o in t)if(!n.hasOwnProperty(o)||!r(t[o],n[o]))return!1;return!0},vv=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(t){return void 0!==t?": "+t:""};return function(r){function o(r){return ab(this,o),i.call(this,t(r)+n(r))}nb(o,r);var i=ob(o);return o}(di(Error))},bG=vv(function(){return"illegal argument(s)"}),Nk=function(t){throw new bG(t)},yo=vv(function(){return"index out of bounds"}),wv=1/4294967295,cG=function(){function t(){ab(this,t)}return Qb(t,[{key:"float",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.int()*wv*t}},{key:"norm",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(this.int()*wv-.5)*t}},{key:"minmax",value:function(t,n){return this.float()*(n-t)+t}}]),t}(),zo=Math.random,dG=new(function(t){function n(){return ab(this,n),r.apply(this,arguments)}nb(n,t);var r=ob(n);return Qb(n,[{key:"int",value:function(){return 4294967296*zo()>>>0}},{key:"float",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return zo()*t}},{key:"norm",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(zo()-.5)*t}}]),n}(cG)),hm=Symbol(),nr=function(){},eG=po.onFreeze,Ao=Object.freeze,fG=Ga(function(){Ao(1)});wa({target:"Object",stat:!0,forced:fG,sham:!ev},{freeze:function(t){return Ao&&fb(t)?Ao(eG(t)):t}});var gG=gg("reduce"),hG=!qe&&79<oe&&83>oe;wa({target:"Array",proto:!0,forced:!gG||hG},{reduce:function(t){return Bu(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});var mr=function(t){return null!=t&&"function"==typeof t.xform?t.xform():t},Dj=function(){function t(n){ab(this,t),this.value=n}return Qb(t,[{key:"deref",value:function(){return this.value}}]),t}(),im=function(t){return t instanceof Dj?t.deref():t},SA=function(t,n){return[t,function(t){return t},n]},iG=W.mark(function(t,n){var r,o,i,s,a;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:o=(r=mr(t)(RA()))[1],i=r[2],s=0;case 4:if(!(s<n.length)){u.next=15;break}if(!((a=i([],n[s]))instanceof Dj)){u.next=10;break}return u.delegateYield(im(o(a.deref())),"t0",9);case 9:return u.abrupt("return");case 10:if(!a.length){u.next=12;break}return u.delegateYield(a,"t1",12);case 12:s++,u.next=4;break;case 15:return u.delegateYield(im(o([])),"t2",16);case 16:case"end":return u.stop()}},iG)}),TA=W.mark(lr),UA=function(t,n){return[t[0],t[1],n]},xv=!0;"findIndex"in[]&&[,].findIndex(function(){xv=!1}),wa({target:"Array",proto:!0,forced:xv},{findIndex:function(t){return lt(this,t,1<arguments.length?arguments[1]:void 0)}}),wf("findIndex"),wa({target:"Array",proto:!0},{fill:In}),wf("fill");var jG=function(){function t(n){ab(this,t),this._length=0,n&&this.into(n)}return Qb(t,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new t(this)}},{key:"empty",value:function(){return new t}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var t,n=this.head;n;)t=n.next,delete n.value,delete n.prev,delete n.next,n=t;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(t){var n=this._length;if(n<t._length)return -1;if(n>t._length)return 1;if(0===n)return 0;n=this.head,t=t.head;for(var r=0;n&&0==r;)r=wo(n.value,t.value),n=n.next,t=t.next;return r}},{key:"equiv",value:function(n){if(!(n instanceof t||null!=n&&"function"!=typeof n&&void 0!==n.length)||this._length!==n.length)return!1;if(!this._length||this===n)return!0;for(var r=this.head,o=0;o<n.length;o++){if(!Xi(r.value,n[o]))return!1;r=r.next}return!0}},{key:Symbol.iterator,value:W.mark(function t(){var n;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.head;case 1:if(!n){t.next=7;break}return t.next=4,n.value;case 4:n=n.next,t.next=1;break;case 7:case"end":return t.stop()}},t,this)})},{key:"seq",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if(!(t>=n||0>t)){t=this.nthCell(t);var r=this.nthCell(n-1);return n=function t(n){return{first:function(){return n.value},next:function(){return n!==r&&n.next?t(n.next):void 0}}},t?n(t):void 0}}},{key:"cycle",value:W.mark(function t(){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this,"t0",2);case 2:t.next=0;break;case 4:case"end":return t.stop()}},t,this)})},{key:"$reduce",value:function(t,n){for(var r=this.head;r&&!(n instanceof Dj);)n=t(n,r.value),r=r.next;return n}},{key:"drop",value:function(){var t=this.head;if(t)return(this.head=t.next)?delete this.head.prev:delete this.tail,this._length--,t.value}},{key:"cons",value:function(t){return t={value:t,next:this.head},this.head?this.head.prev=t:this.tail=t,this.head=t,this._length++,this}},{key:"insertBefore",value:function(t,n){return t||Nk("cell is undefined"),n={value:n,next:t,prev:t.prev},t.prev?t.prev.next=n:this.head=n,t.prev=n,this._length++,this}},{key:"insertAfter",value:function(t,n){return t||Nk("cell is undefined"),n={value:n,next:t.next,prev:t},t.next?t.next.prev=n:this.tail=n,t.next=n,this._length++,this}},{key:"insertBeforeNth",value:function(t,n){if(0>t&&(t+=this._length),0>=t)return this.cons(n);if(0>t||t>=this._length)throw new yo(t);return this.insertBefore(this.nthCellUnsafe(t),n)}},{key:"insertAfterNth",value:function(t,n){if(0>t&&(t+=this._length),t>=this._length-1)return this.push(n);if(0>t||t>=this._length)throw new yo(t);return this.insertAfter(this.nthCellUnsafe(t),n)}},{key:"insertSorted",value:function(t,n){n=n||wo;for(var r=this.head;r;){if(0>=n(t,r.value))return this.insertBefore(r,t);r=r.next}return this.push(t)}},{key:"find",value:function(t){for(var n=this.head;n;){if(n.value===t)return n;n=n.next}}},{key:"findWith",value:function(t){for(var n=this.head;n;){if(t(n.value))return n;n=n.next}}},{key:"concat",value:function(){for(var t=this.copy(),n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];for(n=0;n<r.length;n++)t.into(r[n]);return t}},{key:"into",value:function(t){for(var n=0;n<t.length;n++)this.push(t[n])}},{key:"slice",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;n=0>n?n+this._length:n,r=0>r?r+this._length:r,(0>n||0>r)&&Nk("invalid indices: ${from} / ${to}");for(var o=new t,i=this.nthCell(n);i&&++n<=r;)o.push(i.value),i=i.next;return o}},{key:"splice",value:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0;if("number"==typeof n){if(0>n&&(n+=this._length),0>n||n>=this._length)throw new yo(n);var i=this.nthCellUnsafe(n)}else i=n;var s=new t;if(0<r)for(;i&&0<r--;)this.remove(i),s.push(i.value),i=i.next;else i&&(i=i.next);if(o){if(i)for(r=0;r<o.length;r++)this.insertBefore(i,o[r]);else for(i=0;i<o.length;i++)this.push(o[i])}return s}},{key:"remove",value:function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,this._length--,this}},{key:"swap",value:function(t,n){if(t!==n){var r=t.value;t.value=n.value,n.value=r}return this}},{key:"push",value:function(t){return this.tail?(t={value:t,prev:this.tail},this.tail=this.tail.next=t,this._length++,this):this.cons(t)}},{key:"pop",value:function(){var t=this.tail;if(t)return(this.tail=t.prev)?delete this.tail.next:delete this.head,this._length--,t.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(t){return this.head?(this.head.value=t,this):this.cons(t)}},{key:"setTail",value:function(t){return this.tail?(this.tail.value=t,this):this.push(t)}},{key:"setNth",value:function(t,n){var r=this.nthCell(t);return r||Nk("index out of bounds: ".concat(t)),r.value=n,this}},{key:"nth",value:function(t,n){return(t=this.nthCell(t))?t.value:n}},{key:"nthCell",value:function(t){if(0>t&&(t+=this._length),!(0>t||t>=this._length))return this.nthCellUnsafe(t)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var t=this.peek();return this.pop(),this.cons(t)}}},{key:"map",value:function(n){for(var r=new t,o=this.head;o;)r.push(n(o.value)),o=o.next;return r}},{key:"filter",value:function(n){for(var r=new t,o=this.head;o;)n(o.value)&&r.push(o.value),o=o.next;return r}},{key:"reduce",value:function(t,n){for(var r=this.head;r;)n=t(n,r.value),r=r.next;return n}},{key:"shuffle",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:dG;if(2>this._length)return this;for(t=null!=t?t:Math.ceil(1.5*Math.log2(this._length));0<t;t--)for(var r=this.head;r;){var o=r.next;.5>n.float()?this.asHead(r):this.asTail(r),r=o}return this}},{key:"sort",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:wo;if(!this._length)return this;for(var n=1;;){var r=this.head;this.tail=this.head=void 0;for(var o=0;r;){o++;for(var i=r,s=0,a=0;a<n&&(s++,i=i.next);a++);for(a=n;0<s||0<a&&i;){if(0===s){var u=i;i=i.next,a--}else i&&0!==a?0>=t(r.value,i.value)?(u=r,r=r.next,s--):(u=i,i=i.next,a--):(u=r,r=r.next,s--);this.tail?this.tail.next=u:this.head=u,u.prev=this.tail,this.tail=u}r=i}if(this.tail.next=void 0,1>=o)return this;n*=2}}},{key:"reverse",value:function(){for(var t=this.head,n=this.tail,r=(this._length>>>1)+(1&this._length);t&&n&&0<r;){var o=t.value;t.value=n.value,n.value=o,t=t.next,n=n.prev,r--}return this}},{key:"asHead",value:function(t){return t===this.head||(this.remove(t),this.head.prev=t,t.next=this.head,t.prev=void 0,this.head=t,this._length++),this}},{key:"asTail",value:function(t){return t===this.tail||(this.remove(t),this.tail.next=t,t.prev=this.tail,t.next=void 0,this.tail=t,this._length++),this}},{key:"toString",value:function(){for(var t=[],n=this.head;n;)t.push(String(n.value)),n=n.next;return t.join(", ")}},{key:"toJSON",value:function(){return ra(this)}},{key:"nthCellUnsafe",value:function(t){if(t<=this._length>>1)var n=this.head,r="next";else n=this.tail,r="prev",t=this._length-t-1;for(;0<t--&&n;)n=n[r];return n}}]),t}(),ue=function(){function t(n,r){ab(this,t),r=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},r),this.map=r.map(),this.items=new jG,this._size=0,this.opts=r,n&&this.into(n)}return Qb(t,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return Ej(function(t){return[t.k,t]},this.items)}},{key:"keys",value:function(){return Ej(function(t){return t.k},this.items)}},{key:"values",value:function(){return Ej(function(t){return t.v},this.items)}},{key:"copy",value:function(){var t=this.empty();t.items=this.items.copy();for(var n=t.items.head;n;)t.map.set(n.value.k,n),n=n.next;return t}},{key:"empty",value:function(){return new t(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var t,n=this.opts.release;if(n){for(;t=this.items.drop();)n(t.k,t.v);return!0}return this.items.release()}},{key:"has",value:function(t){return this.map.has(t)}},{key:"get",value:function(t,n){return(t=this.map.get(t))?this.resetEntry(t):n}},{key:"set",value:function(t,n){var r=this.opts.ksize(t)+this.opts.vsize(n),o=this.map.get(t);return this._size+=Math.max(0,r-(o?o.value.s:0)),this.ensureSize()&&this.doSetEntry(o,t,n,r),n}},{key:"into",value:function(t){for(var n=0;n<t.length;n++){var r=t[n];this.set(r[0],r[1])}return this}},{key:"getSet",value:function(t,n){var r=this,o=this.map.get(t);return o?Promise.resolve(this.resetEntry(o)):n().then(function(n){return r.set(t,n)})}},{key:"delete",value:function(t){return!!(t=this.map.get(t))&&(this.removeEntry(t),!0)}},{key:"resetEntry",value:function(t){return this.items.asTail(t),t.value.v}},{key:"ensureSize",value:function(){for(var t=this.opts.release,n=this.opts.maxsize,r=this.opts.maxlen;this._size>n||this.length>=r;){var o=this.items.drop();if(!o)return!1;this.map.delete(o.k),t&&t(o.k,o.v),this._size-=o.s}return!0}},{key:"removeEntry",value:function(t){var n=t.value;this.map.delete(n.k),this.items.remove(t),this.opts.release&&this.opts.release(n.k,n.v),this._size-=n.s}},{key:"doSetEntry",value:function(t,n,r,o){t?(t.value.v=r,t.value.s=o,this.items.asTail(t)):(this.items.push({k:n,v:r,s:o}),this.map.set(n,this.items.tail))}}]),t}(),kG=function(t){function n(t,o){return ab(this,n),o=Object.assign({ttl:36e5},o),r.call(this,t,o)}nb(n,t);var r=ob(n);return Qb(n,[{key:"empty",value:function(){return new n(null,this.opts)}},{key:"has",value:function(t){return void 0!==this.get(t)}},{key:"get",value:function(t,n){if(t=this.map.get(t)){if(t.value.t>=Date.now())return this.resetEntry(t);this.removeEntry(t)}return n}},{key:"set",value:function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,o=this.opts.ksize(t)+this.opts.vsize(n),i=this.map.get(t);return this._size+=Math.max(0,o-(i?i.value.s:0)),this.ensureSize()&&(r=Date.now()+r,i?(i.value.v=n,i.value.s=o,i.value.t=r,this.items.asTail(i)):(this.items.push({k:t,v:n,s:o,t:r}),this.map.set(t,this.items.tail))),n}},{key:"getSet",value:function(t,n){var r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,i=this.get(t);return i?Promise.resolve(i):n().then(function(n){return r.set(t,n,o)})}},{key:"prune",value:function(){for(var t=Date.now(),n=this.items.head;n;)n.value.t<t&&this.removeEntry(n),n=n.next}},{key:"ensureSize",value:function(){for(var t=this.opts.maxsize,r=this.opts.maxlen,o=Date.now(),i=this.items.head;i&&(this._size>t||this.length>=r);)i.value.t<o&&this.removeEntry(i),i=i.next;return fm(Tf(n.prototype),"ensureSize",this).call(this)}}]),n}(ue),yv="object"==Ia(qb)&&qb&&qb.Object===Object&&qb,lG="object"==("undefined"==typeof self?"undefined":Ia(self))&&self&&self.Object===Object&&self,hd=yv||lG||Function("return this")(),xd=hd.Symbol,zv=Object.prototype,mG=zv.hasOwnProperty,nG=zv.toString,Yi=xd?xd.toStringTag:void 0,oG=Object.prototype.toString,Av=xd?xd.toStringTag:void 0,ng=function(t){if(null==t)t=void 0===t?"[object Undefined]":"[object Null]";else if(Av&&Av in Object(t)){var n=mG.call(t,Yi),r=t[Yi];try{t[Yi]=void 0;var o=!0}catch(i){}var s=nG.call(t);o&&(n?t[Yi]=r:delete t[Yi]),t=s}else t=oG.call(t);return t},Kc=function(t){var n=Ia(t);return null!=t&&("object"==n||"function"==n)},Em=function(t){return!!Kc(t)&&("[object Function]"==(t=ng(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)},Bo=hd["__core-js_shared__"],Bv=function(){var t=/[^.]+$/.exec(Bo&&Bo.keys&&Bo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pG=Function.prototype.toString,og=function(t){if(null!=t){try{return pG.call(t)}catch(n){}return t+""}return""},qG=/^\[object .+?Constructor\]$/,rG=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pg=function(t,n){return!Kc(t=null==t?void 0:t[n])||Bv&&Bv in t||!(Em(t)?rG:qG).test(og(t))?void 0:t},Zi=pg(Object,"create"),sG=Object.prototype.hasOwnProperty,tG=Object.prototype.hasOwnProperty;Vf.prototype.clear=function(){this.__data__=Zi?Zi(null):{},this.size=0},Vf.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},Vf.prototype.get=function(t){var n=this.__data__;return Zi?"__lodash_hash_undefined__"===(t=n[t])?void 0:t:sG.call(n,t)?n[t]:void 0},Vf.prototype.has=function(t){var n=this.__data__;return Zi?void 0!==n[t]:tG.call(n,t)},Vf.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Zi&&void 0===n?"__lodash_hash_undefined__":n,this};var $i=function(t,n){return t===n||t!=t&&n!=n},Ok=function(t,n){for(var r=t.length;r--;)if($i(t[r][0],n))return r;return -1},uG=Array.prototype.splice;Mg.prototype.clear=function(){this.__data__=[],this.size=0},Mg.prototype.delete=function(t){var n=this.__data__;return!(0>(t=Ok(n,t)))&&(t==n.length-1?n.pop():uG.call(n,t,1),--this.size,!0)},Mg.prototype.get=function(t){var n=this.__data__;return 0>(t=Ok(n,t))?void 0:n[t][1]},Mg.prototype.has=function(t){return -1<Ok(this.__data__,t)},Mg.prototype.set=function(t,n){var r=this.__data__,o=Ok(r,t);return 0>o?(++this.size,r.push([t,n])):r[o][1]=n,this};var Gj=Mg,aj=pg(hd,"Map"),Pk=function(t,n){t=t.__data__;var r=Ia(n);return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?t["string"==typeof n?"string":"hash"]:t.map};Ng.prototype.clear=function(){this.size=0,this.__data__={hash:new Vf,map:new(aj||Gj),string:new Vf}},Ng.prototype.delete=function(t){return t=Pk(this,t).delete(t),this.size-=t?1:0,t},Ng.prototype.get=function(t){return Pk(this,t).get(t)},Ng.prototype.has=function(t){return Pk(this,t).has(t)},Ng.prototype.set=function(t,n){var r=Pk(this,t),o=r.size;return r.set(t,n),this.size+=r.size==o?0:1,this};var Fj=Ng;ei.prototype.add=ei.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ei.prototype.has=function(t){return this.__data__.has(t)};var Cv=function(t,n,r,o){var i=t.length;for(r+=o?1:-1;o?r--:++r<i;)if(n(t[r],r,t))return r;return -1},vG=function(t){return t!=t},wG=function(t,n){var r;if(r=!(null==t||!t.length)){if(n==n)e:{r=-1;for(var o=t.length;++r<o;)if(t[r]===n){t=r;break e}t=-1}else t=Cv(t,vG,0);r=-1<t}return r},xG=function(t,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;)if(r(n,t[o]))return!0;return!1},yG=function(t,n){return t.has(n)},Ah=pg(hd,"Set"),zG=function(){},Co=function(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r},AG=1/0,BG=Ah&&1/Co(new Ah([,-0]))[1]==AG?function(t){return new Ah(t)}:zG,Do=function(t,n,r){var o=-1,i=wG,s=t.length,a=!0,u=[],c=u;if(r)a=!1,i=xG;else if(200<=s){if(i=n?null:BG(t))return Co(i);a=!1,i=yG,c=new ei}else c=n?[]:u;e:for(;++o<s;){var l=t[o],f=n?n(l):l;if(l=r||0!==l?l:0,a&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue e;n&&c.push(f),u.push(l)}else i(c,f,r)||(c!==u&&c.push(f),u.push(l))}return u},Dv=function(t){for(var n=-1,r=null==t?0:t.length,o={};++n<r;){var i=t[n];o[i[0]]=i[1]}return o},Rg=function(t,n){for(var r=-1,o=null==t?0:t.length,i=Array(o);++r<o;)i[r]=n(t[r],r,t);return i};Og.prototype.clear=function(){this.__data__=new Gj,this.size=0},Og.prototype.delete=function(t){var n=this.__data__;return t=n.delete(t),this.size=n.size,t},Og.prototype.get=function(t){return this.__data__.get(t)},Og.prototype.has=function(t){return this.__data__.has(t)},Og.prototype.set=function(t,n){var r=this.__data__;if(r instanceof Gj){var o=r.__data__;if(!aj||199>o.length)return o.push([t,n]),this.size=++r.size,this;r=this.__data__=new Fj(o)}return r.set(t,n),this.size=r.size,this};var Qg=Og,cB=function(t,n){for(var r=-1,o=null==t?0:t.length;++r<o&&!1!==n(t[r],r,t););return t},Qk=function(){try{var t=pg(Object,"defineProperty");return t({},"",{}),t}catch(n){}}(),bj=function(t,n,r){"__proto__"==n&&Qk?Qk(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r},CG=Object.prototype.hasOwnProperty,sr=function(t,n,r){var o=t[n];CG.call(t,n)&&$i(o,r)&&(void 0!==r||n in t)||bj(t,n,r)},bh=function(t,n,r,o){var i=!r;r||(r={});for(var s=-1,a=n.length;++s<a;){var u=n[s],c=o?o(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),i?bj(r,u,c):sr(r,u,c)}return r},ee=function(t){return null!=t&&"object"==Ia(t)},Ev=function(t){return ee(t)&&"[object Arguments]"==ng(t)},Fv=Object.prototype,DG=Fv.hasOwnProperty,EG=Fv.propertyIsEnumerable,oi=Ev(function(){return arguments}())?Ev:function(t){return ee(t)&&DG.call(t,"callee")&&!EG.call(t,"callee")},lc=Array.isArray,FG=function(){return!1},gi=kc(function(t,n){var r=(n=n&&!n.nodeType&&n)&&t&&!t.nodeType&&t;n=r&&r.exports===n?hd.Buffer:void 0,t.exports=(n?n.isBuffer:void 0)||FG}),GG=/^(?:0|[1-9]\d*)$/,Eo=function(t,n){var r=Ia(t);return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&GG.test(t))&&-1<t&&0==t%1&&t<n},Fo=function(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t},Hb={};Hb["[object Float32Array]"]=Hb["[object Float64Array]"]=Hb["[object Int8Array]"]=Hb["[object Int16Array]"]=Hb["[object Int32Array]"]=Hb["[object Uint8Array]"]=Hb["[object Uint8ClampedArray]"]=Hb["[object Uint16Array]"]=Hb["[object Uint32Array]"]=!0,Hb["[object Arguments]"]=Hb["[object Array]"]=Hb["[object ArrayBuffer]"]=Hb["[object Boolean]"]=Hb["[object DataView]"]=Hb["[object Date]"]=Hb["[object Error]"]=Hb["[object Function]"]=Hb["[object Map]"]=Hb["[object Number]"]=Hb["[object Object]"]=Hb["[object RegExp]"]=Hb["[object Set]"]=Hb["[object String]"]=Hb["[object WeakMap]"]=!1;var HG=function(t){return ee(t)&&Fo(t.length)&&!!Hb[ng(t)]},Rk=function(t){return function(n){return t(n)}},Bh=kc(function(t,n){var r=n&&!n.nodeType&&n;r=(n=r&&t&&!t.nodeType&&t)&&n.exports===r&&yv.process;e:{try{var o=n&&n.require&&n.require("util").types;if(o){var i=o;break e}i=r&&r.binding&&r.binding("util");break e}catch(s){}i=void 0}t.exports=i}),Gv=Bh&&Bh.isTypedArray,om=Gv?Rk(Gv):HG,IG=Object.prototype.hasOwnProperty,Hv=function(t,n){var r=lc(t),o=!r&&oi(t),i=!r&&!o&&gi(t),s=!r&&!o&&!i&&om(t);if(r=r||o||i||s){o=t.length;for(var a=String,u=-1,c=Array(o);++u<o;)c[u]=a(u);o=c}else o=[];for(var l in a=o.length,t)!n&&!IG.call(t,l)||r&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Eo(l,a))||o.push(l);return o},JG=Object.prototype,Go=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||JG)},Iv=function(t,n){return function(r){return t(n(r))}},KG=Iv(Object.keys,Object),LG=Object.prototype.hasOwnProperty,$f=function(t){return null!=t&&Fo(t.length)&&!Em(t)},Wf=function(t){if($f(t))t=Hv(t);else if(Go(t)){var n,r=[];for(n in Object(t))LG.call(t,n)&&"constructor"!=n&&r.push(n);t=r}else t=KG(t);return t},ZA=function(t,n){return t&&bh(n,Wf(n),t)},MG=Object.prototype.hasOwnProperty,hi=function(t){if($f(t))t=Hv(t,!0);else if(Kc(t)){var n=Go(t),r=[];for(o in t)("constructor"!=o||!n&&MG.call(t,o))&&r.push(o);t=r}else{var o=[];if(null!=t)for(n in Object(t))o.push(n);t=o}return t},XA=function(t,n){return t&&bh(n,hi(n),t)},pr=kc(function(t,n){var r=(n=n&&!n.nodeType&&n)&&t&&!t.nodeType&&t,o=(n=r&&r.exports===n?hd.Buffer:void 0)?n.allocUnsafe:void 0;t.exports=function(t,n){return n?t.slice():(n=t.length,n=o?o(n):new t.constructor(n),t.copy(n),n)}}),jm=function(t,n){var r=-1,o=t.length;for(n||(n=Array(o));++r<o;)n[r]=t[r];return n},NG=function(t,n){for(var r=-1,o=null==t?0:t.length,i=0,s=[];++r<o;){var a=t[r];n(a,r,t)&&(s[i++]=a)}return s},Jv=function(){return[]},OG=Object.prototype.propertyIsEnumerable,Kv=Object.getOwnPropertySymbols,Ho=Kv?function(t){return null==t?[]:NG(Kv(t=Object(t)),function(n){return OG.call(t,n)})}:Jv,YA=function(t,n){return bh(t,Ho(t),n)},nm=function(t,n){for(var r=-1,o=n.length,i=t.length;++r<o;)t[i+r]=n[r];return t},Io=Iv(Object.getPrototypeOf,Object),Lv=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)nm(n,Ho(t)),t=Io(t);return n}:Jv,WA=function(t,n){return bh(t,Lv(t),n)},Mv=function(t,n,r){return n=n(t),lc(t)?n:nm(n,r(t))},km=function(t){return Mv(t,Wf,Ho)},rr=function(t){return Mv(t,hi,Lv)},Jo=pg(hd,"DataView"),Ko=pg(hd,"Promise"),Lo=pg(hd,"WeakMap"),PG=og(Jo),QG=og(aj),RG=og(Ko),SG=og(Ah),TG=og(Lo),qg=ng;(Jo&&"[object DataView]"!=qg(new Jo(new ArrayBuffer(1)))||aj&&"[object Map]"!=qg(new aj)||Ko&&"[object Promise]"!=qg(Ko.resolve())||Ah&&"[object Set]"!=qg(new Ah)||Lo&&"[object WeakMap]"!=qg(new Lo))&&(qg=function(t){var n=ng(t);if(t=(t="[object Object]"==n?t.constructor:void 0)?og(t):"")switch(t){case PG:return"[object DataView]";case QG:return"[object Map]";case RG:return"[object Promise]";case SG:return"[object Set]";case TG:return"[object WeakMap]"}return n});var fi=qg,UG=Object.prototype.hasOwnProperty,VA=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&UG.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Sk=hd.Uint8Array,Mo=function(t){var n=new t.constructor(t.byteLength);return new Sk(n).set(new Sk(t)),n},VG=/\w*$/,Nv=xd?xd.prototype:void 0,Ov=Nv?Nv.valueOf:void 0,cs=function(t,n){return n=n?Mo(t.buffer):t.buffer,new t.constructor(n,t.byteOffset,t.length)},$A=function(t,n,r){var o=t.constructor;switch(n){case"[object ArrayBuffer]":return Mo(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return n=r?Mo(t.buffer):t.buffer,new t.constructor(n,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cs(t,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(n=new t.constructor(t.source,VG.exec(t))).lastIndex=t.lastIndex,n;case"[object Symbol]":return Ov?Object(Ov.call(t)):{}}},Pv=Object.create,WG=function(){function t(){}return function(n){return Kc(n)?Pv?Pv(n):(t.prototype=n,n=new t,t.prototype=void 0,n):{}}}(),qr=function(t){return"function"!=typeof t.constructor||Go(t)?{}:WG(Io(t))},XG=function(t){return ee(t)&&"[object Map]"==fi(t)},Qv=Bh&&Bh.isMap,bB=Qv?Rk(Qv):XG,YG=function(t){return ee(t)&&"[object Set]"==fi(t)},Rv=Bh&&Bh.isSet,aB=Rv?Rk(Rv):YG,zb={};zb["[object Arguments]"]=zb["[object Array]"]=zb["[object ArrayBuffer]"]=zb["[object DataView]"]=zb["[object Boolean]"]=zb["[object Date]"]=zb["[object Float32Array]"]=zb["[object Float64Array]"]=zb["[object Int8Array]"]=zb["[object Int16Array]"]=zb["[object Int32Array]"]=zb["[object Map]"]=zb["[object Number]"]=zb["[object Object]"]=zb["[object RegExp]"]=zb["[object Set]"]=zb["[object String]"]=zb["[object Symbol]"]=zb["[object Uint8Array]"]=zb["[object Uint8ClampedArray]"]=zb["[object Uint16Array]"]=zb["[object Uint32Array]"]=!0,zb["[object Error]"]=zb["[object Function]"]=zb["[object WeakMap]"]=!1;var Sg=function(t){return"symbol"==Ia(t)||ee(t)&&"[object Symbol]"==ng(t)},ZG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$G=/^\w*$/,No=function(t,n){if(lc(t))return!1;var r=Ia(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Sg(t))||$G.test(t)||!ZG.test(t)||null!=n&&t in Object(n)};lm.Cache=Fj;var aH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bH=/\\(\\)?/g,cH=function(t){var n=(t=lm(t,function(t){return 500===n.size&&n.clear(),t})).cache;return t}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(aH,function(t,r,o,i){n.push(o?i.replace(bH,"$1"):r||t)}),n}),dB=1/0,Sv=xd?xd.prototype:void 0,ur=Sv?Sv.toString:void 0,Tk=function(t,n){return lc(t)?t:No(t,n)?[t]:cH(null==t?"":tr(t))},dH=1/0,cj=function(t){if("string"==typeof t||Sg(t))return t;var n=t+"";return"0"==n&&1/t==-dH?"-0":n},Uk=function(t,n){for(var r=0,o=(n=Tk(n,t)).length;null!=t&&r<o;)t=t[cj(n[r++])];return r&&r==o?t:void 0},eH=function(t,n){if(!(2>(n=Tk(n,t)).length)){var r=n,o=0,i=-1,s=-1,a=r.length;for(0>o&&(o=-o>a?0:a+o),0>(i=i>a?a:i)&&(i+=a),a=o>i?0:i-o>>>0,o>>>=0,i=Array(a);++s<a;)i[s]=r[s+o];t=Uk(t,i)}return(r=null==t)||(r=delete t[cj((r=null==n?0:n.length)?n[r-1]:void 0)]),r},Tv=Function.prototype.toString,fH=Object.prototype.hasOwnProperty,gH=Tv.call(Object),ds=function(t){return!(!ee(t)||"[object Object]"!=ng(t))&&(null===(t=Io(t))||"function"==typeof(t=fH.call(t,"constructor")&&t.constructor)&&t instanceof t&&Tv.call(t)==gH)},hH=function(t){return ds(t)?void 0:t},Uv=xd?xd.isConcatSpreadable:void 0,eB=function(t){return lc(t)||oi(t)||!!(Uv&&t&&t[Uv])},iH=function(t){return null!=t&&t.length?mm(t,1):[]},jH=function(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)},Vv=Math.max,Wv=function(t,n,r){return n=Vv(void 0===n?t.length-1:n,0),function(){for(var o=arguments,i=-1,s=Vv(o.length-n,0),a=Array(s);++i<s;)a[i]=o[n+i];for(i=-1,s=Array(n+1);++i<n;)s[i]=o[i];return s[n]=r(a),jH(t,this,s)}},kH=function(t){return function(){return t}},Vk=function(t){return t},lH=Date.now,Xv=function(t){var n=0,r=0;return function(){var o=lH(),i=16-(o-r);if(r=o,0<i){if(800<=++n)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(Qk?function(t,n){return Qk(t,"toString",{configurable:!0,enumerable:!1,value:kH(n),writable:!0})}:Vk),Oo=function(t){return Xv(Wv(t,void 0,iH),t+"")}(function(t,n){var r={};if(null==t)return r;var o=!1;n=Rg(n,function(n){return n=Tk(n,t),o||(o=1<n.length),n}),bh(t,rr(t),r),o&&(r=Pg(r,7,hH));for(var i=n.length;i--;)eH(r,n[i]);return r}),mH=function(t,n,r,o){for(var i=-1,s=null==t?0:t.length;++i<s;){var a=t[i];n(o,a,r(a),t)}return o},bs=function(t,n,r){for(var o=-1,i=Object(t),s=(r=r(t)).length;s--;){var a=r[++o];if(!1===n(i[a],a,i))break}return t},Yv=function(t,n){return t&&bs(t,n,Wf)},Po=function(t,n){return function(n,r){if(null==n)return n;if(!$f(n))return t(n,r);for(var o=n.length,i=-1,s=Object(n);++i<o&&!1!==r(s[i],i,s););return n}}(Yv),nH=function(t,n,r,o){return Po(t,function(t,i,s){n(o,t,r(t),s)}),o},Zv=function(t,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(t[r],r,t))return!0;return!1},vr=function(t,n,r,o,i,s){var a=1&r,u=t.length,c=n.length;if(u!=c&&!(a&&c>u))return!1;c=s.get(t);var l=s.get(n);if(c&&l)return c==n&&l==t;c=-1,l=!0;var f=2&r?new ei:void 0;for(s.set(t,n),s.set(n,t);++c<u;){var p=t[c],h=n[c];if(o)var d=a?o(h,p,c,n,t,s):o(p,h,c,t,n,s);if(void 0!==d){if(d)continue;l=!1;break}if(f){if(!Zv(n,function(t,n){if(!f.has(n)&&(p===t||i(p,t,r,o,s)))return f.push(n)})){l=!1;break}}else if(p!==h&&!i(p,h,r,o,s)){l=!1;break}}return s.delete(t),s.delete(n),l},oH=function(t){var n=-1,r=Array(t.size);return t.forEach(function(t,o){r[++n]=[o,t]}),r},$v=xd?xd.prototype:void 0,Qo=$v?$v.valueOf:void 0,fB=function(t,n,r,o,i,s,a){switch(r){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":if(t.byteLength!=n.byteLength||!s(new Sk(t),new Sk(n)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return $i(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var u=oH;case"[object Set]":if(u||(u=Co),t.size!=n.size&&!(1&o))break;return(r=a.get(t))?r==n:(o|=2,a.set(t,n),n=vr(u(t),u(n),o,i,s,a),a.delete(t),n);case"[object Symbol]":if(Qo)return Qo.call(t)==Qo.call(n)}return!1},gB=Object.prototype.hasOwnProperty,wr=Object.prototype.hasOwnProperty,pH=function(t,n,r,o){var i=r.length,s=i,a=!o;if(null==t)return!s;for(t=Object(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var c=(u=r[i])[0],l=t[c],f=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{if(u=new Qg,o)var p=o(l,f,c,t,n,u);if(void 0===p?!Tg(f,l,3,o,u):!p)return!1}}return!0},qH=function(t){for(var n=Wf(t),r=n.length;r--;){var o=n[r],i=t[o];n[r]=[o,i,i==i&&!Kc(i)]}return n},aw=function(t,n){return function(r){return null!=r&&r[t]===n&&(void 0!==n||t in Object(r))}},rH=function(t){var n=qH(t);return 1==n.length&&n[0][2]?aw(n[0][0],n[0][1]):function(r){return r===t||pH(r,t,n)}},sH=function(t,n){return No(t)&&n==n&&!Kc(n)?aw(cj(t),n):function(r){var o=null==r?void 0:Uk(r,t);if(void 0===(o=void 0===o?void 0:o)&&o===n){if(o=null!=r){for(var i=-1,s=(o=Tk(o=t,r)).length,a=!1;++i<s;){var u=cj(o[i]);if(!(a=null!=r&&null!=r&&u in Object(r)))break;r=r[u]}o=a||++i!=s?a:!!(s=null==r?0:r.length)&&Fo(s)&&Eo(u,s)&&(lc(r)||oi(r))}u=o}else u=Tg(n,o,3);return u}},tH=function(t){return function(n){return null==n?void 0:n[t]}},uH=function(t){return function(n){return Uk(n,t)}},Ch=function(t){return"function"==typeof t?t:null==t?Vk:"object"==Ia(t)?lc(t)?sH(t[0],t[1]):rH(t):No(t)?tH(cj(t)):uH(t)},Ro=function(t,n){return function(n,r){var o={};return(lc(n)?mH:nH)(n,t,Ch(r),o)}}(function(t,n,r){bj(t,r,n)}),Pe=function(t,n){var r={};return n=Ch(n),Yv(t,function(t,o,i){bj(r,o,n(t,o,i))}),r};wa({target:"String",proto:!0,forced:Ga(function(){var t="".sub('"');return t!==t.toLowerCase()||3<t.split('"').length})},{sub:function(){return"<sub>"+String(Ec(this))+"</sub>"}});var D=Ab,yd=null;try{yd=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(d){}Ab.prototype.__isLong__,Object.defineProperty(Ab.prototype,"__isLong__",{value:!0}),Ab.isLong=Lc;var yr={},xr={};Ab.fromInt=Xf,Ab.fromNumber=qd,Ab.fromBits=Bb;var Hj=Math.pow;Ab.fromString=pm,Ab.fromValue=Nd;var Ug=4294967296,zr=Ug*Ug,Br=zr/2,bw=Xf(16777216),rd=Xf(0);Ab.ZERO=rd;var Yf=Xf(0,!0);Ab.UZERO=Yf;var Dh=Xf(1);Ab.ONE=Dh;var cw=Xf(1,!0);Ab.UONE=cw;var So=Xf(-1);Ab.NEG_ONE=So;var Cr=Bb(-1,2147483647,!1);Ab.MAX_VALUE=Cr;var Ar=Bb(-1,-1,!0);Ab.MAX_UNSIGNED_VALUE=Ar;var Mc=Bb(0,-2147483648,!1);Ab.MIN_VALUE=Mc;var sa=Ab.prototype;sa.toInt=function(){return this.unsigned?this.low>>>0:this.low},sa.toNumber=function(){return this.unsigned?(this.high>>>0)*Ug+(this.low>>>0):this.high*Ug+(this.low>>>0)},sa.toString=function(t){if(2>(t=t||10)||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Mc)){var n=qd(t),r=this.div(n);return n=r.mul(n).sub(this),r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}r=qd(Hj(t,6),this.unsigned),n=this;for(var o="";;){var i=n.div(r),s=(n.sub(i.mul(r)).toInt()>>>0).toString(t);if((n=i).isZero())return s+o;for(;6>s.length;)s="0"+s;o=""+s+o}},sa.getHighBits=function(){return this.high},sa.getHighBitsUnsigned=function(){return this.high>>>0},sa.getLowBits=function(){return this.low},sa.getLowBitsUnsigned=function(){return this.low>>>0},sa.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Mc)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;0<n&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},sa.isZero=function(){return 0===this.high&&0===this.low},sa.eqz=sa.isZero,sa.isNegative=function(){return!this.unsigned&&0>this.high},sa.isPositive=function(){return this.unsigned||0<=this.high},sa.isOdd=function(){return 1==(1&this.low)},sa.isEven=function(){return 0==(1&this.low)},sa.equals=function(t){return Lc(t)||(t=Nd(t)),(this.unsigned===t.unsigned||1!=this.high>>>31||1!=t.high>>>31)&&this.high===t.high&&this.low===t.low},sa.eq=sa.equals,sa.notEquals=function(t){return!this.eq(t)},sa.neq=sa.notEquals,sa.ne=sa.notEquals,sa.lessThan=function(t){return 0>this.comp(t)},sa.lt=sa.lessThan,sa.lessThanOrEqual=function(t){return 0>=this.comp(t)},sa.lte=sa.lessThanOrEqual,sa.le=sa.lessThanOrEqual,sa.greaterThan=function(t){return 0<this.comp(t)},sa.gt=sa.greaterThan,sa.greaterThanOrEqual=function(t){return 0<=this.comp(t)},sa.gte=sa.greaterThanOrEqual,sa.ge=sa.greaterThanOrEqual,sa.compare=function(t){if(Lc(t)||(t=Nd(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},sa.comp=sa.compare,sa.negate=function(){return!this.unsigned&&this.eq(Mc)?Mc:this.not().add(Dh)},sa.neg=sa.negate,sa.add=function(t){Lc(t)||(t=Nd(t));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=t.high>>>16,s=65535&t.high,a=t.low>>>16;return o=(a=((t=(65535&this.low)+(65535&t.low))>>>16)+(o+a))>>>16,Bb((65535&a)<<16|65535&t,(n=((o+=r+s)>>>16)+(n+i)&65535)<<16|65535&o,this.unsigned)},sa.subtract=function(t){return Lc(t)||(t=Nd(t)),this.add(t.neg())},sa.sub=sa.subtract,sa.multiply=function(t){if(this.isZero())return rd;if(Lc(t)||(t=Nd(t)),yd){var n=yd.mul(this.low,this.high,t.low,t.high);return Bb(n,yd.get_high(),this.unsigned)}if(t.isZero())return rd;if(this.eq(Mc))return t.isOdd()?Mc:rd;if(t.eq(Mc))return this.isOdd()?Mc:rd;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(bw)&&t.lt(bw))return qd(this.toNumber()*t.toNumber(),this.unsigned);n=this.high>>>16;var r=65535&this.high,o=this.low>>>16,i=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,c=i*(t=65535&t.low),l=(c>>>16)+o*t,f=l>>>16,p=(f+=((l=(65535&l)+i*u)>>>16)+r*t)>>>16;return Bb((65535&l)<<16|65535&c,(p=(p+=(f=(65535&f)+o*u)>>>16)+((f=(65535&f)+i*a)>>>16)+(n*t+r*u+o*a+i*s)&65535)<<16|65535&f,this.unsigned)},sa.mul=sa.multiply,sa.divide=function(t){if(Lc(t)||(t=Nd(t)),t.isZero())throw Error("division by zero");if(yd)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Bb(t=(this.unsigned?yd.div_u:yd.div_s)(this.low,this.high,t.low,t.high),yd.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Yf:rd;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Yf;if(t.gt(this.shru(1)))return cw;var n=Yf}else{if(this.eq(Mc)){if(t.eq(Dh)||t.eq(So))return Mc;if(t.eq(Mc))return Dh;var r=this.shr(1).div(t).shl(1);if(r.eq(rd))return t.isNegative()?Dh:So;var o=this.sub(t.mul(r));return r.add(o.div(t))}if(t.eq(Mc))return this.unsigned?Yf:rd;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();n=rd}for(o=this;o.gte(t);){var i=Math.ceil(Math.log(r=Math.max(1,Math.floor(o.toNumber()/t.toNumber())))/Math.LN2);i=48>=i?1:Hj(2,i-48);for(var s=qd(r),a=s.mul(t);a.isNegative()||a.gt(o);)a=(s=qd(r-=i,this.unsigned)).mul(t);s.isZero()&&(s=Dh),n=n.add(s),o=o.sub(a)}return n},sa.div=sa.divide,sa.modulo=function(t){return Lc(t)||(t=Nd(t)),yd?Bb(t=(this.unsigned?yd.rem_u:yd.rem_s)(this.low,this.high,t.low,t.high),yd.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},sa.mod=sa.modulo,sa.rem=sa.modulo,sa.not=function(){return Bb(~this.low,~this.high,this.unsigned)},sa.and=function(t){return Lc(t)||(t=Nd(t)),Bb(this.low&t.low,this.high&t.high,this.unsigned)},sa.or=function(t){return Lc(t)||(t=Nd(t)),Bb(this.low|t.low,this.high|t.high,this.unsigned)},sa.xor=function(t){return Lc(t)||(t=Nd(t)),Bb(this.low^t.low,this.high^t.high,this.unsigned)},sa.shiftLeft=function(t){return Lc(t)&&(t=t.toInt()),0==(t&=63)?this:32>t?Bb(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Bb(0,this.low<<t-32,this.unsigned)},sa.shl=sa.shiftLeft,sa.shiftRight=function(t){return Lc(t)&&(t=t.toInt()),0==(t&=63)?this:32>t?Bb(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Bb(this.high>>t-32,0<=this.high?0:-1,this.unsigned)},sa.shr=sa.shiftRight,sa.shiftRightUnsigned=function(t){if(Lc(t)&&(t=t.toInt()),0==(t&=63))return this;var n=this.high;return 32>t?Bb(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Bb(32===t?n:n>>>t-32,0,this.unsigned)},sa.shru=sa.shiftRightUnsigned,sa.shr_u=sa.shiftRightUnsigned,sa.toSigned=function(){return this.unsigned?Bb(this.low,this.high,!1):this},sa.toUnsigned=function(){return this.unsigned?this:Bb(this.low,this.high,!0)},sa.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},sa.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},sa.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Ab.fromBytes=function(t,n,r){return r?Ab.fromBytesLE(t,n):Ab.fromBytesBE(t,n)},Ab.fromBytesLE=function(t,n){return new Ab(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Ab.fromBytesBE=function(t,n){return new Ab(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var qm=function(t,n){return(qm=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},To=!1,sd={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e?console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack):To&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),To=e},get useDeprecatedSynchronousErrorHandling(){return To}},Wk={closed:!0,next:function(t){},error:function(t){if(sd.useDeprecatedSynchronousErrorHandling)throw t;Wg(t)},complete:function(){}},td=Array.isArray||function(t){return t&&"number"==typeof t.length},ii=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,n){return n+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),dc=function(){function t(t){this.closed=!1,this._subscriptions=this._parentOrParents=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,o=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(Vg(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(u){var a=u instanceof ii?Dr(u.errors):[u]}}if(td(i)){for(s=-1,n=i.length;++s<n;)if(rm(r=i[s]))try{r.unsubscribe()}catch(c){a=a||[],c instanceof ii?a=a.concat(Dr(c.errors)):a.push(c)}}if(a)throw new ii(a)}},t.prototype.add=function(n){var r=n;if(!n)return t.EMPTY;switch(Ia(n)){case"function":r=new t(n);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;r instanceof t||(n=r,(r=new t)._subscriptions=[n]);break;default:throw Error("unrecognized teardown "+n+" added to Subscription.")}if(null===(n=r._parentOrParents))r._parentOrParents=this;else if(n instanceof t){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}return null===(n=this._subscriptions)?this._subscriptions=[r]:n.push(r),r},t.prototype.remove=function(t){var n=this._subscriptions;n&&-1!==(t=n.indexOf(t))&&n.splice(t,1)},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}(),Xk="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),hb=function(t){function n(r,o,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Wk;break;case 1:if(!r){s.destination=Wk;break}if("object"===Ia(r)){r instanceof n?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new dw(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new dw(s,r,o,i)}return s}return Ca(n,t),n.prototype[Xk]=function(){return this},n.create=function(t,r,o){return(t=new n(t,r,o)).syncErrorThrowable=!1,t},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=t,this},n}(dc),dw=function(t){function n(n,r,o,i){var s=t.call(this)||this;if(s._parentSubscriber=n,n=s,Vg(r))var a=r;else r&&(a=r.next,o=r.error,i=r.complete,r!==Wk&&(Vg((n=Object.create(r)).unsubscribe)&&s.add(n.unsubscribe.bind(n)),n.unsubscribe=s.unsubscribe.bind(s)));return s._context=n,s._next=a,s._error=o,s._complete=i,s}return Ca(n,t),n.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;sd.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},n.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,r=sd.useDeprecatedSynchronousErrorHandling;if(this._error)r&&n.syncErrorThrowable?this.__tryOrSetError(n,this._error,t):this.__tryOrUnsub(this._error,t),this.unsubscribe();else if(n.syncErrorThrowable)r?(n.syncErrorValue=t,n.syncErrorThrown=!0):Wg(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Wg(t)}}},n.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};sd.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,r):this.__tryOrUnsub(r)}this.unsubscribe()}},n.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(r){if(this.unsubscribe(),sd.useDeprecatedSynchronousErrorHandling)throw r;Wg(r)}},n.prototype.__tryOrSetError=function(t,n,r){if(!sd.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{n.call(this._context,r)}catch(o){return sd.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0):Wg(o),!0}return!1},n.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._parentSubscriber=this._context=null,t.unsubscribe()},n}(hb),Xg="function"==typeof Symbol&&Symbol.observable||"@@observable",Za=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(n){var r=new t;return r.source=this,r.operator=n,r},t.prototype.subscribe=function(t,n,r){var o=this.operator;e:{if(t){if(t instanceof hb)break e;if(t[Xk]){t=t[Xk]();break e}}t=t||n||r?new hb(t,n,r):new hb(Wk)}if(o?t.add(o.call(t,this.source)):t.add(this.source||sd.useDeprecatedSynchronousErrorHandling&&!t.syncErrorThrowable?this._subscribe(t):this._trySubscribe(t)),sd.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable&&(t.syncErrorThrowable=!1,t.syncErrorThrown))throw t.syncErrorValue;return t},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){sd.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),sm(t)?t.error(n):console.warn(n)}},t.prototype.forEach=function(t,n){var r=this;return new(n=Fr(n))(function(n,o){var i=r.subscribe(function(n){try{t(n)}catch(r){o(r),i&&i.unsubscribe()}},o,n)})},t.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},t.prototype[Xg]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?this:Er(t)(this)},t.prototype.toPromise=function(t){var n=this;return new(t=Fr(t))(function(t,r){var o;n.subscribe(function(t){return o=t},function(t){return r(t)},function(){return t(o)})})},t.create=function(n){return new t(n)},t}(),Cf=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),ew=function(t){function n(n,r){var o=t.call(this)||this;return o.subject=n,o.subscriber=r,o.closed=!1,o}return Ca(n,t),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;this.subject=null,!n||0===n.length||t.isStopped||t.closed||-1!==(t=n.indexOf(this.subscriber))&&n.splice(t,1)}},n}(dc),fw=function(t){function n(n){var r=t.call(this,n)||this;return r.destination=n,r}return Ca(n,t),n}(hb),ec=function(t){function n(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return Ca(n,t),n.prototype[Xk]=function(){return new fw(this)},n.prototype.lift=function(t){var n=new gw(this,this);return n.operator=t,n},n.prototype.next=function(t){if(this.closed)throw new Cf;if(!this.isStopped){var n=this.observers,r=n.length;n=n.slice();for(var o=0;o<r;o++)n[o].next(t)}},n.prototype.error=function(t){if(this.closed)throw new Cf;this.hasError=!0,this.thrownError=t,this.isStopped=!0;var n=this.observers,r=n.length;n=n.slice();for(var o=0;o<r;o++)n[o].error(t);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new Cf;this.isStopped=!0;var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},n.prototype._trySubscribe=function(n){if(this.closed)throw new Cf;return t.prototype._trySubscribe.call(this,n)},n.prototype._subscribe=function(t){if(this.closed)throw new Cf;return this.hasError?(t.error(this.thrownError),dc.EMPTY):this.isStopped?(t.complete(),dc.EMPTY):(this.observers.push(t),new ew(this,t))},n.prototype.asObservable=function(){var t=new Za;return t.source=this,t},n.create=function(t,n){return new gw(t,n)},n}(Za),gw=function(t){function n(n,r){var o=t.call(this)||this;return o.destination=n,o.source=r,o}return Ca(n,t),n.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},n.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},n.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},n.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):dc.EMPTY},n}(ec),hB=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,n){var r=this.connectable;return r._refCount++,t=new vH(t,r),n=n.subscribe(t),t.closed||(t.connection=r.connect()),n},t}(),vH=function(t){function n(n,r){return(n=t.call(this,n)||this).connectable=r,n}return Ca(n,t),n.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._refCount;0>=n?this.connection=null:(t._refCount=n-1,1<n?this.connection=null:(n=this.connection,t=t._connection,this.connection=null,!t||n&&t!==n||t.unsubscribe()))}else this.connection=null},n}(hb),hw=function(t){function n(n,r){var o=t.call(this)||this;return o.source=n,o.subjectFactory=r,o._refCount=0,o._isComplete=!1,o}return Ca(n,t),n.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},n.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},n.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new dc).add(this.source.subscribe(new wH(this.getSubject(),this))),t.closed&&(this._connection=null,t=dc.EMPTY)),t},n.prototype.refCount=function(){return Gr()(this)},n}(Za),WB=function(){var t=hw.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),wH=function(t){function n(n,r){return(n=t.call(this,n)||this).connectable=r,n}return Ca(n,t),n.prototype._error=function(n){this._unsubscribe(),t.prototype._error.call(this,n)},n.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},n.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},n}(fw);!function(t){function n(n,r){return(n=t.call(this,n)||this).connectable=r,n}Ca(n,t),n.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._refCount;0>=n?this.connection=null:(t._refCount=n-1,1<n?this.connection=null:(n=this.connection,t=t._connection,this.connection=null,!t||n&&t!==n||t.unsubscribe()))}else this.connection=null}}(hb),function(t){function n(n,r,o,i,s){return(n=t.call(this,n)||this).keySelector=r,n.elementSelector=o,n.durationSelector=i,n.subjectSelector=s,n.groups=null,n.attemptedToUnsubscribe=!1,n.count=0,n}Ca(n,t),n.prototype._next=function(t){try{var n=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,n)},n.prototype._group=function(t,n){var r=this.groups;r||(r=this.groups=new Map);var o=r.get(n);if(this.elementSelector)try{var i=this.elementSelector(t)}catch(s){this.error(s)}else i=t;if(!o&&(o=this.subjectSelector?this.subjectSelector():new ec,r.set(n,o),t=new Uo(n,o,this),this.destination.next(t),this.durationSelector)){t=void 0;try{t=this.durationSelector(new Uo(n,o))}catch(a){return void this.error(a)}this.add(t.subscribe(new xH(n,o,this)))}o.closed||o.next(i)},n.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(n,r){n.error(t)}),n.clear()),this.destination.error(t)},n.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,n){t.complete()}),t.clear()),this.destination.complete()},n.prototype.removeGroup=function(t){this.groups.delete(t)},n.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))}}(hb);var Wo,xH=function(t){function n(n,r,o){var i=t.call(this,r)||this;return i.key=n,i.group=r,i.parent=o,i}return Ca(n,t),n.prototype._next=function(t){this.complete()},n.prototype._unsubscribe=function(){var t=this.parent,n=this.key;this.key=this.parent=null,t&&t.removeGroup(n)},n}(hb),Uo=function(t){function n(n,r,o){var i=t.call(this)||this;return i.key=n,i.groupSubject=r,i.refCountSubscription=o,i}return Ca(n,t),n.prototype._subscribe=function(t){var n=new dc,r=this.refCountSubscription,o=this.groupSubject;return r&&!r.closed&&n.add(new yH(r)),n.add(o.subscribe(t)),n},n}(Za),yH=function(t){function n(n){var r=t.call(this)||this;return r.parent=n,n.count++,r}return Ca(n,t),n.prototype.unsubscribe=function(){var n=this.parent;n.closed||this.closed||(t.prototype.unsubscribe.call(this),--n.count,0===n.count&&n.attemptedToUnsubscribe&&n.unsubscribe())},n}(dc),zH=function(t){function n(n){var r=t.call(this)||this;return r._value=n,r}return Ca(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Cf;return this._value},n.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},n}(ec),dj=function(t){function n(n,r){var o=t.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return Ca(n,t),n.prototype.schedule=function(t,n){if(void 0===n&&(n=0),this.closed)return this;this.state=t,t=this.id;var r=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(r,t,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(r,this.id,n),this},n.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},n.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)},n.prototype.execute=function(t,n){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(t=this._execute(t,n))?t:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},n.prototype._execute=function(t,n){n=!1;var r=void 0;try{this.work(t)}catch(o){n=!0,r=!!o&&o||Error(o)}if(n)return this.unsubscribe(),r},n.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,r=n.actions,o=r.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==o&&r.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},n}(function(t){function n(n,r){return t.call(this)||this}return Ca(n,t),n.prototype.schedule=function(t,n){return this},n}(dc)),AH=function(t){function n(n,r){var o=t.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(n,t),n.prototype.schedule=function(n,r){return void 0===r&&(r=0),0<r?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},n.prototype.execute=function(n,r){return 0<r||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},n.prototype.requestAsyncId=function(n,r,o){return void 0===o&&(o=0),null!==o&&0<o||null===o&&0<this.delay?t.prototype.requestAsyncId.call(this,n,r,o):n.flush(this)},n}(dj),Vo=function(){function t(n,r){void 0===r&&(r=t.now),this.SchedulerAction=n,this.now=r}return t.prototype.schedule=function(t,n,r){return void 0===n&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},t.now=function(){return Date.now()},t}(),ej=function(t){function n(r,o){void 0===o&&(o=Vo.now);var i=t.call(this,r,function(){return n.delegate&&n.delegate!==i?n.delegate.now():o()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return Ca(n,t),n.prototype.schedule=function(r,o,i){return void 0===o&&(o=0),n.delegate&&n.delegate!==this?n.delegate.schedule(r,o,i):t.prototype.schedule.call(this,r,o,i)},n.prototype.flush=function(t){var n,r=this.actions;if(this.active)r.push(t);else{this.active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=r.shift());if(this.active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}},n}(Vo),fj=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ca(n,t),n}(ej))(AH),$c=new Za(function(t){return t.complete()}),Hr=function(t){return function(n){for(var r=0,o=t.length;r<o&&!n.closed;r++)n.next(t[r]);n.complete()}};!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(Wo||(Wo={}));var Eh=function(){function t(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,n,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,n,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,n,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Wb(this.value);case"E":return Va(this.error);case"C":return ji()}throw Error("unexpected notification kind value")},t.createNext=function(n){return void 0!==n?new t("N",n):t.undefinedValueNotification},t.createError=function(n){return new t("E",void 0,n)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),lB=function(){function t(t,n){void 0===n&&(n=0),this.scheduler=t,this.delay=n}return t.prototype.call=function(t,n){return n.subscribe(new iw(t,this.scheduler,this.delay))},t}(),iw=function(t){function n(n,r,o){return void 0===o&&(o=0),(n=t.call(this,n)||this).scheduler=r,n.delay=o,n}return Ca(n,t),n.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},n.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new BH(t,this.destination)))},n.prototype._next=function(t){this.scheduleMessage(Eh.createNext(t))},n.prototype._error=function(t){this.scheduleMessage(Eh.createError(t)),this.unsubscribe()},n.prototype._complete=function(){this.scheduleMessage(Eh.createComplete()),this.unsubscribe()},n}(hb),BH=function(t,n){this.notification=t,this.destination=n},ah=function(t){function n(n,r,o){void 0===n&&(n=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=o,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=1>n?1:n,i._windowTime=1>r?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return Ca(n,t),n.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,n)},n.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new CH(this._getNow(),n)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,n)},n.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new Cf;if(this.isStopped||this.hasError)var s=dc.EMPTY;else this.observers.push(t),s=new ew(this,t);if(o&&t.add(t=new iw(t,o)),n)for(n=0;n<i&&!t.closed;n++)t.next(r[n]);else for(n=0;n<i&&!t.closed;n++)t.next(r[n].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s},n.prototype._getNow=function(){return(this.scheduler||fj).now()},n.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,r=this._windowTime,o=this._events,i=o.length,s=0;s<i&&!(t-o[s].time<r);)s++;return i>n&&(s=Math.max(s,i-n)),0<s&&o.splice(0,s),o},n}(ec),CH=function(t,n){this.time=t,this.value=n},li=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return Ca(n,t),n.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),dc.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),dc.EMPTY):t.prototype._subscribe.call(this,n)},n.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},n.prototype.error=function(n){this.hasCompleted||t.prototype.error.call(this,n)},n.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},n}(ec),DH=1,EH=Promise.resolve(),vm={},jw={setImmediate:function(t){var n=DH++;return vm[n]=!0,EH.then(function(){return Ir(n)&&t()}),n},clearImmediate:function(t){Ir(t)}},FH=function(t){function n(n,r){var o=t.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(n,t),n.prototype.requestAsyncId=function(n,r,o){return void 0===o&&(o=0),null!==o&&0<o?t.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n.scheduled||(n.scheduled=jw.setImmediate(n.flush.bind(n,null))))},n.prototype.recycleAsyncId=function(n,r,o){if(void 0===o&&(o=0),null!==o&&0<o||null===o&&0<this.delay)return t.prototype.recycleAsyncId.call(this,n,r,o);0===n.actions.length&&(jw.clearImmediate(r),n.scheduled=void 0)},n}(dj),Fm=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ca(n,t),n.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n,r=this.actions,o=-1,i=r.length;t=t||r.shift();do if(n=t.execute(t.state,t.delay))break;while(++o<i&&(t=r.shift()));if(this.active=!1,n){for(;++o<i&&(t=r.shift());)t.unsubscribe();throw n}},n}(ej))(FH),GH=Fm,Xo=new ej(dj),Ee=Xo,HH=function(t){function n(n,r){var o=t.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(n,t),n.prototype.requestAsyncId=function(n,r,o){return void 0===o&&(o=0),null!==o&&0<o?t.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},n.prototype.recycleAsyncId=function(n,r,o){if(void 0===o&&(o=0),null!==o&&0<o||null===o&&0<this.delay)return t.prototype.recycleAsyncId.call(this,n,r,o);0===n.actions.length&&(cancelAnimationFrame(r),n.scheduled=void 0)},n}(dj),kw=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ca(n,t),n.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n,r=this.actions,o=-1,i=r.length;t=t||r.shift();do if(n=t.execute(t.state,t.delay))break;while(++o<i&&(t=r.shift()));if(this.active=!1,n){for(;++o<i&&(t=r.shift());)t.unsubscribe();throw n}},n}(ej))(HH),IH=function(t){function n(n,r){void 0===n&&(n=lw),void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,n,function(){return o.frame})||this;return o.maxFrames=r,o.frame=0,o.index=-1,o}return Ca(n,t),n.prototype.flush=function(){for(var t,n,r=this.actions,o=this.maxFrames;(n=r[0])&&n.delay<=o&&(r.shift(),this.frame=n.delay,!(t=n.execute(n.state,n.delay))););if(t){for(;n=r.shift();)n.unsubscribe();throw t}},n.frameTimeFactor=10,n}(ej),lw=function(t){function n(n,r,o){void 0===o&&(o=n.index+=1);var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.index=o,i.active=!0,i.index=n.index=o,i}return Ca(n,t),n.prototype.schedule=function(r,o){if(void 0===o&&(o=0),!this.id)return t.prototype.schedule.call(this,r,o);this.active=!1;var i=new n(this.scheduler,this.work);return this.add(i),i.schedule(r,o)},n.prototype.requestAsyncId=function(t,r,o){return void 0===o&&(o=0),this.delay=t.frame+o,(t=t.actions).push(this),t.sort(n.sortActions),!0},n.prototype.recycleAsyncId=function(t,n,r){},n.prototype._execute=function(n,r){if(!0===this.active)return t.prototype._execute.call(this,n,r)},n.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},n}(dj),Yo=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Lj=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ad=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),mB=function(){function t(t,n){this.project=t,this.thisArg=n}return t.prototype.call=function(t,n){return n.subscribe(new JH(t,this.project,this.thisArg))},t}(),JH=function(t){function n(n,r,o){return(n=t.call(this,n)||this).project=r,n.count=0,n.thisArg=o||n,n}return Ca(n,t),n.prototype._next=function(t){try{var n=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)},n}(hb),Zo=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ca(n,t),n.prototype.notifyNext=function(t,n,r,o,i){this.destination.next(n)},n.prototype.notifyError=function(t,n){this.destination.error(t)},n.prototype.notifyComplete=function(t){this.destination.complete()},n}(hb),rB=function(t){function n(n,r,o){var i=t.call(this)||this;return i.parent=n,i.outerValue=r,i.outerIndex=o,i.index=0,i}return Ca(n,t),n.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},n.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},n}(hb),KH=function(t){return function(n){return t.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,Wg),n}},kf="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",LH=function(t){return function(n){for(var r=t[kf]();;){var o=void 0;try{o=r.next()}catch(i){return n.error(i),n}if(o.done){n.complete();break}if(n.next(o.value),n.closed)break}return"function"==typeof r.return&&n.add(function(){r.return&&r.return()}),n}},MH=function(t){return function(n){var r=t[Xg]();if("function"!=typeof r.subscribe)throw TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(n)}},Or=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t},mi=function(t){if(t&&"function"==typeof t[Xg])return MH(t);if(Or(t))return Hr(t);if(Mr(t))return KH(t);if(t&&"function"==typeof t[kf])return LH(t);throw TypeError("You provided "+(t=rm(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},mw={},OH=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,n){return n.subscribe(new NH(t,this.resultSelector))},t}(),NH=function(t){function n(n,r){return(n=t.call(this,n)||this).resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return Ca(n,t),n.prototype._next=function(t){this.values.push(mw),this.observables.push(t)},n.prototype._complete=function(){var t=this.observables,n=t.length;if(0===n)this.destination.complete();else{this.toRespond=this.active=n;for(var r=0;r<n;r++)this.add(wm(this,t[r],void 0,r))}},n.prototype.notifyComplete=function(t){0==--this.active&&this.destination.complete()},n.prototype.notifyNext=function(t,n,r){var o=(t=this.values)[r];o=this.toRespond?o===mw?--this.toRespond:this.toRespond:0,t[r]=n,0===o&&(this.resultSelector?this._tryResultSelector(t):this.destination.next(t.slice()))},n.prototype._tryResultSelector=function(t){try{var n=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(n)},n}(Zo),Qe=function(t){function n(n){var r=t.call(this)||this;return r.parent=n,r}return Ca(n,t),n.prototype._next=function(t){this.parent.notifyNext(t)},n.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},n}(hb);!function(t){function n(n,r,o){var i=t.call(this)||this;return i.parent=n,i.outerValue=r,i.outerIndex=o,i}Ca(n,t),n.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},n.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}}(hb);var Re=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ca(n,t),n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyError=function(t){this.destination.error(t)},n.prototype.notifyComplete=function(){this.destination.complete()},n}(hb);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ca(n,t),n.prototype.notifyNext=function(t,n,r,o){this.destination.next(n)},n.prototype.notifyError=function(t){this.destination.error(t)},n.prototype.notifyComplete=function(t){this.destination.complete()}}(hb);var vB=function(){function t(t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=n}return t.prototype.call=function(t,n){return n.subscribe(new PH(t,this.project,this.concurrent))},t}(),PH=function(t){function n(n,r,o){return void 0===o&&(o=Number.POSITIVE_INFINITY),(n=t.call(this,n)||this).project=r,n.concurrent=o,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return Ca(n,t),n.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},n.prototype._tryNext=function(t){var n=this.index++;try{var r=this.project(t,n)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(r)},n.prototype._innerSub=function(t){var n=new Qe(this),r=this.destination;r.add(n),(t=De(t,n))!==n&&r.add(t)},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyComplete=function(){var t=this.buffer;this.active--,0<t.length?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},n}(Re),$o=na.parseFloat,nw=-1/0!=1/$o("	\n\v\f\r \xa0áââââââââââââ¯âã\u2028\u2029\uFEFF-0")?function(t){var n=$o(t=kk(String(t)));return 0===n&&"-"==t.charAt(0)?-0:n}:$o;wa({global:!0,forced:parseFloat!=nw},{parseFloat:nw});var ap=new Za(fe),AB=function(){function t(t,n){this.predicate=t,this.thisArg=n}return t.prototype.call=function(t,n){return n.subscribe(new QH(t,this.predicate,this.thisArg))},t}(),QH=function(t){function n(n,r,o){return(n=t.call(this,n)||this).predicate=r,n.thisArg=o,n.count=0,n}return Ca(n,t),n.prototype._next=function(t){try{var n=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(t)},n}(hb),BB=function(){function t(){}return t.prototype.call=function(t,n){return n.subscribe(new RH(t))},t}(),RH=function(t){function n(n){return(n=t.call(this,n)||this).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return Ca(n,t),n.prototype._next=function(t){this.observables.push(t)},n.prototype._complete=function(){var t=this.observables,n=t.length;if(0===n)this.destination.complete();else{for(var r=0;r<n&&!this.hasFirst;r++){var o=wm(this,t[r],void 0,r);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},n.prototype.notifyNext=function(t,n,r){if(!this.hasFirst){for(this.hasFirst=!0,t=0;t<this.subscriptions.length;t++)if(t!==r){var o=this.subscriptions[t];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},n}(Zo),EB=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,n){return n.subscribe(new SH(t,this.resultSelector))},t}(),SH=function(t){function n(n,r,o){return(n=t.call(this,n)||this).resultSelector=r,n.iterators=[],n.active=0,n.resultSelector="function"==typeof r?r:void 0,n}return Ca(n,t),n.prototype._next=function(t){var n=this.iterators;td(t)?n.push(new TH(t)):"function"==typeof t[kf]?n.push(new UH(t[kf]())):n.push(new VH(this.destination,this,t))},n.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),0===n)this.destination.complete();else{this.active=n;for(var r=0;r<n;r++){var o=t[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}},n.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},n.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,r=this.destination,o=0;o<n;o++){var i=t[o];if("function"==typeof i.hasValue&&!i.hasValue())return}var s=!1,a=[];for(o=0;o<n;o++){var u=(i=t[o]).next();if(i.hasCompleted()&&(s=!0),u.done)return void r.complete();a.push(u.value)}this.resultSelector?this._tryresultSelector(a):r.next(a),s&&r.complete()},n.prototype._tryresultSelector=function(t){try{var n=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(n)},n}(hb),UH=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return!(!t||!t.done)},t}(),TH=function(){function t(t){this.array=t,this.length=this.index=0,this.length=t.length}return t.prototype[kf]=function(){return this},t.prototype.next=function(t){t=this.index++;var n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),VH=function(t){function n(n,r,o){return(n=t.call(this,n)||this).parent=r,n.observable=o,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return Ca(n,t),n.prototype[kf]=function(){return this},n.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},n.prototype.hasValue=function(){return 0<this.buffer.length},n.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},n.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},n.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},n.prototype.subscribe=function(){return De(this.observable,new Qe(this))},n}(Re),WH=Object.freeze({__proto__:null,Observable:Za,ConnectableObservable:hw,GroupedObservable:Uo,observable:Xg,Subject:ec,BehaviorSubject:zH,ReplaySubject:ah,AsyncSubject:li,asap:GH,asapScheduler:Fm,async:Ee,asyncScheduler:Xo,queue:fj,queueScheduler:fj,animationFrame:kw,animationFrameScheduler:kw,VirtualTimeScheduler:IH,VirtualAction:lw,Scheduler:Vo,Subscription:dc,Subscriber:hb,Notification:Eh,get NotificationKind(){return Wo},pipe:tm,noop:fe,identity:jf,isObservable:function(t){return!!t&&(t instanceof Za||"function"==typeof t.lift&&"function"==typeof t.subscribe)},ArgumentOutOfRangeError:Yo,EmptyError:Lj,ObjectUnsubscribedError:Cf,UnsubscriptionError:ii,TimeoutError:ad,bindCallback:Jr,bindNodeCallback:Kr,combineLatest:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=n=void 0;return Ce(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&td(t[0])&&(t=t[0]),ki(t,r).lift(new OH(n))},concat:Pr,defer:lf,empty:ji,forkJoin:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(td(r))return Jj(r,null);if(rm(r)&&Object.getPrototypeOf(r)===Object.prototype)return Jj((t=Object.keys(r)).map(function(t){return r[t]}),t)}if("function"==typeof t[t.length-1]){var o=t.pop();return Jj(t=1===t.length&&td(t[0])?t[0]:t,null).pipe(Wa(function(t){return o.apply(void 0,t)}))}return Jj(t,null)},from:ge,fromEvent:Bc,fromEventPattern:Rr,generate:function(t,n,r,o,i){if(1==arguments.length){var s=t.initialState;n=t.condition,r=t.iterate;var a=t.resultSelector||jf;i=t.scheduler}else void 0===o||Ce(o)?(s=t,a=jf,i=o):(s=t,a=o);return new Za(function(t){var o=s;if(i)return i.schedule(wB,0,{subscriber:t,iterate:r,condition:n,resultSelector:a,state:o});for(;;){if(n){var u=void 0;try{u=n(o)}catch(c){t.error(c);break}if(!u){t.complete();break}}u=void 0;try{u=a(o)}catch(l){t.error(l);break}if(t.next(u),t.closed)break;try{o=r(o)}catch(f){t.error(f);break}}})},iif:function(t,n,r){return void 0===n&&(n=$c),void 0===r&&(r=$c),lf(function(){return t()?n:r})},interval:Yg,merge:Nc,never:function(){return ap},of:Wb,onErrorResumeNext:ym,pairs:function(t,n){return new Za(n?function(r){var o=Object.keys(t),i=new dc;return i.add(n.schedule(yB,0,{keys:o,index:0,subscriber:r,subscription:i,obj:t})),i}:function(n){for(var r=Object.keys(t),o=0;o<r.length&&!n.closed;o++){var i=r[o];t.hasOwnProperty(i)&&n.next([i,t[i]])}n.complete()})},partition:function(t,n,r){return[sc(n,r)(new Za(mi(t))),sc(zB(n,r))(new Za(mi(t)))]},race:bb,range:function(t,n,r){return void 0===t&&(t=0),new Za(function(o){void 0===n&&(n=t,t=0);var i=0,s=t;if(r)return r.schedule(CB,0,{index:i,count:n,start:t,subscriber:o});for(;;){if(i++>=n){o.complete();break}if(o.next(s++),o.closed)break}})},throwError:Va,timer:Fe,using:function(t,n){return new Za(function(r){try{var o=t()}catch(i){return void r.error(i)}try{var s=n(o)}catch(a){return void r.error(a)}var u=(s?ge(s):$c).subscribe(r);return function(){u.unsubscribe(),o&&o.unsubscribe()}})},zip:zm,scheduled:Nr,EMPTY:$c,NEVER:ap,config:sd}),FB=function(){function t(t,n,r,o){this.bufferTimeSpan=t,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=o}return t.prototype.call=function(t,n){return n.subscribe(new XH(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),YH=function(){this.buffer=[]},XH=function(t){function n(n,r,o,i,s){if((n=t.call(this,n)||this).bufferTimeSpan=r,n.bufferCreationInterval=o,n.maxBufferSize=i,n.scheduler=s,n.contexts=[],i=n.openContext(),n.timespanOnly=null==o||0>o,n.timespanOnly)n.add(i.closeAction=s.schedule(Sr,r,{subscriber:n,context:i,bufferTimeSpan:r}));else{var a={bufferTimeSpan:r,bufferCreationInterval:o,subscriber:n,scheduler:s};n.add(i.closeAction=s.schedule(Tr,r,{subscriber:n,context:i})),n.add(s.schedule(GB,o,a))}return n}return Ca(n,t),n.prototype._next=function(t){for(var n,r=this.contexts,o=r.length,i=0;i<o;i++){var s=r[i],a=s.buffer;a.push(t),a.length==this.maxBufferSize&&(n=s)}n&&this.onBufferFull(n)},n.prototype._error=function(n){this.contexts.length=0,t.prototype._error.call(this,n)},n.prototype._complete=function(){for(var n=this.contexts,r=this.destination;0<n.length;){var o=n.shift();r.next(o.buffer)}t.prototype._complete.call(this)},n.prototype._unsubscribe=function(){this.contexts=null},n.prototype.onBufferFull=function(t){if(this.closeContext(t),(t=t.closeAction).unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(Sr,n,{subscriber:this,context:t,bufferTimeSpan:n}))}},n.prototype.openContext=function(){var t=new YH;return this.contexts.push(t),t},n.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts;0<=(n?n.indexOf(t):-1)&&n.splice(n.indexOf(t),1)},n}(hb),HB=function(){function t(t){this.selector=t}return t.prototype.call=function(t,n){return n.subscribe(new ZH(t,this.selector,this.caught))},t}(),ZH=function(t){function n(n,r,o){return(n=t.call(this,n)||this).selector=r,n.caught=o,n}return Ca(n,t),n.prototype.error=function(n){if(!this.isStopped){var r=void 0;try{r=this.selector(n,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle(),n=new Qe(this),this.add(n),(r=De(r,n))!==n&&this.add(r)}},n}(Re),IB=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,n){return n.subscribe(new $H(t,this.defaultValue))},t}(),$H=function(t){function n(n,r){return(n=t.call(this,n)||this).defaultValue=r,n.isEmpty=!0,n}return Ca(n,t),n.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},n.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},n}(hb),JB=function(){function t(t,n){this.delay=t,this.scheduler=n}return t.prototype.call=function(t,n){return n.subscribe(new aI(t,this.delay,this.scheduler))},t}(),aI=function(t){function n(n,r,o){return(n=t.call(this,n)||this).delay=r,n.scheduler=o,n.queue=[],n.active=!1,n.errored=!1,n}return Ca(n,t),n.dispatch=function(t){for(var n=t.source,r=n.queue,o=t.scheduler,i=t.destination;0<r.length&&0>=r[0].time-o.now();)r.shift().notification.observe(i);0<r.length?(n=Math.max(0,r[0].time-o.now()),this.schedule(t,n)):(this.unsubscribe(),n.active=!1)},n.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},n.prototype.scheduleNotification=function(t){if(!0!==this.errored){var n=this.scheduler;t=new bI(n.now()+this.delay,t),this.queue.push(t),!1===this.active&&this._schedule(n)}},n.prototype._next=function(t){this.scheduleNotification(Eh.createNext(t))},n.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.scheduleNotification(Eh.createComplete()),this.unsubscribe()},n}(hb),bI=function(t,n){this.time=t,this.notification=n},KB=function(){function t(t,n){this.keySelector=t,this.flushes=n}return t.prototype.call=function(t,n){return n.subscribe(new cI(t,this.keySelector,this.flushes))},t}(),cI=function(t){function n(n,r,o){return(n=t.call(this,n)||this).keySelector=r,n.values=new Set,o&&n.add(De(o,new Qe(n))),n}return Ca(n,t),n.prototype.notifyNext=function(){this.values.clear()},n.prototype.notifyError=function(t){this._error(t)},n.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},n.prototype._useKeySelector=function(t){var n=this.destination;try{var r=this.keySelector(t)}catch(o){return void n.error(o)}this._finalizeNext(r,t)},n.prototype._finalizeNext=function(t,n){var r=this.values;r.has(t)||(r.add(t),this.destination.next(n))},n}(Re),MB=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,n){return n.subscribe(new dI(t,this.errorFactory))},t}(),dI=function(t){function n(n,r){return(n=t.call(this,n)||this).errorFactory=r,n.hasValue=!1,n}return Ca(n,t),n.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},n.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},n}(hb),NB=function(){function t(t){if(this.total=t,0>this.total)throw new Yo}return t.prototype.call=function(t,n){return n.subscribe(new eI(t,this.total))},t}(),eI=function(t){function n(n,r){return(n=t.call(this,n)||this).total=r,n.count=0,n}return Ca(n,t),n.prototype._next=function(t){var n=this.total,r=++this.count;r<=n&&(this.destination.next(t),r===n&&(this.destination.complete(),this.unsubscribe()))},n}(hb),OB=function(){function t(t){this.callback=t}return t.prototype.call=function(t,n){return n.subscribe(new fI(t,this.callback))},t}(),fI=function(t){function n(n,r){return(n=t.call(this,n)||this).add(new dc(r)),n}return Ca(n,t),n}(hb),QB=function(){function t(){}return t.prototype.call=function(t,n){return n.subscribe(new gI(t))},t}(),gI=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ca(n,t),n.prototype._next=function(t){},n}(hb),RB=function(){function t(t){if(this.total=t,0>this.total)throw new Yo}return t.prototype.call=function(t,n){return n.subscribe(new hI(t,this.total))},t}(),hI=function(t){function n(n,r){return(n=t.call(this,n)||this).total=r,n.ring=[],n.count=0,n}return Ca(n,t),n.prototype._next=function(t){var n=this.ring,r=this.total,o=this.count++;n.length<r?n.push(t):n[o%r]=t},n.prototype._complete=function(){var t=this.destination,n=this.count;if(0<n)for(var r=this.count>=this.total?this.total:this.count,o=this.ring,i=0;i<r;i++){var s=n++%r;t.next(o[s])}t.complete()},n}(hb),SB=function(){function t(t){this.value=t}return t.prototype.call=function(t,n){return n.subscribe(new iI(t,this.value))},t}(),iI=function(t){function n(n,r){return(n=t.call(this,n)||this).value=r,n}return Ca(n,t),n.prototype._next=function(t){this.destination.next(this.value)},n}(hb),TB=function(){function t(t,n,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=n,this.hasSeed=r}return t.prototype.call=function(t,n){return n.subscribe(new jI(t,this.accumulator,this.seed,this.hasSeed))},t}(),jI=function(t){function n(n,r,o,i){return(n=t.call(this,n)||this).accumulator=r,n._seed=o,n.hasSeed=i,n.index=0,n}return Ca(n,t),Object.defineProperty(n.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),n.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},n.prototype._tryNext=function(t){var n=this.index++;try{var r=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)},n}(hb),VB=function(){function t(t,n){this.subjectFactory=t,this.selector=n}return t.prototype.call=function(t,n){var r=this.selector,o=this.subjectFactory();return(t=r(o).subscribe(t)).add(n.subscribe(o)),t},t}(),XB=function(){function t(t,n){this.notifier=t,this.source=n}return t.prototype.call=function(t,n){return n.subscribe(new kI(t,this.notifier,this.source))},t}(),kI=function(t){function n(n,r,o){return(n=t.call(this,n)||this).notifier=r,n.source=o,n}return Ca(n,t),n.prototype.error=function(n){if(!this.isStopped){var r=this.errors,o=this.retries,i=this.retriesSubscription;if(o)this.retriesSubscription=this.errors=void 0;else{r=new ec;try{o=(0,this.notifier)(r)}catch(s){return t.prototype.error.call(this,s)}i=De(o,new Qe(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=o,this.retriesSubscription=i,r.next(n)}},n.prototype._unsubscribe=function(){var t=this.errors,n=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),n&&(n.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},n.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},n}(Re),$B=function(){function t(t){this.project=t}return t.prototype.call=function(t,n){return n.subscribe(new lI(t,this.project))},t}(),lI=function(t){function n(n,r){return(n=t.call(this,n)||this).project=r,n.index=0,n}return Ca(n,t),n.prototype._next=function(t){var n=this.index++;try{var r=this.project(t,n)}catch(o){return void this.destination.error(o)}this._innerSub(r)},n.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe(),n=new Qe(this);var r=this.destination;r.add(n),this.innerSubscription=De(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},n.prototype._complete=function(){var n=this.innerSubscription;n&&!n.closed||t.prototype._complete.call(this),this.unsubscribe()},n.prototype._unsubscribe=function(){this.innerSubscription=void 0},n.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},n.prototype.notifyNext=function(t){this.destination.next(t)},n}(Re),aC=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,n){t=new mI(t);var r=De(this.notifier,new Qe(t));return r&&!t.seenValue?(t.add(r),n.subscribe(t)):t},t}(),mI=function(t){function n(n){return(n=t.call(this,n)||this).seenValue=!1,n}return Ca(n,t),n.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},n.prototype.notifyComplete=function(){},n}(Re),bC=function(){function t(t,n,r){this.nextOrObserver=t,this.error=n,this.complete=r}return t.prototype.call=function(t,n){return n.subscribe(new nI(t,this.nextOrObserver,this.error,this.complete))},t}(),nI=function(t){function n(n,r,o,i){return(n=t.call(this,n)||this)._tapNext=fe,n._tapError=fe,n._tapComplete=fe,n._tapError=o||fe,n._tapComplete=i||fe,Vg(r)?(n._context=n,n._tapNext=r):r&&(n._context=r,n._tapNext=r.next||fe,n._tapError=r.error||fe,n._tapComplete=r.complete||fe),n}return Ca(n,t),n.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.next(t)},n.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.error(t)},n.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},n}(hb),dC={leading:!0,trailing:!1};!function(t){function n(n,r,o,i){var s=t.call(this,n)||this;return s.destination=n,s.durationSelector=r,s._leading=o,s._trailing=i,s._hasValue=!1,s}Ca(n,t),n.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},n.prototype.send=function(){var t=this._sendValue;this._hasValue&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},n.prototype.throttle=function(t){(t=this.tryDurationSelector(t))&&this.add(this._throttled=De(t,new Qe(this)))},n.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},n.prototype.throttlingDone=function(){var t=this._throttled,n=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,n&&this.send()},n.prototype.notifyNext=function(){this.throttlingDone()},n.prototype.notifyComplete=function(){this.throttlingDone()}}(Re);for(var eC=function(){function t(t,n,r,o){this.duration=t,this.scheduler=n,this.leading=r,this.trailing=o}return t.prototype.call=function(t,n){return n.subscribe(new oI(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),oI=function(t){function n(n,r,o,i,s){return(n=t.call(this,n)||this).duration=r,n.scheduler=o,n.leading=i,n.trailing=s,n._hasTrailingValue=!1,n._trailingValue=null,n}return Ca(n,t),n.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(fC,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},n.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},n.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},n}(hb),hC=function(){function t(t,n,r,o){this.waitFor=t,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=o}return t.prototype.call=function(t,n){return n.subscribe(new pI(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),pI=function(t){function n(n,r,o,i,s){return(n=t.call(this,n)||this).absoluteTimeout=r,n.waitFor=o,n.withObservable=i,n.scheduler=s,n.scheduleTimeout(),n}return Ca(n,t),n.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(De(n,new Qe(t)))},n.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))},n.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,n)},n.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},n}(Re),jC=function(){function t(t,n){this.observables=t,this.project=n}return t.prototype.call=function(t,n){return n.subscribe(new qI(t,this.observables,this.project))},t}(),qI=function(t){function n(n,r,o){(n=t.call(this,n)||this).observables=r,n.project=o,n.toRespond=[],o=r.length,n.values=Array(o);for(var i=0;i<o;i++)n.toRespond.push(i);for(i=0;i<o;i++)n.add(wm(n,r[i],void 0,i));return n}return Ca(n,t),n.prototype.notifyNext=function(t,n,r){this.values[r]=n,0<(t=this.toRespond).length&&-1!==(r=t.indexOf(r))&&t.splice(r,1)},n.prototype.notifyComplete=function(){},n.prototype._next=function(t){0===this.toRespond.length&&(t=[t].concat(this.values),this.project?this._tryProject(t):this.destination.next(t))},n.prototype._tryProject=function(t){try{var n=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(n)},n}(Zo),ow=kc(function(t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=Array(16);t.exports=function(){for(var t,n=0;16>n;n++)0==(3&n)&&(t=4294967296*Math.random()),o[n]=t>>>((3&n)<<3)&255;return o}}}),tc=[],Yk=0;256>Yk;++Yk)tc[Yk]=(Yk+256).toString(16).substr(1);var Se,Df,bp,cp,Ef,rg,Zd,sg,zd,dp,Te,tg,Ue,Ve,We,Fh,Uc,$d,pw=function(t,n){return n=n||0,[tc[t[n++]],tc[t[n++]],tc[t[n++]],tc[t[n++]],"-",tc[t[n++]],tc[t[n++]],"-",tc[t[n++]],tc[t[n++]],"-",tc[t[n++]],tc[t[n++]],"-",tc[t[n++]],tc[t[n++]],tc[t[n++]],tc[t[n++]],tc[t[n++]],tc[t[n++]]].join("")},gj=function(t,n,r){if(r=n&&r||0,"string"==typeof t&&(n="binary"===t?Array(16):null,t=null),(t=(t=t||{}).random||(t.rng||ow)())[6]=15&t[6]|64,t[8]=63&t[8]|128,n)for(var o=0;16>o;++o)n[r+o]=t[o];return n||pw(t)},hj=gj(),Bm=!1,$r=new AbortController;!function(t){t[t.ATTRIBUTE_OPERATION_ERR_FAILURE=2]="ATTRIBUTE_OPERATION_ERR_FAILURE",t[t.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT=3]="ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT",t[t.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW=4]="ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW",t[t.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN=5]="ATTRIBUTE_OPERATION_ERR_TOO_OFTEN",t[t.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND=6]="ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND",t[t.ATTRIBUTE_OPERATION_ERR_TIMEOUT=7]="ATTRIBUTE_OPERATION_ERR_TIMEOUT",t[t.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN"}(Se||(Se={})),function(t){t[t.CHANNEL_MESSAGE_ERR_FAILURE=1]="CHANNEL_MESSAGE_ERR_FAILURE",t[t.CHANNEL_MESSAGE_ERR_TIMEOUT=2]="CHANNEL_MESSAGE_ERR_TIMEOUT",t[t.CHANNEL_MESSAGE_ERR_TOO_OFTEN=3]="CHANNEL_MESSAGE_ERR_TOO_OFTEN",t[t.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE=4]="CHANNEL_MESSAGE_ERR_INVALID_MESSAGE",t[t.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL=5]="CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL",t[t.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Df||(Df={})),function(t){t[t.CREATE_CHANNEL_ERR_INVALID_ARGUMENT=1]="CREATE_CHANNEL_ERR_INVALID_ARGUMENT"}(bp||(bp={})),function(t){t[t.CREATE_INSTANCE_ERR_INVALID_ARGUMENT=1]="CREATE_INSTANCE_ERR_INVALID_ARGUMENT"}(cp||(cp={})),function(t){t[t.GET_MEMBERS_ERR_FAILURE=1]="GET_MEMBERS_ERR_FAILURE",t[t.GET_MEMBERS_ERR_REJECTED=2]="GET_MEMBERS_ERR_REJECTED",t[t.GET_MEMBERS_ERR_TIMEOUT=3]="GET_MEMBERS_ERR_TIMEOUT",t[t.GET_MEMBERS_ERR_TOO_OFTEN=4]="GET_MEMBERS_ERR_TOO_OFTEN",t[t.GET_MEMBERS_ERR_NOT_IN_CHANNEL=5]="GET_MEMBERS_ERR_NOT_IN_CHANNEL",t[t.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN=102]="GET_MEMBERS_ERR_USER_NOT_LOGGED_IN"}(Ef||(Ef={})),function(t){t[t.INVITATION_API_CALL_ERR_INVALID_ARGUMENT=1]="INVITATION_API_CALL_ERR_INVALID_ARGUMENT",t[t.INVITATION_API_CALL_ERR_NOT_STARTED=2]="INVITATION_API_CALL_ERR_NOT_STARTED",t[t.INVITATION_API_CALL_ERR_ALREADY_END=3]="INVITATION_API_CALL_ERR_ALREADY_END",t[t.INVITATION_API_CALL_ERR_ALREADY_ACCEPT=4]="INVITATION_API_CALL_ERR_ALREADY_ACCEPT",t[t.INVITATION_API_CALL_ERR_ALREADY_SENT=5]="INVITATION_API_CALL_ERR_ALREADY_SENT"}(rg||(rg={})),function(t){t[t.JOIN_CHANNEL_ERR_FAILURE=1]="JOIN_CHANNEL_ERR_FAILURE",t[t.JOIN_CHANNEL_ERR_REJECTED=2]="JOIN_CHANNEL_ERR_REJECTED",t[t.JOIN_CHANNEL_ERR_INVALID_ARGUMENT=3]="JOIN_CHANNEL_ERR_INVALID_ARGUMENT",t[t.JOIN_CHANNEL_TIMEOUT=4]="JOIN_CHANNEL_TIMEOUT",t[t.JOIN_CHANNEL_ERR_EXCEED_LIMIT=5]="JOIN_CHANNEL_ERR_EXCEED_LIMIT",t[t.JOIN_CHANNEL_ERR_ALREADY_JOINED=6]="JOIN_CHANNEL_ERR_ALREADY_JOINED",t[t.JOIN_CHANNEL_ERR_TOO_OFTEN=7]="JOIN_CHANNEL_ERR_TOO_OFTEN",t[t.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN=8]="JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN",t[t.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN",t[t.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE=201]="JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE",t[t.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID=202]="JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID"}(Zd||(Zd={})),function(t){t[t.LEAVE_CHANNEL_ERR_FAILURE=1]="LEAVE_CHANNEL_ERR_FAILURE",t[t.LEAVE_CHANNEL_ERR_REJECTED=2]="LEAVE_CHANNEL_ERR_REJECTED",t[t.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL=3]="LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL",t[t.LEAVE_CHANNEL_ERR_KICKED=4]="LEAVE_CHANNEL_ERR_KICKED",t[t.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN"}(sg||(sg={})),function(t){t[t.LOGIN_ERR_UNKNOWN=1]="LOGIN_ERR_UNKNOWN",t[t.LOGIN_ERR_REJECTED=2]="LOGIN_ERR_REJECTED",t[t.LOGIN_ERR_INVALID_ARGUMENT=3]="LOGIN_ERR_INVALID_ARGUMENT",t[t.LOGIN_ERR_INVALID_APP_ID=4]="LOGIN_ERR_INVALID_APP_ID",t[t.LOGIN_ERR_INVALID_TOKEN=5]="LOGIN_ERR_INVALID_TOKEN",t[t.LOGIN_ERR_TOKEN_EXPIRED=6]="LOGIN_ERR_TOKEN_EXPIRED",t[t.LOGIN_ERR_NOT_AUTHORIZED=7]="LOGIN_ERR_NOT_AUTHORIZED",t[t.LOGIN_ERR_ALREADY_LOGIN=8]="LOGIN_ERR_ALREADY_LOGIN",t[t.LOGIN_ERR_TIMEOUT=9]="LOGIN_ERR_TIMEOUT",t[t.LOGIN_ERR_TOO_OFTEN=10]="LOGIN_ERR_TOO_OFTEN",t[t.LOGIN_ERR_ABORTED_BY_LOGOUT=201]="LOGIN_ERR_ABORTED_BY_LOGOUT"}(zd||(zd={})),function(t){t[t.LOGOUT_ERR_USER_NOT_LOGGED_IN=102]="LOGOUT_ERR_USER_NOT_LOGGED_IN"}(dp||(dp={})),function(t){t[t.PEER_MESSAGE_ERR_FAILURE=1]="PEER_MESSAGE_ERR_FAILURE",t[t.PEER_MESSAGE_ERR_TIMEOUT=2]="PEER_MESSAGE_ERR_TIMEOUT",t[t.PEER_MESSAGE_ERR_TOO_OFTEN=5]="PEER_MESSAGE_ERR_TOO_OFTEN",t[t.PEER_MESSAGE_ERR_INVALID_USERID=6]="PEER_MESSAGE_ERR_INVALID_USERID",t[t.PEER_MESSAGE_ERR_INVALID_MESSAGE=7]="PEER_MESSAGE_ERR_INVALID_MESSAGE",t[t.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE=8]="PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE",t[t.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Te||(Te={})),function(t){t[t.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT=2]="QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT",t[t.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED=3]="QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED",t[t.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT=4]="QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT",t[t.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN=5]="QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN",t[t.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN"}(tg||(tg={})),function(t){t[t.RENEW_TOKEN_ERR_FAILURE=1]="RENEW_TOKEN_ERR_FAILURE",t[t.RENEW_TOKEN_ERR_INVALID_ARGUMENT=2]="RENEW_TOKEN_ERR_INVALID_ARGUMENT",t[t.RENEW_TOKEN_ERR_REJECTED=3]="RENEW_TOKEN_ERR_REJECTED",t[t.RENEW_TOKEN_ERR_TOO_OFTEN=4]="RENEW_TOKEN_ERR_TOO_OFTEN",t[t.RENEW_TOKEN_ERR_TOKEN_EXPIRED=5]="RENEW_TOKEN_ERR_TOKEN_EXPIRED",t[t.RENEW_TOKEN_ERR_INVALID_TOKEN=6]="RENEW_TOKEN_ERR_INVALID_TOKEN",t[t.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN=102]="RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN",t[t.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT=201]="RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT"}(Ue||(Ue={})),function(t){t[t.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE=1]="GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE",t[t.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT=2]="GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT",t[t.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN=3]="GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN",t[t.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT=4]="GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT",t[t.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT=5]="GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT",t[t.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED=101]="GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED",t[t.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN=102]="GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN"}(Ve||(Ve={})),function(t){t[t.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE=1]="PEER_SUBSCRIPTION_STATUS_ERR_FAILURE",t[t.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT=2]="PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT",t[t.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED=3]="PEER_SUBSCRIPTION_STATUS_ERR_REJECTED",t[t.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT=4]="PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT",t[t.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN=5]="PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN",t[t.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW=6]="PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW",t[t.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN=102]="PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN"}(We||(We={})),function(t){t[t.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE=1]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE",t[t.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT=2]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT",t[t.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN=3]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN",t[t.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN"}(Fh||(Fh={})),function(t){t[t.METADATA_OPERATION_ERR_OK=0]="METADATA_OPERATION_ERR_OK",t[t.METADATA_OPERATION_ERR_FAILURE=1]="METADATA_OPERATION_ERR_FAILURE",t[t.METADATA_OPERATION_ERR_INVALID_USER_ID=2]="METADATA_OPERATION_ERR_INVALID_USER_ID",t[t.METADATA_OPERATION_ERR_INVALID_ARGUMENT=3]="METADATA_OPERATION_ERR_INVALID_ARGUMENT",t[t.METADATA_OPERATION_ERR_SIZE_OVERFLOW=4]="METADATA_OPERATION_ERR_SIZE_OVERFLOW",t[t.METADATA_OPERATION_ERR_DUPLICATE_KEY=5]="METADATA_OPERATION_ERR_DUPLICATE_KEY",t[t.METADATA_OPERATION_ERR_TOO_OFTEN=6]="METADATA_OPERATION_ERR_TOO_OFTEN",t[t.METADATA_OPERATION_ERR_TIMEOUT=7]="METADATA_OPERATION_ERR_TIMEOUT",t[t.METADATA_OPERATION_ERR_OUTDATE_REVISION=8]="METADATA_OPERATION_ERR_OUTDATE_REVISION",t[t.METADATA_OPERATION_ERR_NOT_IN_CHANNEL=9]="METADATA_OPERATION_ERR_NOT_IN_CHANNEL",t[t.METADATA_OPERATION_ERR_NOT_INITIALIZED=101]="METADATA_OPERATION_ERR_NOT_INITIALIZED",t[t.METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN"}(Uc||(Uc={})),function(t){t[t.METADATA_SUBSCRIPTION_ERR_OK=0]="METADATA_SUBSCRIPTION_ERR_OK",t[t.METADATA_SUBSCRIPTION_ERR_FAILURE=1]="METADATA_SUBSCRIPTION_ERR_FAILURE",t[t.METADATA_SUBSCRIPTION_ERR_TIMEOUT=2]="METADATA_SUBSCRIPTION_ERR_TIMEOUT",t[t.METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT=3]="METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT",t[t.METADATA_SUBSCRIPTION_ERR_TOO_OFTEN=4]="METADATA_SUBSCRIPTION_ERR_TOO_OFTEN",t[t.METADATA_SUBSCRIPTION_ERR_OVERFLOW=5]="METADATA_SUBSCRIPTION_ERR_OVERFLOW",t[t.METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED=6]="METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED",t[t.METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED=101]="METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED",t[t.METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN=102]="METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN"}($d||($d={}));var Ad=Se.ATTRIBUTE_OPERATION_ERR_FAILURE,Ub=Se.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT,ch=Se.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW;Se.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN;var qw=Se.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND,Bd=Se.ATTRIBUTE_OPERATION_ERR_TIMEOUT,Cd=Se.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN,Zk=Df.CHANNEL_MESSAGE_ERR_FAILURE,ep=Df.CHANNEL_MESSAGE_ERR_TIMEOUT,rw=Df.CHANNEL_MESSAGE_ERR_TOO_OFTEN,fp=Df.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE,rI=Df.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL,gp=Df.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN,sI=bp.CREATE_CHANNEL_ERR_INVALID_ARGUMENT,sw=cp.CREATE_INSTANCE_ERR_INVALID_ARGUMENT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE;var tw=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN;var uw=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT,tI=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED;var uI=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN,vI=Ef.GET_MEMBERS_ERR_FAILURE,wI=Ef.GET_MEMBERS_ERR_REJECTED;Ef.GET_MEMBERS_ERR_TIMEOUT,Ef.GET_MEMBERS_ERR_TOO_OFTEN;var xI=Ef.GET_MEMBERS_ERR_NOT_IN_CHANNEL,yI=Ef.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN,ve=rg.INVITATION_API_CALL_ERR_INVALID_ARGUMENT,zI=rg.INVITATION_API_CALL_ERR_NOT_STARTED,$k=rg.INVITATION_API_CALL_ERR_ALREADY_END,vw=rg.INVITATION_API_CALL_ERR_ALREADY_ACCEPT,AI=rg.INVITATION_API_CALL_ERR_ALREADY_SENT,ww=Zd.JOIN_CHANNEL_ERR_FAILURE;Zd.JOIN_CHANNEL_ERR_REJECTED;var BI=Zd.JOIN_CHANNEL_ERR_INVALID_ARGUMENT,xw=Zd.JOIN_CHANNEL_TIMEOUT,yw=Zd.JOIN_CHANNEL_ERR_EXCEED_LIMIT,zw=Zd.JOIN_CHANNEL_ERR_ALREADY_JOINED;Zd.JOIN_CHANNEL_ERR_TOO_OFTEN;var Aw=Zd.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN,Bw=Zd.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID,Cw=sg.LEAVE_CHANNEL_ERR_FAILURE,Dw=sg.LEAVE_CHANNEL_ERR_REJECTED,CI=sg.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL,DI=sg.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN,EI=sg.LEAVE_CHANNEL_ERR_KICKED,Ew=zd.LOGIN_ERR_UNKNOWN,ij=zd.LOGIN_ERR_REJECTED,al=zd.LOGIN_ERR_INVALID_ARGUMENT,Fw=zd.LOGIN_ERR_INVALID_APP_ID,Gw=zd.LOGIN_ERR_INVALID_TOKEN,bl=zd.LOGIN_ERR_TOKEN_EXPIRED;zd.LOGIN_ERR_NOT_AUTHORIZED;var FI=zd.LOGIN_ERR_ALREADY_LOGIN,GI=zd.LOGIN_ERR_TIMEOUT,HI=zd.LOGIN_ERR_TOO_OFTEN,Hw=dp.LOGOUT_ERR_USER_NOT_LOGGED_IN,Iw=Te.PEER_MESSAGE_ERR_FAILURE,hp=Te.PEER_MESSAGE_ERR_TIMEOUT,Jw=Te.PEER_MESSAGE_ERR_TOO_OFTEN,Kw=Te.PEER_MESSAGE_ERR_INVALID_USERID,si=Te.PEER_MESSAGE_ERR_INVALID_MESSAGE,ip=Te.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN;Te.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE;var Lw=tg.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT;tg.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED;var II=tg.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT;tg.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN;var JI=tg.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN,jp=Ue.RENEW_TOKEN_ERR_FAILURE,KI=Ue.RENEW_TOKEN_ERR_INVALID_ARGUMENT;Ue.RENEW_TOKEN_ERR_REJECTED,Ue.RENEW_TOKEN_ERR_TOO_OFTEN;var LI=Ue.RENEW_TOKEN_ERR_TOKEN_EXPIRED,MI=Ue.RENEW_TOKEN_ERR_INVALID_TOKEN,Mw=Ue.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN,Nw=We.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE,jj=We.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT;We.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED;var NI=We.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT;We.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN;var Ow=We.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW,kp=We.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN;Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN;var bd=Uc.METADATA_OPERATION_ERR_OK,He=Uc.METADATA_OPERATION_ERR_FAILURE;Uc.METADATA_OPERATION_ERR_INVALID_USER_ID;var Mb=Uc.METADATA_OPERATION_ERR_INVALID_ARGUMENT,Om=Uc.METADATA_OPERATION_ERR_SIZE_OVERFLOW,oC=Uc.METADATA_OPERATION_ERR_DUPLICATE_KEY,Vc=Uc.METADATA_OPERATION_ERR_TOO_OFTEN,cd=Uc.METADATA_OPERATION_ERR_TIMEOUT,of=Uc.METADATA_OPERATION_ERR_OUTDATE_REVISION;Uc.METADATA_OPERATION_ERR_NOT_INITIALIZED;var oc=Uc.METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN,kj=Uc.METADATA_OPERATION_ERR_NOT_IN_CHANNEL,Pw=$d.METADATA_SUBSCRIPTION_ERR_OK,lp=$d.METADATA_SUBSCRIPTION_ERR_FAILURE,cl=$d.METADATA_SUBSCRIPTION_ERR_TIMEOUT,dl=$d.METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT;$d.METADATA_SUBSCRIPTION_ERR_TOO_OFTEN;var OI=$d.METADATA_SUBSCRIPTION_ERR_OVERFLOW,PI=$d.METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED;$d.METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED,$d.METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN;var QI=function(t,n){var r;return Po(t,function(t,o,i){return!(r=n(t,o,i))}),!!r},el=function(t,n,r){if(!Kc(r))return!1;var o=Ia(n);return!!("number"==o?$f(r)&&Eo(n,r.length):"string"==o&&n in r)&&$i(r[n],t)},mp=function(t,n,r){var o=lc(t)?Zv:QI;return r&&el(t,n,r)&&(n=void 0),o(t,Ch(n))},RI=function(t,n){var r=-1,o=$f(t)?Array(t.length):[];return Po(t,function(t,i,s){o[++r]=n(t,i,s)}),o},SI=function(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t},TI=function(t,n,r){n=n.length?Rg(n,function(t){return lc(t)?function(n){return Uk(n,1===t.length?t[0]:t)}:t}):[Vk];var o=-1;return n=Rg(n,Rk(Ch)),SI(t=RI(t,function(t,r,i){return{criteria:Rg(n,function(n){return n(t)}),index:++o,value:t}}),function(t,n){e:{for(var o=-1,i=t.criteria,s=n.criteria,a=i.length,u=r.length;++o<a;){t:{var c=i[o],l=s[o];if(c!==l){var f=void 0!==c,p=null===c,h=c==c,d=Sg(c),g=void 0!==l,v=null===l,y=l==l,b=Sg(l);if(!v&&!b&&!d&&c>l||d&&g&&y&&!v&&!b||p&&g&&y||!f&&y||!h){c=1;break t}if(!p&&!d&&!b&&c<l||b&&f&&h&&!p&&!d||v&&f&&h||!g&&h||!y){c=-1;break t}}c=0}if(c){t=o>=u?c:c*("desc"==r[o]?-1:1);break e}}t=t.index-n.index}return t})},Qw=function(t,n){return Xv(Wv(t,n,Vk),t+"")},Rw=Qw(function(t,n){if(null==t)return[];var r=n.length;return 1<r&&el(t,n[0],n[1])?n=[]:2<r&&el(n[0],n[1],n[2])&&(n=[n[0]]),TI(t,mm(n,1),[])}),Sw=function(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}(WH),Tw=kc(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=[],o=function(t,n){return new WebSocket(t,n)};n.normalClosureMessage="Normal closure",n.default=function(t,i){var s=(i=void 0===i?{protocols:r,makeWebSocket:o}:i).protocols,a=void 0===s?r:s,u=void 0===(i=i.makeWebSocket)?o:i;return new Sw.Observable(function(r){var o,i=new Sw.Subject,s=u(t,a),c=!1,l=!1,f=function(t){if(o)throw c=!0,t=Error("Web socket message factory function called more than once"),r.error(t),t;return o=t.subscribe(function(t){s.send(t)}),i};return s.onopen=function(){l?(c=!0,s.close()):r.next(f)},s.onmessage=function(t){i.next(t.data)},s.onerror=function(t){c=!0,r.error(Error(t.message))},s.onclose=function(t){c||(c=!0,l?(r.complete(),i.complete()):r.error(Error(1e3===t.code?n.normalClosureMessage:t.reason)))},function(){l=!0,o&&o.unsubscribe(),c||(c=!0,s.close())}})}});!function(t){t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")&&t.default}(Tw);var Dm=function(t,n,r){(void 0===r||$i(t[n],r))&&(void 0!==r||n in t)||bj(t,n,r)},Cm=function(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]},UI=function(t){return Qw(function(n,r){var o=-1,i=r.length,s=1<i?r[i-1]:void 0,a=2<i?r[2]:void 0;for(s=3<t.length&&"function"==typeof s?(i--,s):void 0,a&&el(r[0],r[1],a)&&(s=3>i?void 0:s,i=1),n=Object(n);++o<i;)(a=r[o])&&t(n,a,o,s);return n})}(function(t,n,r,o){as(t,n,r,o)}),VI=Math.floor,WI=Math.random,Uw=function(t,n){return t+VI(WI()*(n-t+1))},Vw=function(t){var n=t.length;return n?t[Uw(0,n-1)]:void 0},XI=function(t,n){return Rg(n,function(n){return t[n]})},Vm=function(t){return null==t?[]:XI(t,Wf(t))},YI=function(t){return Vw(Vm(t))},Es=function(t){return(lc(t)?Vw:YI)(t)},es=[],fs=function(t,n){return new WebSocket(t,n)};cb&&("g"!=/./g.flags||Sd)&&$b.f(RegExp.prototype,"flags",{configurable:!0,get:hk});var ZI=Math.floor;wa({target:"Number",stat:!0},{isInteger:function(t){return!fb(t)&&isFinite(t)&&ZI(t)===t}}),tu("from",On,Nn);var $I=function(t,n){for(var r=Array(arguments.length-1),o=0,i=2,s=!0;i<arguments.length;)r[o++]=arguments[i++];return new Promise(function(i,a){r[o]=function(t){if(s){if(s=!1,t)a(t);else{for(var n=Array(arguments.length-1),r=0;r<n.length;)n[r++]=arguments[r];i.apply(null,n)}}};try{t.apply(n||null,r)}catch(u){s&&(s=!1,a(u))}})},aJ=kc(function(t,n){n.length=function(t){var n=t.length;if(!n)return 0;for(var r=0;1<--n%4&&"="===t.charAt(n);)++r;return Math.ceil(3*t.length)/4-r};var r=Array(64),o=Array(123);for(t=0;64>t;)o[r[t]=26>t?t+65:52>t?t+71:62>t?t-4:t-59|43]=t++;n.encode=function(t,n,o){for(var i,s=null,a=[],u=0,c=0;n<o;){var l=t[n++];switch(c){case 0:a[u++]=r[l>>2],i=(3&l)<<4,c=1;break;case 1:a[u++]=r[i|l>>4],i=(15&l)<<2,c=2;break;case 2:a[u++]=r[i|l>>6],a[u++]=r[63&l],c=0}8191<u&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),u=0)}return c&&(a[u++]=r[i],a[u++]=61,1===c&&(a[u++]=61)),s?(u&&s.push(String.fromCharCode.apply(String,a.slice(0,u))),s.join("")):String.fromCharCode.apply(String,a.slice(0,u))},n.decode=function(t,n,r){for(var i,s=r,a=0,u=0;u<t.length;){var c=t.charCodeAt(u++);if(61===c&&1<a)break;if(void 0===(c=o[c]))throw Error("invalid encoding");switch(a){case 0:i=c,a=1;break;case 1:n[r++]=i<<2|(48&c)>>4,i=c,a=2;break;case 2:n[r++]=(15&i)<<4|(60&c)>>2,i=c,a=3;break;case 3:n[r++]=(3&i)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return r-s},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});Oj.prototype.on=function(t,n,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:r||this}),this},Oj.prototype.off=function(t,n){if(void 0===t)this._listeners={};else if(void 0===n)this._listeners[t]=[];else{t=this._listeners[t];for(var r=0;r<t.length;)t[r].fn===n?t.splice(r,1):++r}return this},Oj.prototype.emit=function(t){var n=this._listeners[t];if(n){for(var r=[],o=1;o<arguments.length;)r.push(arguments[o++]);for(o=0;o<n.length;)n[o].fn.apply(n[o++].ctx,r)}return this};var bJ=gs(gs),cJ=function(d){try{var b=eval("quire".replace(/^/,"re"))(d);if(b&&(b.length||Object.keys(b).length))return b}catch(e){}return null},dJ=kc(function(t,n){n.length=function(t){for(var n,r=0,o=0;o<t.length;++o)128>(n=t.charCodeAt(o))?r+=1:2048>n?r+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(o+1))?(++o,r+=4):r+=3;return r},n.read=function(t,n,r){if(1>r-n)return"";for(var o,i=null,s=[],a=0;n<r;)128>(o=t[n++])?s[a++]=o:191<o&&224>o?s[a++]=(31&o)<<6|63&t[n++]:239<o&&365>o?(o=((7&o)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,s[a++]=55296+(o>>10),s[a++]=56320+(1023&o)):s[a++]=(15&o)<<12|(63&t[n++])<<6|63&t[n++],8191<a&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))},n.write=function(t,n,r){for(var o,i,s=r,a=0;a<t.length;++a)128>(o=t.charCodeAt(a))?n[r++]=o:(2048>o?n[r++]=o>>6|192:(55296==(64512&o)&&56320==(64512&(i=t.charCodeAt(a+1)))?(o=65536+((1023&o)<<10)+(1023&i),++a,n[r++]=o>>18|240,n[r++]=o>>12&63|128):n[r++]=o>>12|224,n[r++]=o>>6&63|128),n[r++]=63&o|128);return r-s}}),eJ=function(t,n,r){var o=r||8192,i=o>>>1,s=null,a=o;return function(r){return 1>r||r>i?t(r):(a+r>o&&(s=t(o),a=0),r=n.call(s,a,a+=r),7&a&&(a=1+(7|a)),r)}},ug=mc.zero=new mc(0,0);ug.toNumber=function(){return 0},ug.zzEncode=ug.zzDecode=function(){return this},ug.length=function(){return 1};var fJ=mc.zeroHash="\0\0\0\0\0\0\0\0";mc.fromNumber=function(t){if(0===t)return ug;var n=0>t;n&&(t=-t);var r=t>>>0;return t=(t-r)/4294967296>>>0,n&&(t=~t>>>0,r=~r>>>0,4294967295<++r&&(r=0,4294967295<++t&&(t=0))),new mc(r,t)},mc.from=function(t){if("number"==typeof t)return mc.fromNumber(t);if(Ra.isString(t)){if(!Ra.Long)return mc.fromNumber(parseInt(t,10));t=Ra.Long.fromString(t)}return t.low||t.high?new mc(t.low>>>0,t.high>>>0):ug},mc.prototype.toNumber=function(t){if(!t&&this.hi>>>31){t=1+~this.lo>>>0;var n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},mc.prototype.toLong=function(t){return Ra.Long?new Ra.Long(0|this.lo,0|this.hi,!!t):{low:0|this.lo,high:0|this.hi,unsigned:!!t}};var Ff=String.prototype.charCodeAt;mc.fromHash=function(t){return t===fJ?ug:new mc((Ff.call(t,0)|Ff.call(t,1)<<8|Ff.call(t,2)<<16|Ff.call(t,3)<<24)>>>0,(Ff.call(t,4)|Ff.call(t,5)<<8|Ff.call(t,6)<<16|Ff.call(t,7)<<24)>>>0)},mc.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},mc.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},mc.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},mc.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===n?16384>t?128>t?1:2:2097152>t?3:4:16384>n?128>n?5:6:2097152>n?7:8:128>r?9:10};var np,Ra=kc(function(t,n){function r(t,n,r){for(var o=Object.keys(n),i=0;i<o.length;++i)void 0!==t[o[i]]&&r||(t[o[i]]=n[o[i]]);return t}function o(t){function n(t,o){if(!(this instanceof n))return new n(t,o);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:Error().stack||""}),o&&r(this,o)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}n.asPromise=$I,n.base64=aJ,n.EventEmitter=Oj,n.float=bJ,n.inquire=cJ,n.utf8=dJ,n.pool=eJ,n.LongBits=mc,n.isNode=!!(void 0!==qb&&qb&&qb.process&&qb.process.versions&&qb.process.versions.node),n.global=n.isNode&&qb||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||qb,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},n.isString=function(t){return"string"==typeof t||t instanceof String},n.isObject=function(t){return t&&"object"===Ia(t)},n.isset=n.isSet=function(t,n){var r=t[n];return!(null==r||!t.hasOwnProperty(n))&&("object"!==Ia(r)||0<(Array.isArray(r)?r.length:Object.keys(r).length))},n.Buffer=function(){try{var t=n.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(r){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(t){return"number"==typeof t?n.Buffer?n._Buffer_allocUnsafe(t):new n.Array(t):n.Buffer?n._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(t){return t?n.LongBits.from(t).toHash():n.LongBits.zeroHash},n.longFromHash=function(t,r){return t=n.LongBits.fromHash(t),n.Long?n.Long.fromBits(t.lo,t.hi,r):t.toNumber(!!r)},n.merge=r,n.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(t){for(var n={},r=0;r<t.length;++r)n[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;-1<r;--r)if(1===n[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},n.oneOfSetter=function(t){return function(n){for(var r=0;r<t.length;++r)t[r]!==n&&delete this[t[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var t=n.Buffer;t?(n._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},n._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}),Lm=ib,fl=Ra.LongBits,Ww=Ra.base64,Xw=Ra.utf8,Yw=function(){return Ra.Buffer?function(){return(ib.create=function(){return new np})()}:function(){return new ib}};ib.create=Yw(),ib.alloc=function(t){return new Ra.Array(t)},Ra.Array!==Array&&(ib.alloc=Ra.pool(ib.alloc,Ra.Array.prototype.subarray)),ib.prototype._push=function(t,n,r){return this.tail=this.tail.next=new pi(t,n,r),this.len+=n,this},Im.prototype=Object.create(pi.prototype),Im.prototype.fn=function(t,n,r){for(;127<t;)n[r++]=127&t|128,t>>>=7;n[r]=t},ib.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new Im(128>(t>>>=0)?1:16384>t?2:2097152>t?3:268435456>t?4:5,t)).len,this},ib.prototype.int32=function(t){return 0>t?this._push(Jm,10,fl.fromNumber(t)):this.uint32(t)},ib.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},ib.prototype.uint64=function(t){return t=fl.from(t),this._push(Jm,t.length(),t)},ib.prototype.int64=ib.prototype.uint64,ib.prototype.sint64=function(t){return t=fl.from(t).zzEncode(),this._push(Jm,t.length(),t)},ib.prototype.bool=function(t){return this._push(Hm,1,t?1:0)},ib.prototype.fixed32=function(t){return this._push(Km,4,t>>>0)},ib.prototype.sfixed32=ib.prototype.fixed32,ib.prototype.fixed64=function(t){return t=fl.from(t),this._push(Km,4,t.lo)._push(Km,4,t.hi)},ib.prototype.sfixed64=ib.prototype.fixed64,ib.prototype.float=function(t){return this._push(Ra.float.writeFloatLE,4,t)},ib.prototype.double=function(t){return this._push(Ra.float.writeDoubleLE,8,t)};var gJ=Ra.Array.prototype.set?function(t,n,r){n.set(t,r)}:function(t,n,r){for(var o=0;o<t.length;++o)n[r+o]=t[o]};ib.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(Hm,1,0);if(Ra.isString(t)){var r=ib.alloc(n=Ww.length(t));Ww.decode(t,r,0),t=r}return this.uint32(n)._push(gJ,n,t)},ib.prototype.string=function(t){var n=Xw.length(t);return n?this.uint32(n)._push(Xw.write,n,t):this._push(Hm,1,0)},ib.prototype.fork=function(){return this.states=new mC(this),this.head=this.tail=new pi(Gm,0,0),this.len=0,this},ib.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new pi(Gm,0,0),this.len=0),this},ib.prototype.ldelim=function(){var t=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=n,this.len+=r),this},ib.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,n,r),r+=t.len,t=t.next;return n},ib._configure=function(t){np=t,ib.create=Yw(),np._configure()},(ie.prototype=Object.create(Lm.prototype)).constructor=ie,ie._configure=function(){ie.alloc=Ra._Buffer_allocUnsafe,ie.writeBytesBuffer=Ra.Buffer&&Ra.Buffer.prototype instanceof Uint8Array&&"set"===Ra.Buffer.prototype.set.name?function(t,n,r){n.set(t,r)}:function(t,n,r){if(t.copy)t.copy(n,r,0,t.length);else for(var o=0;o<t.length;)n[r++]=t[o++]}},ie.prototype.bytes=function(t){Ra.isString(t)&&(t=Ra._Buffer_from(t,"base64"));var n=t.length>>>0;return this.uint32(n),n&&this._push(ie.writeBytesBuffer,n,t),this},ie.prototype.string=function(t){var n=Ra.Buffer.byteLength(t);return this.uint32(n),n&&this._push(nC,n,t),this},ie._configure();var op,Nm=Yb,ls=Ra.LongBits,hJ=Ra.utf8,Zw="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new Yb(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new Yb(t);throw Error("illegal buffer")},$w=function(){return Ra.Buffer?function(t){return(Yb.create=function(t){return Ra.Buffer.isBuffer(t)?new op(t):Zw(t)})(t)}:Zw};Yb.create=$w(),Yb.prototype._slice=Ra.Array.prototype.subarray||Ra.Array.prototype.slice,Yb.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++]||(t=(t|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])||(t=(t|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])||(t=(t|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])||(t=(t|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++]))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Od(this,10);return t}}(),Yb.prototype.int32=function(){return 0|this.uint32()},Yb.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},Yb.prototype.bool=function(){return 0!==this.uint32()},Yb.prototype.fixed32=function(){if(this.pos+4>this.len)throw Od(this,4);return Pj(this.buf,this.pos+=4)},Yb.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Od(this,4);return 0|Pj(this.buf,this.pos+=4)},Yb.prototype.float=function(){if(this.pos+4>this.len)throw Od(this,4);var t=Ra.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},Yb.prototype.double=function(){if(this.pos+8>this.len)throw Od(this,4);var t=Ra.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},Yb.prototype.bytes=function(){var t=this.uint32(),n=this.pos,r=this.pos+t;if(r>this.len)throw Od(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,r):n===r?new this.buf.constructor(0):this._slice.call(this.buf,n,r)},Yb.prototype.string=function(){var t=this.bytes();return hJ.read(t,0,t.length)},Yb.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw Od(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Od(this);while(128&this.buf[this.pos++]);return this},Yb.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},Yb._configure=function(t){op=t,Yb.create=$w(),op._configure();var n=Ra.Long?"toLong":"toNumber";Ra.merge(Yb.prototype,{int64:function(){return Mm.call(this)[n](!1)},uint64:function(){return Mm.call(this)[n](!0)},sint64:function(){return Mm.call(this).zzDecode()[n](!1)},fixed64:function(){return ms.call(this)[n](!0)},sfixed64:function(){return ms.call(this)[n](!1)}})},(ag.prototype=Object.create(Nm.prototype)).constructor=ag,ag._configure=function(){Ra.Buffer&&(ag.prototype._slice=Ra.Buffer.prototype.slice)},ag.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},ag._configure(),(qi.prototype=Object.create(Ra.EventEmitter.prototype)).constructor=qi,qi.prototype.rpcCall=function t(n,r,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return Ra.asPromise(t,a,n,r,o,i);if(a.rpcImpl)try{return a.rpcImpl(n,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(t,r){if(t)return a.emit("error",t,n),s(t);if(null!==r){if(!(r instanceof o))try{r=o[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(i){return a.emit("error",i,n),s(i)}return a.emit("data",r,n),s(null,r)}a.end(!0)})}catch(u){a.emit("error",u,n),setTimeout(function(){s(u)},0)}else setTimeout(function(){s(Error("already ended"))},0)},qi.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var iJ=kc(function(t,n){n.Service=qi}),jJ={},ae=kc(function(t,n){function r(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}var o=n;o.build="minimal",o.Writer=Lm,o.BufferWriter=ie,o.Reader=Nm,o.BufferReader=ag,o.util=Ra,o.rpc=iJ,o.roots=jJ,o.configure=r,r()});ae.util.Long=D,ae.configure();var T=ae.Reader,ta=ae.Writer,I=ae.util,Q=ae.roots.default||(ae.roots.default={}),kJ=Q.URI=function(){var t={},n=Object.create(t);return n[t[0]="Unknown"]=0,n[t[1]="PingUri"]=1,n[t[2]="PongUri"]=2,n[t[11]="UserJoinUri"]=11,n[t[12]="UserRespUri"]=12,n[t[15]="UserTicketNearlyExpireUri"]=15,n[t[16]="UserRenewTokenReqUri"]=16,n[t[17]="UserRenewTokenRespUri"]=17,n[t[21]="UserQuitUri"]=21,n[t[22]="UserDropUri"]=22,n[t[31]="GroupEnterUri"]=31,n[t[32]="GroupLeaveUri"]=32,n[t[33]="GroupReplyUri"]=33,n[t[35]="GroupDropUri"]=35,n[t[36]="GroupEnterNoticeUri"]=36,n[t[37]="GroupLeaveNoticeUri"]=37,n[t[38]="GroupEventNoticeUri"]=38,n[t[39]="GroupCountNoticeUri"]=39,n[t[41]="UserStatusListUri"]=41,n[t[42]="UserStatusResultUri"]=42,n[t[51]="GroupStatusListUri"]=51,n[t[52]="GroupStatusResultUri"]=52,n[t[55]="GroupAllUsersListUri"]=55,n[t[56]="GroupAllUsersResultUri"]=56,n[t[100]="MessageUri"]=100,n[t[101]="AckUri"]=101,n[t[201]="UserJoinNoticeUri"]=201,n[t[202]="UserQuitNoticeUri"]=202,n[t[203]="UserWaitNoticeUri"]=203,n[t[301]="UserAttributeGetUri"]=301,n[t[302]="UserAttributeRetUri"]=302,n[t[303]="UserAttributeSetUri"]=303,n[t[304]="UserAttributeModUri"]=304,n[t[305]="UserAttributeDelUri"]=305,n[t[307]="UserAttributeRspUri"]=307,n[t[308]="UserAttributeErrUri"]=308,n[t[311]="UserAttributeKeysGetUri"]=311,n[t[312]="UserAttributeKeysRetUri"]=312,n[t[351]="GroupAttributeGetUri"]=351,n[t[352]="GroupAttributeRetUri"]=352,n[t[353]="GroupAttributeSetUri"]=353,n[t[354]="GroupAttributeModUri"]=354,n[t[355]="GroupAttributeDelUri"]=355,n[t[356]="GroupAttributeAltUri"]=356,n[t[357]="GroupAttributeRspUri"]=357,n[t[358]="GroupAttributeErrUri"]=358,n[t[361]="GroupAttributeKeysGetUri"]=361,n[t[362]="GroupAttributeKeysRetUri"]=362,n[t[401]="SubscribeUserStatusUri"]=401,n[t[402]="UnsubscribeUserStatusUri"]=402,n[t[499]="SubscribeResponseUri"]=499,n[t[601]="StateSubscribeUri"]=601,n[t[602]="StateUpdateUri"]=602,n[t[603]="StateSubscribeResultUri"]=603,n[t[604]="StateUnsubscribeUri"]=604,n[t[605]="StateSetUri"]=605,n[t[606]="StateModifyUri"]=606,n[t[607]="StateRequestResultUri"]=607,n[t[608]="StateGetUri"]=608,n[t[609]="StateGetResultUri"]=609,n[t[610]="StateLockAcquireUri"]=610,n[t[611]="StateLockReleaseUri"]=611,n[t[612]="StateLockAcquireResultUri"]=612,n[t[613]="StateLockUpdateUri"]=613,n[t[614]="StateLockReleaseResultUri"]=614,n[t[615]="StateLockDisableUri"]=615,n[t[616]="StateLockDisableResultUri"]=616,n}(),gl=Q.Wrapper=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.uri=0,t.prototype.data=I.newBuffer([]),t.encode=function(t,n){return n||(n=ta.create()),null!=t.uri&&Object.hasOwnProperty.call(t,"uri")&&n.uint32(8).int32(t.uri),null!=t.data&&Object.hasOwnProperty.call(t,"data")&&n.uint32(18).bytes(t.data),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.Wrapper;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.uri=t.int32();break;case 2:r.data=t.bytes();break;default:t.skipType(7&o)}}return r},t}(),lJ=Q.Ping=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.ms&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(16).uint64(t.ms),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.Ping;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.ms=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),mJ=Q.Pong=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.ms&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(16).uint64(t.ms),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.Pong;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.ms=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),nJ=Q.UserJoin=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.opt=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.ticket="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.opt&&Object.hasOwnProperty.call(t,"opt")&&n.uint32(16).uint64(t.opt),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(24).uint64(t.instance),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(34).string(t.account),null!=t.ticket&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(42).string(t.ticket),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserJoin;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.opt=t.uint64();break;case 3:r.instance=t.uint64();break;case 4:r.account=t.string();break;case 5:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},t}(),oJ=Q.UserResp=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserResp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),pJ=Q.UserQuit=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.encode=function(t,n){return n||(n=ta.create()),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserQuit;t.pos<n;){var o=t.uint32();t.skipType(7&o)}return r},t}(),qJ=Q.UserDrop=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(8).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserDrop;t.pos<n;){var o=t.uint32();o>>>3==1?r.code=t.uint32():t.skipType(7&o)}return r},t}(),rJ=Q.UserTicketNearlyExpire=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.expireTs=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.ticket="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.expireTs&&Object.hasOwnProperty.call(t,"expireTs")&&n.uint32(8).uint64(t.expireTs),null!=t.ticket&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(18).string(t.ticket),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserTicketNearlyExpire;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.expireTs=t.uint64();break;case 2:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},t}(),sJ=Q.UserRenewTokenReq=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.ticket="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(26).string(t.account),null!=t.ticket&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(34).string(t.ticket),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserRenewTokenReq;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.account=t.string();break;case 4:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},t}(),tJ=Q.UserRenewTokenResp=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserRenewTokenResp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),uJ=Q.GroupEnter=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupEnter;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;default:t.skipType(7&o)}}return r},t}(),vJ=Q.GroupLeave=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.account="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupLeave;t.pos<n;){var o=t.uint32();o>>>3==1?r.account=t.string():t.skipType(7&o)}return r},t}(),wJ=Q.GroupReply=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupReply;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),ax=Q.GroupLeaveNotice=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.user="",t.prototype.group="",t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.size=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.user&&Object.hasOwnProperty.call(t,"user")&&n.uint32(18).string(t.user),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(32).uint64(t.instance),null!=t.size&&Object.hasOwnProperty.call(t,"size")&&n.uint32(40).uint32(t.size),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupLeaveNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.user=t.string();break;case 3:r.group=t.string();break;case 4:r.instance=t.uint64();break;case 5:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),bx=Q.GroupEnterNotice=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.user="",t.prototype.group="",t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.size=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.user&&Object.hasOwnProperty.call(t,"user")&&n.uint32(18).string(t.user),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(32).uint64(t.instance),null!=t.size&&Object.hasOwnProperty.call(t,"size")&&n.uint32(40).uint32(t.size),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupEnterNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.user=t.string();break;case 3:r.group=t.string();break;case 4:r.instance=t.uint64();break;case 5:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),cx=Q.Message=function(){function t(t){if(this.MiscMap={},t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.dialogue=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.options=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.src="",t.prototype.dst="",t.prototype.payload=I.newBuffer([]),t.prototype.MiscMap=I.emptyObject,t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),null!=t.dialogue&&Object.hasOwnProperty.call(t,"dialogue")&&n.uint32(16).uint64(t.dialogue),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),null!=t.options&&Object.hasOwnProperty.call(t,"options")&&n.uint32(32).uint64(t.options),null!=t.src&&Object.hasOwnProperty.call(t,"src")&&n.uint32(42).string(t.src),null!=t.dst&&Object.hasOwnProperty.call(t,"dst")&&n.uint32(50).string(t.dst),null!=t.payload&&Object.hasOwnProperty.call(t,"payload")&&n.uint32(58).bytes(t.payload),null!=t.MiscMap&&Object.hasOwnProperty.call(t,"MiscMap"))for(var r=Object.keys(t.MiscMap),o=0;o<r.length;++o)n.uint32(66).fork().uint32(10).string(r[o]).uint32(18).bytes(t.MiscMap[r[o]]).ldelim();return null!=t.ms&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(72).uint64(t.ms),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r,o,i=new Q.Message;t.pos<n;)switch((r=t.uint32())>>>3){case 1:i.instance=t.uint64();break;case 2:i.dialogue=t.uint64();break;case 3:i.sequence=t.uint64();break;case 4:i.options=t.uint64();break;case 5:i.src=t.string();break;case 6:i.dst=t.string();break;case 7:i.payload=t.bytes();break;case 8:i.MiscMap===I.emptyObject&&(i.MiscMap={});var s=t.uint32()+t.pos;for(r="",o=[];t.pos<s;){var a=t.uint32();switch(a>>>3){case 1:r=t.string();break;case 2:o=t.bytes();break;default:t.skipType(7&a)}}i.MiscMap[r]=o;break;case 9:i.ms=t.uint64();break;default:t.skipType(7&r)}return i},t}(),dx=Q.Ack=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.dialogue=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),null!=t.dialogue&&Object.hasOwnProperty.call(t,"dialogue")&&n.uint32(16).uint64(t.dialogue),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(32).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.Ack;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.dialogue=t.uint64();break;case 3:r.sequence=t.uint64();break;case 4:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),xJ=Q.GroupDrop=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.account="",t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupDrop;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.account=t.string();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),yJ=Q.GroupAllUsersList=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.pageSize=0,t.prototype.pageNumber=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),null!=t.pageSize&&Object.hasOwnProperty.call(t,"pageSize")&&n.uint32(24).uint32(t.pageSize),null!=t.pageNumber&&Object.hasOwnProperty.call(t,"pageNumber")&&n.uint32(32).uint32(t.pageNumber),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAllUsersList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.pageSize=t.uint32();break;case 4:r.pageNumber=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),zJ=Q.GroupAllUsersResult=function(){function t(t){if(this.memberInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.totalSize=0,t.prototype.pageSize=0,t.prototype.pageNumber=0,t.prototype.memberInfos=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),null!=t.totalSize&&Object.hasOwnProperty.call(t,"totalSize")&&n.uint32(24).uint32(t.totalSize),null!=t.pageSize&&Object.hasOwnProperty.call(t,"pageSize")&&n.uint32(32).uint32(t.pageSize),null!=t.pageNumber&&Object.hasOwnProperty.call(t,"pageNumber")&&n.uint32(40).uint32(t.pageNumber),null!=t.memberInfos&&t.memberInfos.length)for(var r=0;r<t.memberInfos.length;++r)Q.GroupAllUsersResult.MemberInfo.encode(t.memberInfos[r],n.uint32(50).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAllUsersResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.totalSize=t.uint32();break;case 4:r.pageSize=t.uint32();break;case 5:r.pageNumber=t.uint32();break;case 6:r.memberInfos&&r.memberInfos.length||(r.memberInfos=[]),r.memberInfos.push(Q.GroupAllUsersResult.MemberInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.MemberInfo=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.account="",t.prototype.ts=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),null!=t.ts&&Object.hasOwnProperty.call(t,"ts")&&n.uint32(16).uint32(t.ts),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAllUsersResult.MemberInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.account=t.string();break;case 2:r.ts=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),t}(),AJ=Q.UserStatusList=function(){function t(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.users=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.users&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserStatusList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),BJ=Q.UserStatusResult=function(){function t(t){if(this.userInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.userInfos=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.userInfos&&t.userInfos.length)for(var r=0;r<t.userInfos.length;++r)Q.UserStatusResult.UserStatusInfo.encode(t.userInfos[r],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserStatusResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.userInfos&&r.userInfos.length||(r.userInfos=[]),r.userInfos.push(Q.UserStatusResult.UserStatusInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.UserStatusInfo=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.account="",t.prototype.ts=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),null!=t.ts&&Object.hasOwnProperty.call(t,"ts")&&n.uint32(16).uint32(t.ts),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserStatusResult.UserStatusInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.account=t.string();break;case 2:r.ts=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),t}(),CJ=Q.UserAttributeGet=function(){function t(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.attributes=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),null!=t.attributes&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),DJ=Q.UserAttributeRet=function(){function t(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.attributeInfos=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.attributeInfos&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.UserAttributeRet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.UserAttributeRet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.AttributeInfo=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.key="",t.prototype.value="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(10).string(t.key),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(18).string(t.value),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeRet.AttributeInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t}(),t}(),EJ=Q.UserAttributeSet=function(){function t(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.attributeInfos=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),null!=t.attributeInfos&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.UserAttributeSet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(26).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.UserAttributeSet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.AttributeInfo=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.key="",t.prototype.value="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(10).string(t.key),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(18).string(t.value),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeSet.AttributeInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t}(),t}(),FJ=Q.UserAttributeMod=function(){function t(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.attributeInfos=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),null!=t.attributeInfos&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.UserAttributeMod.AttributeInfo.encode(t.attributeInfos[r],n.uint32(26).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeMod;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.UserAttributeMod.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.AttributeInfo=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.key="",t.prototype.value="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(10).string(t.key),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(18).string(t.value),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeMod.AttributeInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t}(),t}(),GJ=Q.UserAttributeDel=function(){function t(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.attributes=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),null!=t.attributes&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeDel;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),HJ=Q.UserAttributeErr=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeErr;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),IJ=Q.UserAttributeKeysGet=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.account="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeKeysGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;default:t.skipType(7&o)}}return r},t}(),JJ=Q.UserAttributeKeysRet=function(){function t(t){if(this.keys=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.keys=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.keys&&t.keys.length)for(var r=0;r<t.keys.length;++r)n.uint32(18).string(t.keys[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeKeysRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),KJ=Q.UserAttributeRsp=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserAttributeRsp;t.pos<n;){var o=t.uint32();o>>>3==1?r.seq=t.uint64():t.skipType(7&o)}return r},t}(),LJ=Q.GroupStatusList=function(){function t(t){if(this.groups=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.groups=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.groups&&t.groups.length)for(var r=0;r<t.groups.length;++r)n.uint32(18).string(t.groups[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupStatusList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),MJ=Q.GroupStatusResult=function(){function t(t){if(this.groupInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.groupInfos=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.groupInfos&&t.groupInfos.length)for(var r=0;r<t.groupInfos.length;++r)Q.GroupStatusResult.GroupInfo.encode(t.groupInfos[r],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupStatusResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.groupInfos&&r.groupInfos.length||(r.groupInfos=[]),r.groupInfos.push(Q.GroupStatusResult.GroupInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.GroupInfo=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.group="",t.prototype.memberCount=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(10).string(t.group),null!=t.memberCount&&Object.hasOwnProperty.call(t,"memberCount")&&n.uint32(16).uint32(t.memberCount),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupStatusResult.GroupInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.group=t.string();break;case 2:r.memberCount=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),t}(),NJ=Q.GroupCountNotice=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.size=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),null!=t.size&&Object.hasOwnProperty.call(t,"size")&&n.uint32(32).uint32(t.size),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupCountNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.group=t.string();break;case 4:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),OJ=Q.GroupAttributeGet=function(){function t(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.attributes=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),null!=t.attributes&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),PJ=Q.GroupAttributeRet=function(){function t(t){if(this.attributeMaps=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.attributeMaps=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.attributeMaps&&t.attributeMaps.length)for(var r=0;r<t.attributeMaps.length;++r)Q.GroupAttributeRet.AttributeMap.encode(t.attributeMaps[r],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.attributeMaps&&r.attributeMaps.length||(r.attributeMaps=[]),r.attributeMaps.push(Q.GroupAttributeRet.AttributeMap.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.AttributeMap=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.key="",t.prototype.value="",t.prototype.origin="",t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(10).string(t.key),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(18).string(t.value),null!=t.origin&&Object.hasOwnProperty.call(t,"origin")&&n.uint32(26).string(t.origin),null!=t.ms&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(32).uint64(t.ms),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeRet.AttributeMap;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;case 3:r.origin=t.string();break;case 4:r.ms=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),t}(),QJ=Q.GroupAttributeSet=function(){function t(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.broadcast=!1,t.prototype.attributeInfos=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),null!=t.broadcast&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),null!=t.attributeInfos&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.GroupAttributeSet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(34).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.GroupAttributeSet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.AttributeInfo=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.key="",t.prototype.value="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(10).string(t.key),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(18).string(t.value),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeSet.AttributeInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t}(),t}(),RJ=Q.GroupAttributeMod=function(){function t(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.broadcast=!1,t.prototype.attributeInfos=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),null!=t.broadcast&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),null!=t.attributeInfos&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.GroupAttributeMod.AttributeInfo.encode(t.attributeInfos[r],n.uint32(34).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeMod;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.GroupAttributeMod.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.AttributeInfo=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.key="",t.prototype.value="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(10).string(t.key),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(18).string(t.value),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeMod.AttributeInfo;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t}(),t}(),SJ=Q.GroupAttributeDel=function(){function t(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.broadcast=!1,t.prototype.attributes=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),null!=t.broadcast&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),null!=t.attributes&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(34).string(t.attributes[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeDel;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),TJ=Q.GroupAttributeAlt=function(){function t(t){if(this.attributeMaps=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.attributeMaps=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(24).uint64(t.instance),null!=t.attributeMaps&&t.attributeMaps.length)for(var r=0;r<t.attributeMaps.length;++r)Q.GroupAttributeAlt.AttributeMap.encode(t.attributeMaps[r],n.uint32(34).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeAlt;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.instance=t.uint64();break;case 4:r.attributeMaps&&r.attributeMaps.length||(r.attributeMaps=[]),r.attributeMaps.push(Q.GroupAttributeAlt.AttributeMap.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.AttributeMap=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.key="",t.prototype.value="",t.prototype.origin="",t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&n.uint32(10).string(t.key),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(18).string(t.value),null!=t.origin&&Object.hasOwnProperty.call(t,"origin")&&n.uint32(26).string(t.origin),null!=t.ms&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(32).uint64(t.ms),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeAlt.AttributeMap;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;case 3:r.origin=t.string();break;case 4:r.ms=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),t}(),UJ=Q.GroupAttributeRsp=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeRsp;t.pos<n;){var o=t.uint32();o>>>3==1?r.seq=t.uint64():t.skipType(7&o)}return r},t}(),VJ=Q.GroupAttributeErr=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeErr;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),WJ=Q.GroupAttributeKeysGet=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.group="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.group&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeKeysGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;default:t.skipType(7&o)}}return r},t}(),XJ=Q.GroupAttributeKeysRet=function(){function t(t){if(this.keys=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.keys=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.keys&&t.keys.length)for(var r=0;r<t.keys.length;++r)n.uint32(18).string(t.keys[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.GroupAttributeKeysRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),YJ=Q.SubscribeUserStatus=function(){function t(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.users=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.users&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.SubscribeUserStatus;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),ZJ=Q.UnsubscribeUserStatus=function(){function t(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.users=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.users&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UnsubscribeUserStatus;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},t}(),$J=Q.UserJoinNotice=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.user="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),null!=t.user&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserJoinNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},t}(),aK=Q.UserQuitNotice=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.user="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),null!=t.user&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserQuitNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},t}(),bK=Q.UserWaitNotice=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.user="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.instance&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),null!=t.user&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.UserWaitNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},t}(),cK=Q.StateSubscribe=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.subTarget&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateSubscribe;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),dK=Q.StateUpdate=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.allStates="",t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.subTarget&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),null!=t.allStates&&Object.hasOwnProperty.call(t,"allStates")&&n.uint32(26).string(t.allStates),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateUpdate;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.allStates=t.string();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),eK=Q.StateSubscribeResult=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.subTarget&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateSubscribeResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),fK=Q.StateUnsubscribe=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.subTarget&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateUnsubscribe;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),gK=Q.StateSet=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.author="",t.prototype.value="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.baseRevision=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.author&&Object.hasOwnProperty.call(t,"author")&&n.uint32(18).string(t.author),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(26).string(t.value),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(34).string(t.lock),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(42).string(t.requestUuid),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(48).uint64(t.sequence),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(56).uint64(t.flags),null!=t.baseRevision&&Object.hasOwnProperty.call(t,"baseRevision")&&n.uint32(64).uint64(t.baseRevision),null!=t.lockRev&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(72).uint64(t.lockRev),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.author=t.string();break;case 3:r.value=t.string();break;case 4:r.lock=t.string();break;case 5:r.requestUuid=t.string();break;case 6:r.sequence=t.uint64();break;case 7:r.flags=t.uint64();break;case 8:r.baseRevision=t.uint64();break;case 9:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),hK=Q.StateModify=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.author="",t.prototype.value="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.baseRevision=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.author&&Object.hasOwnProperty.call(t,"author")&&n.uint32(18).string(t.author),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&n.uint32(26).string(t.value),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(34).string(t.lock),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(42).string(t.requestUuid),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(48).uint64(t.sequence),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(56).uint64(t.flags),null!=t.baseRevision&&Object.hasOwnProperty.call(t,"baseRevision")&&n.uint32(64).uint64(t.baseRevision),null!=t.lockRev&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(72).uint64(t.lockRev),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateModify;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.author=t.string();break;case 3:r.value=t.string();break;case 4:r.lock=t.string();break;case 5:r.requestUuid=t.string();break;case 6:r.sequence=t.uint64();break;case 7:r.flags=t.uint64();break;case 8:r.baseRevision=t.uint64();break;case 9:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),iK=Q.StateRequestResult=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.requestUuid="",t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(10).string(t.requestUuid),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(16).uint64(t.sequence),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateRequestResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.requestUuid=t.string();break;case 2:r.sequence=t.uint64();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),jK=Q.StateGet=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.lock="",t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.subTarget&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(26).string(t.lock),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(32).uint64(t.sequence),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),null!=t.lockRev&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(48).uint64(t.lockRev),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.lock=t.string();break;case 4:r.sequence=t.uint64();break;case 5:r.flags=t.uint64();break;case 6:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),kK=Q.StateGetResult=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.allStates="",t.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.subTarget&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),null!=t.allStates&&Object.hasOwnProperty.call(t,"allStates")&&n.uint32(26).string(t.allStates),null!=t.sequence&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(32).uint64(t.sequence),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(48).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateGetResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.allStates=t.string();break;case 4:r.sequence=t.uint64();break;case 5:r.flags=t.uint64();break;case 6:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),lK=Q.StateLockAcquire=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.ttl=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),null!=t.ttl&&Object.hasOwnProperty.call(t,"ttl")&&n.uint32(40).uint64(t.ttl),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateLockAcquire;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.ttl=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),mK=Q.StateLockRelease=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateLockRelease;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),nK=Q.StateLockAcquireResult=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.prototype.reason="",t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),null!=t.lockRev&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(40).uint64(t.lockRev),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(48).uint32(t.code),null!=t.reason&&Object.hasOwnProperty.call(t,"reason")&&n.uint32(58).string(t.reason),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateLockAcquireResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.lockRev=t.uint64();break;case 6:r.code=t.uint32();break;case 7:r.reason=t.string();break;default:t.skipType(7&o)}}return r},t}(),oK=Q.StateLockUpdate=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.lock="",t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(24).uint64(t.flags),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(32).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateLockUpdate;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.flags=t.uint64();break;case 4:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),pK=Q.StateLockReleaseResult=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateLockReleaseResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),qK=Q.StateLockDisable=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.lock="",t.prototype.userId="",t.prototype.requestUuid="",t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(26).string(t.userId),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(34).string(t.requestUuid),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateLockDisable;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.userId=t.string();break;case 4:r.requestUuid=t.string();break;case 5:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},t}(),rK=Q.StateLockDisableResult=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),null!=t.requestUuid&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.StateLockDisableResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),sK=Q.SubscribeResponse=function(){function t(t){if(this.errors=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,t.prototype.errors=I.emptyArray,t.encode=function(t,n){if(n||(n=ta.create()),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),null!=t.errors&&t.errors.length)for(var r=0;r<t.errors.length;++r)Q.SubscribeResponse.SubscribeErrorsType.encode(t.errors[r],n.uint32(18).fork()).ldelim();return n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.SubscribeResponse;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.errors&&r.errors.length||(r.errors=[]),r.errors.push(Q.SubscribeResponse.SubscribeErrorsType.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.SubscribeErrorsType=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.account="",t.prototype.code=0,t.encode=function(t,n){return n||(n=ta.create()),null!=t.account&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},t.decode=function(t,n){t instanceof T||(t=T.create(t)),n=void 0===n?t.len:t.pos+n;for(var r=new Q.SubscribeResponse.SubscribeErrorsType;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.account=t.string();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},t}(),t}(),tK=Object.freeze({__proto__:null,URI:kJ,Wrapper:gl,Ping:lJ,Pong:mJ,UserJoin:nJ,UserResp:oJ,UserQuit:pJ,UserDrop:qJ,UserTicketNearlyExpire:rJ,UserRenewTokenReq:sJ,UserRenewTokenResp:tJ,GroupEnter:uJ,GroupLeave:vJ,GroupReply:wJ,GroupLeaveNotice:ax,GroupEnterNotice:bx,Message:cx,Ack:dx,GroupDrop:xJ,GroupAllUsersList:yJ,GroupAllUsersResult:zJ,UserStatusList:AJ,UserStatusResult:BJ,UserAttributeGet:CJ,UserAttributeRet:DJ,UserAttributeSet:EJ,UserAttributeMod:FJ,UserAttributeDel:GJ,UserAttributeErr:HJ,UserAttributeKeysGet:IJ,UserAttributeKeysRet:JJ,UserAttributeRsp:KJ,GroupStatusList:LJ,GroupStatusResult:MJ,GroupCountNotice:NJ,GroupAttributeGet:OJ,GroupAttributeRet:PJ,GroupAttributeSet:QJ,GroupAttributeMod:RJ,GroupAttributeDel:SJ,GroupAttributeAlt:TJ,GroupAttributeRsp:UJ,GroupAttributeErr:VJ,GroupAttributeKeysGet:WJ,GroupAttributeKeysRet:XJ,SubscribeUserStatus:YJ,UnsubscribeUserStatus:ZJ,UserJoinNotice:$J,UserQuitNotice:aK,UserWaitNotice:bK,StateSubscribe:cK,StateUpdate:dK,StateSubscribeResult:eK,StateUnsubscribe:fK,StateSet:gK,StateModify:hK,StateRequestResult:iK,StateGet:jK,StateGetResult:kK,StateLockAcquire:lK,StateLockRelease:mK,StateLockAcquireResult:nK,StateLockUpdate:oK,StateLockReleaseResult:pK,StateLockDisable:qK,StateLockDisableResult:rK,SubscribeResponse:sK,default:Q}),uK=Math.ceil,ex=function(t){return function(n,r,o){var i=(n=String(Ec(n))).length;return o=void 0===o?" ":String(o),(r=xb(r))<=i||""==o?n:(r-=i,(i=At.call(o,uK(r/o.length))).length>r&&(i=i.slice(0,r)),t?n+i:i+n)}},vK=ex(!1),wK=ex(!0),fx=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(lh);wa({target:"String",proto:!0,forced:fx},{padEnd:function(t){return wK(this,t,1<arguments.length?arguments[1]:void 0)}}),wa({target:"Object",stat:!0},{entries:function(t){return BF(t)}});var xK=pd.f,gx="".endsWith,yK=Math.min,hx=no("endsWith"),zK=!hx&&!!function(){var t=xK(String.prototype,"endsWith");return t&&!t.writable}();wa({target:"String",proto:!0,forced:!zK&&!hx},{endsWith:function(t){var n=String(Ec(this));mo(t);var r=1<arguments.length?arguments[1]:void 0,o=xb(n.length);return r=void 0===r?o:yK(xb(r),o),o=String(t),gx?gx.call(n,o,r):n.slice(r-o.length,r)===o}}),jk("match",1,function(t,n,r){return[function(n){var r=Ec(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):RegExp(n)[t](String(r))},function(t){var o=r(n,t,this);if(o.done)return o.value;if(t=ub(t),o=String(this),!t.global)return mh(t,o);var i=t.unicode;t.lastIndex=0;for(var s,a=[],u=0;null!==(s=mh(t,o));)s=String(s[0]),a[u]=s,""===s&&(t.lastIndex=hn(o,xb(t.lastIndex),i)),u++;return 0===u?null:a}]});var AK=pd.f,ix="".startsWith,BK=Math.min,jx=no("startsWith"),CK=!jx&&!!function(){var t=AK(String.prototype,"startsWith");return t&&!t.writable}();wa({target:"String",proto:!0,forced:!CK&&!jx},{startsWith:function(t){var n=String(Ec(this));mo(t);var r=xb(BK(1<arguments.length?arguments[1]:void 0,n.length)),o=String(t);return ix?ix.call(n,o,r):n.slice(r,r+o.length)===o}});var vb,us=function(t){var n=/(%?)(%([jds]))/g,r=Array.prototype.slice.call(arguments,1);return r.length&&(t=t.replace(n,function(t,n,o,i){switch(o=r.shift(),i){case"s":o=""+o;break;case"d":o=Number(o);break;case"j":o=JSON.stringify(o)}return n?(r.unshift(o),t):o})),r.length&&(t+=" "+r.join(" ")),""+(t=t.replace(/%{2,2}/g,"%"))},DK=/\s/,EK=/^\s+/,kx=NaN,FK=/^[-+]0x[0-9a-f]+$/i,GK=/^0b[01]+$/i,HK=/^0o[0-7]+$/i,IK=parseInt,hl=function(t){if("number"==typeof t)return t;if(Sg(t))return kx;if(Kc(t)&&(t="function"==typeof t.valueOf?t.valueOf():t,t=Kc(t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;if(t){for(var n=t.slice,r=t.length;r--&&DK.test(t.charAt(r)););t=n.call(t,0,r+1).replace(EK,"")}return(n=GK.test(t))||HK.test(t)?IK(t.slice(2),n?2:8):FK.test(t)?kx:+t},JK=Math.max,KK=Math.min,LK=function(t,n,r){function o(n){var r=c,o=l;return c=l=void 0,d=n,f=t.apply(o,r)}function i(t){var r=t-h;return t-=d,void 0===h||r>=n||0>r||v&&t>=b}function s(){var t=hd.Date.now();if(i(t))return a(t);var r=setTimeout,o=t-d;t=n-(t-h),p=r(s,o=v?KK(t,b-o):t)}function a(t){return p=void 0,y&&c?o(t):(c=l=void 0,f)}function u(){var t=hd.Date.now(),r=i(t);if(c=arguments,l=this,h=t,r){if(void 0===p)return d=t=h,p=setTimeout(s,n),g?o(t):f;if(v)return clearTimeout(p),p=setTimeout(s,n),o(h)}return void 0===p&&(p=setTimeout(s,n)),f}var c,l,f,p,h,d=0,g=!1,v=!1,y=!0;if("function"!=typeof t)throw TypeError("Expected a function");if(n=hl(n)||0,Kc(r)){g=!!r.leading;var b=(v="maxWait"in r)?JK(hl(r.maxWait)||0,n):b;y="trailing"in r?!!r.trailing:y}return u.cancel=function(){void 0!==p&&clearTimeout(p),d=0,c=h=l=p=void 0},u.flush=function(){return void 0===p?f:a(hd.Date.now())},u};!function(t){t[t.ChannelSMsg=1]="ChannelSMsg",t[t.ChannelRMsg=2]="ChannelRMsg",t[t.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",t[t.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",t[t.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",t[t.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",t[t.P2pCallInvitation=7]="P2pCallInvitation",t[t.P2pCallCancellation=8]="P2pCallCancellation",t[t.P2pCallAcceptance=9]="P2pCallAcceptance",t[t.P2pCallRefusal=10]="P2pCallRefusal"}(vb||(vb={}));var Xe=function(t){function n(t,o){return ab(this,n),E(L(t=r.call(this,ts(t,o))),"originalError",void 0),E(L(t),"code",void 0),E(L(t),"serverCode",void 0),"number"==typeof o?t.code=o:"string"==typeof o?t.name=o:void 0!==o&&(o.originalError&&(t.originalError=o.originalError),void 0!==o.code&&(t.code=o.code),void 0!==o.serverCode&&(t.serverCode=o.serverCode)),t}nb(n,t);var r=ob(n);return n}(di(Error)),Ib=function(t){function n(t,o){return ab(this,n),E(L(t=r.call(this,ts(t,o))),"name","RtmInternalError"),E(L(t),"code",void 0),t.code=o,t}nb(n,t);var r=ob(n);return n}(di(Error)),il=function(){return function(t){function n(t){ab(this,n);var o=Object.keys(t);return r.call(this,t[o[0]],o[0])}nb(n,t);var r=ob(n);return n}(Ib)},rb=il(),Pc=function(t){function n(){ab(this,n);for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return E(L(t=r.call.apply(r,[this].concat(o))),"name","RtmTimeoutError"),t}nb(n,t);var r=ob(n);return n}(Xe),ja=function(t){function n(){ab(this,n);for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return E(L(t=r.call.apply(r,[this].concat(o))),"name","RtmInvalidArgumentError"),t}nb(n,t);var r=ob(n);return n}(Xe),ia=function(t){function n(){ab(this,n);for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return E(L(t=r.call.apply(r,[this].concat(o))),"name","RtmInvalidStatusError"),t}nb(n,t);var r=ob(n);return n}(Xe),Dc=function(t){function n(){ab(this,n);for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return E(L(t=r.call.apply(r,[this].concat(o))),"name","RtmLimitExceededError"),t}nb(n,t);var r=ob(n);return n}(Xe),Fc=function(t){function n(){ab(this,n);for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return E(L(t=r.call.apply(r,[this].concat(o))),"name","RtmInvokeTooOftenError"),t}nb(n,t);var r=ob(n);return n}(Xe),Pa=function(t){function n(){ab(this,n);for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return E(L(t=r.call.apply(r,[this].concat(o))),"name","RtmUnavailableError"),E(L(t),"serverCode",void 0),E(L(t),"statusCode",void 0),t}nb(n,t);var r=ob(n);return n}(Xe),Gh=function(t){function n(){ab(this,n);for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return E(L(t=r.call.apply(r,[this].concat(o))),"name","RtmUnauthenticatedError"),E(L(t),"serverCode",void 0),t}nb(n,t);var r=ob(n);return n}(Xe),id=function(t){function n(){ab(this,n);for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];return E(L(t=r.call.apply(r,[this].concat(o))),"name","RtmUnknownError"),t}nb(n,t);var r=ob(n);return n}(Xe),uc=function(t){return t instanceof Pc||t instanceof ad},Sa=function(t){return t instanceof Xe},vg=function(t,n,r){return['Executing "%s.%s" timed out after %ds',t,n,r/1e3]},ss=new Map,MK=function(){var t=new Date;return"".concat(t.toISOString().split("T")[1].replace(/\..+/,""),".").concat(t.getMilliseconds())},vi=Object.keys,Vj=Object.entries.bind(Object),Sj=function(t){return"string"==typeof t?t.endsWith(".")?t:"".concat(t,"."):t},NK=Ga(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})});wa({target:"Date",proto:!0,forced:NK},{toJSON:function(t){var n=le(t=Zb(this));return"number"!=typeof n||isFinite(n)?t.toISOString():null}}),wa({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var rC=Object.prototype.hasOwnProperty,lx=function(t,n,r){return JSON.stringify(As(t),n,r)};lx.ensureProperties=As;var Hh,OK=function(t,n){n=n||{};var r=Ia(t);if("string"===r&&0<t.length)return sC(t);if("number"===r&&isFinite(t))return t=n.long?864e5<=(n=Math.abs(t))?Xj(t,n,864e5,"day"):36e5<=n?Xj(t,n,36e5,"hour"):6e4<=n?Xj(t,n,6e4,"minute"):1e3<=n?Xj(t,n,1e3,"second"):t+" ms":864e5<=(n=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=n?Math.round(t/36e5)+"h":6e4<=n?Math.round(t/6e4)+"m":1e3<=n?Math.round(t/1e3)+"s":t+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},PK=function(t){function n(t){function o(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];if(o.enabled){t=Number(new Date),o.diff=t-(i||t),o.prev=i,i=o.curr=t,r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var a=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(t,i){return"%%"===t?"%":(a++,"function"==typeof(i=n.formatters[i])&&(t=i.call(o,r[a]),r.splice(a,1),a--),t)}),n.formatArgs.call(o,r),(o.log||n.log).apply(o,r)}}var i,s=null;return o.namespace=t,o.useColors=n.useColors(),o.color=n.selectColor(t),o.extend=r,o.destroy=n.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===s?n.enabled(t):s},set:function(t){s=t}}),"function"==typeof n.init&&n.init(o),o}function r(t,r){return(t=n(this.namespace+(void 0===r?":":r)+t)).log=this.log,t}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){var t=[].concat(ra(n.names.map(o)),ra(n.skips.map(o).map(function(t){return"-"+t}))).join(",");return n.enable(""),t},n.enable=function(t){n.save(t),n.names=[],n.skips=[];var r,o=("string"==typeof t?t:"").split(/[\s,]+/),i=o.length;for(r=0;r<i;r++)o[r]&&("-"===(t=o[r].replace(/\*/g,".*?"))[0]?n.skips.push(RegExp("^"+t.substr(1)+"$")):n.names.push(RegExp("^"+t+"$")))},n.enabled=function(t){if("*"===t[t.length-1])return!0;var r,o=0;for(r=n.skips.length;o<r;o++)if(n.skips[o].test(t))return!1;for(o=0,r=n.names.length;o<r;o++)if(n.names[o].test(t))return!0;return!1},n.humanize=OK,n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(function(r){n[r]=t[r]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(t){for(var r=0,o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o)|0;return n.colors[Math.abs(r)%n.colors.length]},n.enable(n.load()),n},mx=kc(function(t,n){n.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;n.splice(1,0,r,"color: inherit");var o=0,i=0;n[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),n.splice(i,0,r)}},n.save=function(t){try{t?n.storage.setItem("debug",t):n.storage.removeItem("debug")}catch(r){}},n.load=function(){try{var t=n.storage.getItem("debug")}catch(r){}return!t&&void 0!==process&&"env"in process&&(t=process.env.DEBUG),t},n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var r,o=localStorage;break e}catch(i){}o=void 0}n.storage=o,n.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),n.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),n.log=console.debug||console.log||function(){},t.exports=PK(n),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}}),nx=mx("RTM:DEBUG");nx.enabled=!1,function(t){t[t.Uploading=0]="Uploading",t[t.Free=1]="Free"}(Hh||(Hh={}));var QK=function(){function t(n){ab(this,t),E(this,"uploadRequest",void 0),E(this,"uploadState",void 0),E(this,"uploadResendCount",void 0),E(this,"LogCache",void 0),E(this,"LogsToPost",void 0),E(this,"processId",void 0),E(this,"sdkVersion",void 0),E(this,"logId",void 0),E(this,"rtmConfig",void 0),this.processId=n.processId,this.sdkVersion=n.sdkVersion,this.rtmConfig=n.rtmConfig,this.uploadRequest=n.uploadRequest,this.uploadState=Hh.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return Qb(t,[{key:"upload",value:function(t){this.LogCache.push(t),this.uploadState===Hh.Free&&(this.LogsToPost=40>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,40),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(t){var n=this;this.uploadState=Hh.Uploading,setTimeout(za(W.mark(function r(){var o,i;return W.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o={sdk_version:n.sdkVersion,process_id:n.processId,payload:JSON.stringify(t)},r.prev=1,r.next=4,n.uploadRequest(o,null!==(i=n.rtmConfig.enableCloudProxy)&&void 0!==i&&i);case 4:if(!Bm){r.next=6;break}throw Error("RTM is busy");case 6:r.next=13;break;case 8:return r.prev=8,r.t0=r.catch(1),setTimeout(function(){return n.postLog(n.LogsToPost)},2>n.uploadResendCount++?2e3:1e4),r.abrupt("return");case 13:if(nx('The logs uploaded for "process-'.concat(hj,'"')),0!==n.LogCache.length){r.next=17;break}return n.uploadState=Hh.Free,r.abrupt("return");case 17:n.uploadResendCount=0,n.LogsToPost=40>n.LogCache.length?n.LogCache.splice(0,n.LogCache.length):n.LogCache.splice(0,40),n.postLog(n.LogsToPost);case 20:case"end":return r.stop()}},r,null,[[1,8]])})),wg.getParameter("LOG_UPLOAD_INTERVAL"))}}]),t}(),ox=function(t,n,r,o,i,s,a,u){var c=0;for(a=!!a&&tf(a,u,3);c<o;){if(c in r){if(u=a?a(r[c],c,n):r[c],0<s&&uf(u))i=ox(t,n,u,xb(u.length),i,s-1)-1;else{if(9007199254740991<=i)throw TypeError("Exceed the acceptable array length");t[i]=u}i++}c++}return i},px=ox;wa({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,n=Zb(this),r=xb(n.length),o=Ei(n,0);return o.length=px(o,n,n,r,0,void 0===t?1:Rd(t)),o}});var jd,Gf,oa,RK=["CODE"];!function(t){t.CHINA="CN",t.ASIA="AS",t.NORTH_AMERICA="NA",t.EUROPE="EU",t.JAPAN="JP",t.INDIA="IN",t.OCEANIA="OC",t.SOUTH_AMERICA="SA",t.AFRICA="AF",t.OVERSEA="OVERSEA",t.GLOBAL="GLOBAL"}(oa||(oa={}));var Ba,qp,SK={CN:oa.CHINA,NA:oa.NORTH_AMERICA,EU:oa.EUROPE,AS:oa.ASIA,JP:oa.JAPAN,IN:oa.INDIA,GLOB:oa.GLOBAL,AF:oa.AFRICA,OC:oa.OVERSEA,OVS:oa.OVERSEA,SA:oa.SOUTH_AMERICA},Yj=ys((jd={},E(jd,oa.ASIA,{CODE:oa.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.NORTH_AMERICA,{CODE:oa.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.EUROPE,{CODE:oa.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.JAPAN,{CODE:oa.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.INDIA,{CODE:oa.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.OVERSEA,{CODE:oa.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),E(jd,oa.GLOBAL,{CODE:oa.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.OCEANIA,{CODE:oa.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.SOUTH_AMERICA,{CODE:oa.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.AFRICA,{CODE:oa.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.CHINA,{CODE:oa.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),jd)),wi=(Gf={},E(Gf,oa.ASIA,[oa.CHINA,oa.JAPAN,oa.INDIA]),E(Gf,oa.EUROPE,[]),E(Gf,oa.NORTH_AMERICA,[]),E(Gf,oa.SOUTH_AMERICA,[]),E(Gf,oa.OCEANIA,[]),E(Gf,oa.AFRICA,[]),Gf),qx=[oa.OVERSEA,oa.GLOBAL,oa.CHINA,oa.NORTH_AMERICA,oa.EUROPE,oa.ASIA,oa.JAPAN,oa.INDIA,oa.OCEANIA,oa.SOUTH_AMERICA,oa.AFRICA],Bs=function(t){return Object.values(wi).flat().includes(t)},uC=function(t){var n;return null===(n=Vj(wi).find(function(n){return(n=Lb(n,2))[0],n[1].includes(t)}))||void 0===n?void 0:n[0]},TK=function(t){return t.sort(function(t,n){return qx.indexOf(t)-qx.indexOf(n)})},eh=function(t){var n=new Set;if(0===(t=TK(t).slice(0,3).map(function(t){var r=Yj[t];if(void 0===r)throw new Ib("invalid area key");return t=r.CODE,r=em(r,RK),n.add(t),r})).length)throw new Ib("areas cannot be empty");return tb({CODES:n},t.reduce(function(t,n){for(var r=0,o=Vj(t);r<o.length;r++){var i=Lb(o[r],2),s=i[0];i=i[1],t[s]=Array.from(new Set([].concat(ra(n[s]),ra(i))))}return t}))},rx=function(){var t=za(W.mark(function t(n,r){var o,i,s,a,u,c=arguments;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(2<(i=2<c.length&&void 0!==c[2]?c[2]:0))){t.next=3;break}return t.abrupt("return");case 3:return s={withCredentials:!0,body:n,timeout:2e4},a=0<i?(null==Ba?void 0:Ba.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(null==Ba?void 0:Ba.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",u=r?"https://".concat(null!==(o=null==Ba?void 0:Ba.PROXY_NGINX[0])&&void 0!==o?o:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(a,"&p=443&d=upload/v1"):"https://".concat(a,"/upload/v1"),t.next=8,Tj(u,s).catch(function(t){return rx(n,r,i+1)});case 8:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),sx=new QK({processId:"process-".concat(hj),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v1.5.1-67-g0f6d3600"),uploadRequest:rx,rtmConfig:{}}),pp="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),tx="account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip".split(" "),ux=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],UK="ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),fh=function(t){if("string"==typeof t)return wb(t);if(Array.isArray(t)&&t.every(function(t){return"string"==typeof t}))return t.map(function(t){return wb(t)});if(!or(t)){for(var n={},r=0;r<ux.length;r++){var o=ux[r];o in t&&(n[o]=t[o])}if(0<Object.keys(n).length)return n;if(5>Object.keys(t).length){for(r=0,t=Object.entries(t);r<t.length;r++){var i=Lb(t[r],2);o=i[0],i=i[1],pp.includes(o)?n[o]="[Hidden Info]":n[wb(o)]="string"==typeof i?wb(i):"[Sensitive Info]"}return n}return"[Sensitive Info]"}return t},vx=function(t){return"object"===Ia(t)?Lg(t)?xs(Pg(t,5),pp,tx):t.constructor&&t.constructor.name:t},wx=function(t,n){return t instanceof Error?t.message:"string"!=typeof t?JSON.stringify(xs(Pg(t,5),pp,tx)):(n=n.map(function(t){return t instanceof Error?t.message:"object"===Ia(t)?lx(Array.isArray(t)?t.map(vx):vx(t)):t}),us.apply(void 0,[t.replace(/%[%Oo]/g,function(t){return"%%"===t?"%":"%o"===t||"%O"===t?"%s":t})].concat(ra(n))))},VK=1,xx=function(t,n,r){var o=mx(t);return o.enabled=!0,o.log=r,o.useColors=!1,function(r){for(var i=arguments.length,s=Array(1<i?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(n.enableLogUpload){var u=wx(i=Sj(r),s);sx.upload({log_item_id:"".concat(VK++),log_level:t,payload_str:"[".concat(MK(),"] ").concat(t," - ").concat(256<u.length?u.slice(0,256):u)})}switch(i=function(t){var n=u||wx(Sj(r),s),i=Yd.LOG_HANDLER;"function"==typeof i&&i({level:t,message:n}),o(n)},t){case"RTM:INFO":n.logFilter.info&&i("log");break;case"RTM:WARN":n.logFilter.warn&&i("warning");break;case"RTM:ERROR":n.logFilter.error&&i("error");break;case"RTM:TRACK":n.logFilter.track&&i("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":case"RTM:DEBUG":n.logFilter.debug&&i("debug")}}},yx=function(t){return function(n){var r=1===qp||void 0===t?"":"Ins#".concat(t," ");return"".concat(r).concat(n)}},rp=function(t,n,r){var o=yx(qp);return xx("RTM:".concat(n),r,function(n){return t(o(n))})},Dd=function(){return function(t){function n(t,o){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];ab(this,n);var s=r.call(this);if(E(L(s),"logError",void 0),E(L(s),"invokeTracker",void 0),E(L(s),"resultTracker",void 0),E(L(s),"errorTracker",void 0),E(L(s),"eventTracker",void 0),E(L(s),"info",void 0),E(L(s),"warn",void 0),E(L(s),"log",void 0),E(L(s),"genLogger",void 0),E(L(s),"loggerId",void 0),E(L(s),"logger",void 0),E(L(s),"name",void 0),s.logger=t,s.name=o,s.loggerId=t.loggerId,s.info=t.info,s.warn=t.warn,s.logError=t.logError,s.genLogger=t.genLogger,s.log=t.genLogger("RTM:DEBUG","<".concat(o,"> ")),s.invokeTracker=t.genTracker("Invoke"),s.eventTracker=t.genTracker("Event"),s.resultTracker=t.genTracker("Result"),s.errorTracker=t.genTracker("Error"),i){var a=s.emit.bind(L(s));s.emit=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];t=n[0],r=n.slice(1);var i=UK.includes(t);s.eventTracker.apply(s,["%s: ".concat(0<r.length?"%s emitted with args: ".concat(r.map(function(){return"%o"})):"%s emitted"),o,t].concat(ra(i?r.map(fh):r)));try{a.apply(void 0,n)}catch(u){s.logError("Caught in the callback function of the event %s",t,u)}}}return s}nb(n,t);var r=ob(n);return n}(kb)},WK=function(t){return rp(console.log.bind(console),"INFO",t)},XK=function(t){return rp(console.warn.bind(console),"WARN",t)},YK=function(t){return rp(console.error.bind(console),"ERROR",t)},zx=function(t,n){return function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=yx(t),s=console.debug.bind(console),a=xx(r,n,function(t){return s(i(t))});return function(t){for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return a.apply(void 0,[o+t].concat(r))}}},ZK=function(t,n){return function(r){return zx(t,n)("RTM:TRACK","[".concat(r,"] "))}},Tm=Q.URI,wC=gl,$K=em(tK,["Wrapper"]),Cs=Oo($K,"URI"),Ax=function(t,n){var r=-1,o=t.length,i=o-1;for(n=void 0===n?o:n;++r<n;){var s=t[o=Uw(r,i)];t[o]=t[r],t[r]=s}return t.length=n,t},aL=function(t){return Ax(jm(t))},bL=function(t){return Ax(Vm(t))},Ih=function(t){return(lc(t)?aL:bL)(t)},Jh={0:9591,1:9593},xg=function(t){var n=ui(null);return"https://".concat(n?null:t,"/api/v1")},cL=Wb.apply(void 0,ra(Ih(["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"].map(xg)))),dL=Wb.apply(void 0,ra(Ih(["ap-web-1.agora.io","ap-web-2.agora.io"].map(xg)))),eL=Wb.apply(void 0,ra(Ih(["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"].map(xg)))),fL=Wb.apply(void 0,ra(Ih(["ap-web-3.agora.io","ap-web-4.agora.io"].map(xg)))),vc=ae.Writer,O=ae.util,bc=ae.roots.default||(ae.roots.default={}),gL=bc.Session=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.appId="",t.prototype.ver="",t.prototype.buildno=0,t.prototype.installId="",t.prototype.os=0,t.prototype.did="",t.prototype.index=null,t.prototype.token="",t.prototype.version=0,t.prototype.subVersion=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.appId&&Object.hasOwnProperty.call(t,"appId")&&n.uint32(42).string(t.appId),null!=t.ver&&Object.hasOwnProperty.call(t,"ver")&&n.uint32(50).string(t.ver),null!=t.buildno&&Object.hasOwnProperty.call(t,"buildno")&&n.uint32(56).int32(t.buildno),null!=t.installId&&Object.hasOwnProperty.call(t,"installId")&&n.uint32(66).string(t.installId),null!=t.os&&Object.hasOwnProperty.call(t,"os")&&n.uint32(128).int32(t.os),null!=t.did&&Object.hasOwnProperty.call(t,"did")&&n.uint32(138).string(t.did),null!=t.index&&Object.hasOwnProperty.call(t,"index")&&bc.Session.CommonIndex.encode(t.index,n.uint32(162).fork()).ldelim(),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&n.uint32(170).string(t.token),null!=t.version&&Object.hasOwnProperty.call(t,"version")&&n.uint32(176).int32(t.version),null!=t.subVersion&&Object.hasOwnProperty.call(t,"subVersion")&&n.uint32(184).int32(t.subVersion),n},t.CommonIndex=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.index1="",t.prototype.index2="",t.prototype.index3="",t.encode=function(t,n){return n||(n=vc.create()),null!=t.index1&&Object.hasOwnProperty.call(t,"index1")&&n.uint32(10).string(t.index1),null!=t.index2&&Object.hasOwnProperty.call(t,"index2")&&n.uint32(18).string(t.index2),null!=t.index3&&Object.hasOwnProperty.call(t,"index3")&&n.uint32(26).string(t.index3),n},t}(),t}(),hL=bc.ApEvent=function(){function t(t){if(this.linkServerList=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.apAddr="",t.prototype.linkServerList=O.emptyArray,t.prototype.errCode=0,t.prototype.serverErrCode=0,t.prototype.isp="",t.prototype.opId=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.envId=0,t.prototype.flag=0,t.prototype.area="",t.encode=function(t,n){if(n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.apAddr&&Object.hasOwnProperty.call(t,"apAddr")&&n.uint32(50).string(t.apAddr),null!=t.linkServerList&&t.linkServerList.length)for(var r=0;r<t.linkServerList.length;++r)n.uint32(58).string(t.linkServerList[r]);return null!=t.errCode&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(72).int32(t.errCode),null!=t.serverErrCode&&Object.hasOwnProperty.call(t,"serverErrCode")&&n.uint32(80).int32(t.serverErrCode),null!=t.isp&&Object.hasOwnProperty.call(t,"isp")&&n.uint32(90).string(t.isp),null!=t.opId&&Object.hasOwnProperty.call(t,"opId")&&n.uint32(96).int64(t.opId),null!=t.envId&&Object.hasOwnProperty.call(t,"envId")&&n.uint32(104).int32(t.envId),null!=t.flag&&Object.hasOwnProperty.call(t,"flag")&&n.uint32(112).int32(t.flag),null!=t.area&&Object.hasOwnProperty.call(t,"area")&&n.uint32(122).string(t.area),n},t}(),iL=bc.ApRequest=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.apAddr="",t.prototype.opId=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.envId=0,t.prototype.flag=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.apAddr&&Object.hasOwnProperty.call(t,"apAddr")&&n.uint32(42).string(t.apAddr),null!=t.opId&&Object.hasOwnProperty.call(t,"opId")&&n.uint32(48).int64(t.opId),null!=t.envId&&Object.hasOwnProperty.call(t,"envId")&&n.uint32(56).int32(t.envId),null!=t.flag&&Object.hasOwnProperty.call(t,"flag")&&n.uint32(64).int32(t.flag),n},t}(),jL=bc.LinkLoginRequest=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.destServerIp="",t.prototype.linkId=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.destServerIp&&Object.hasOwnProperty.call(t,"destServerIp")&&n.uint32(42).string(t.destServerIp),null!=t.linkId&&Object.hasOwnProperty.call(t,"linkId")&&n.uint32(48).int32(t.linkId),n},t}(),kL=bc.Link=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.ec=0,t.prototype.sc=0,t.prototype.destServerIp="",t.prototype.ackedServerIp="",t.prototype.responseTime=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.ec&&Object.hasOwnProperty.call(t,"ec")&&n.uint32(40).int32(t.ec),null!=t.sc&&Object.hasOwnProperty.call(t,"sc")&&n.uint32(48).int32(t.sc),null!=t.destServerIp&&Object.hasOwnProperty.call(t,"destServerIp")&&n.uint32(58).string(t.destServerIp),null!=t.ackedServerIp&&Object.hasOwnProperty.call(t,"ackedServerIp")&&n.uint32(66).string(t.ackedServerIp),null!=t.responseTime&&Object.hasOwnProperty.call(t,"responseTime")&&n.uint32(72).int32(t.responseTime),n},t}(),lL=bc.Logout=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),n},t}(),mL=bc.KickedOff=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.linkId=0,t.prototype.code=0,t.prototype.server="",t.prototype.serverCode=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.linkId&&Object.hasOwnProperty.call(t,"linkId")&&n.uint32(48).int32(t.linkId),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(56).int32(t.code),null!=t.server&&Object.hasOwnProperty.call(t,"server")&&n.uint32(66).string(t.server),null!=t.serverCode&&Object.hasOwnProperty.call(t,"serverCode")&&n.uint32(72).int32(t.serverCode),n},t}(),nL=bc.ChnJoin=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.cname="",t.prototype.errCode=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.cname&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),null!=t.errCode&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),n},t}(),oL=bc.ChnJoinRes=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.cname="",t.prototype.errCode=0,t.prototype.serverErrCode=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.cname&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),null!=t.errCode&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),null!=t.serverErrCode&&Object.hasOwnProperty.call(t,"serverErrCode")&&n.uint32(64).int32(t.serverErrCode),n},t}(),pL=bc.ChnLeave=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.cname="",t.prototype.errCode=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.cname&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),null!=t.errCode&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),n},t}(),qL=bc.ConnectionStateChange=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.oldState=0,t.prototype.newState=0,t.prototype.reason=0,t.prototype.reconnId=0,t.encode=function(t,n){return n||(n=vc.create()),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),null!=t.userId&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),null!=t.elapse&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),null!=t.oldState&&Object.hasOwnProperty.call(t,"oldState")&&n.uint32(40).int32(t.oldState),null!=t.newState&&Object.hasOwnProperty.call(t,"newState")&&n.uint32(48).int32(t.newState),null!=t.reason&&Object.hasOwnProperty.call(t,"reason")&&n.uint32(56).int32(t.reason),null!=t.reconnId&&Object.hasOwnProperty.call(t,"reconnId")&&n.uint32(64).int32(t.reconnId),n},t}(),Bx=bc.RtmSdkMessageCount=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.sid="",t.prototype.messagecategory=0,t.prototype.reportsequence=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.sentcount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.receivedcount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack10mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack25mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack50mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack75mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack100mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack150mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack200mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack250mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack300mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack400mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack500mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack600mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack800mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack1000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack2000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack3000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack5000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerack7000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.peerackslowcount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack10mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack25mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack50mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack75mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack100mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack150mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack200mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack250mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack300mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack400mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack500mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack600mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack800mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack1000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack2000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack3000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack5000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientack7000mscount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.norecipientackslowcount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.acktimeoutcount=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.apimajorversion=0,t.prototype.apiminorversion=0,t.prototype.os=0,t.prototype.toooftencount=0,t.prototype.receiverofflinecount=0,t.prototype.invalidmessagecount=0,t.prototype.unknowerrorcount=0,t.prototype.servercachedcount=0,t.prototype.timeoutcount=0,t.prototype.successcount=0,t.prototype.userid="",t.encode=function(t,n){return n||(n=vc.create()),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),null!=t.vid&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(16).int64(t.vid),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(26).string(t.sid),null!=t.messagecategory&&Object.hasOwnProperty.call(t,"messagecategory")&&n.uint32(32).int32(t.messagecategory),null!=t.reportsequence&&Object.hasOwnProperty.call(t,"reportsequence")&&n.uint32(40).int64(t.reportsequence),null!=t.sentcount&&Object.hasOwnProperty.call(t,"sentcount")&&n.uint32(48).int64(t.sentcount),null!=t.receivedcount&&Object.hasOwnProperty.call(t,"receivedcount")&&n.uint32(56).int64(t.receivedcount),null!=t.peerack10mscount&&Object.hasOwnProperty.call(t,"peerack10mscount")&&n.uint32(64).int64(t.peerack10mscount),null!=t.peerack25mscount&&Object.hasOwnProperty.call(t,"peerack25mscount")&&n.uint32(72).int64(t.peerack25mscount),null!=t.peerack50mscount&&Object.hasOwnProperty.call(t,"peerack50mscount")&&n.uint32(80).int64(t.peerack50mscount),null!=t.peerack75mscount&&Object.hasOwnProperty.call(t,"peerack75mscount")&&n.uint32(88).int64(t.peerack75mscount),null!=t.peerack100mscount&&Object.hasOwnProperty.call(t,"peerack100mscount")&&n.uint32(96).int64(t.peerack100mscount),null!=t.peerack150mscount&&Object.hasOwnProperty.call(t,"peerack150mscount")&&n.uint32(104).int64(t.peerack150mscount),null!=t.peerack200mscount&&Object.hasOwnProperty.call(t,"peerack200mscount")&&n.uint32(112).int64(t.peerack200mscount),null!=t.peerack250mscount&&Object.hasOwnProperty.call(t,"peerack250mscount")&&n.uint32(120).int64(t.peerack250mscount),null!=t.peerack300mscount&&Object.hasOwnProperty.call(t,"peerack300mscount")&&n.uint32(128).int64(t.peerack300mscount),null!=t.peerack400mscount&&Object.hasOwnProperty.call(t,"peerack400mscount")&&n.uint32(136).int64(t.peerack400mscount),null!=t.peerack500mscount&&Object.hasOwnProperty.call(t,"peerack500mscount")&&n.uint32(144).int64(t.peerack500mscount),null!=t.peerack600mscount&&Object.hasOwnProperty.call(t,"peerack600mscount")&&n.uint32(152).int64(t.peerack600mscount),null!=t.peerack800mscount&&Object.hasOwnProperty.call(t,"peerack800mscount")&&n.uint32(160).int64(t.peerack800mscount),null!=t.peerack1000mscount&&Object.hasOwnProperty.call(t,"peerack1000mscount")&&n.uint32(168).int64(t.peerack1000mscount),null!=t.peerack2000mscount&&Object.hasOwnProperty.call(t,"peerack2000mscount")&&n.uint32(176).int64(t.peerack2000mscount),null!=t.peerack3000mscount&&Object.hasOwnProperty.call(t,"peerack3000mscount")&&n.uint32(184).int64(t.peerack3000mscount),null!=t.peerack5000mscount&&Object.hasOwnProperty.call(t,"peerack5000mscount")&&n.uint32(192).int64(t.peerack5000mscount),null!=t.peerack7000mscount&&Object.hasOwnProperty.call(t,"peerack7000mscount")&&n.uint32(200).int64(t.peerack7000mscount),null!=t.peerackslowcount&&Object.hasOwnProperty.call(t,"peerackslowcount")&&n.uint32(208).int64(t.peerackslowcount),null!=t.norecipientack10mscount&&Object.hasOwnProperty.call(t,"norecipientack10mscount")&&n.uint32(216).int64(t.norecipientack10mscount),null!=t.norecipientack25mscount&&Object.hasOwnProperty.call(t,"norecipientack25mscount")&&n.uint32(224).int64(t.norecipientack25mscount),null!=t.norecipientack50mscount&&Object.hasOwnProperty.call(t,"norecipientack50mscount")&&n.uint32(232).int64(t.norecipientack50mscount),null!=t.norecipientack75mscount&&Object.hasOwnProperty.call(t,"norecipientack75mscount")&&n.uint32(240).int64(t.norecipientack75mscount),null!=t.norecipientack100mscount&&Object.hasOwnProperty.call(t,"norecipientack100mscount")&&n.uint32(248).int64(t.norecipientack100mscount),null!=t.norecipientack150mscount&&Object.hasOwnProperty.call(t,"norecipientack150mscount")&&n.uint32(256).int64(t.norecipientack150mscount),null!=t.norecipientack200mscount&&Object.hasOwnProperty.call(t,"norecipientack200mscount")&&n.uint32(264).int64(t.norecipientack200mscount),null!=t.norecipientack250mscount&&Object.hasOwnProperty.call(t,"norecipientack250mscount")&&n.uint32(272).int64(t.norecipientack250mscount),null!=t.norecipientack300mscount&&Object.hasOwnProperty.call(t,"norecipientack300mscount")&&n.uint32(280).int64(t.norecipientack300mscount),null!=t.norecipientack400mscount&&Object.hasOwnProperty.call(t,"norecipientack400mscount")&&n.uint32(288).int64(t.norecipientack400mscount),null!=t.norecipientack500mscount&&Object.hasOwnProperty.call(t,"norecipientack500mscount")&&n.uint32(296).int64(t.norecipientack500mscount),null!=t.norecipientack600mscount&&Object.hasOwnProperty.call(t,"norecipientack600mscount")&&n.uint32(304).int64(t.norecipientack600mscount),null!=t.norecipientack800mscount&&Object.hasOwnProperty.call(t,"norecipientack800mscount")&&n.uint32(312).int64(t.norecipientack800mscount),null!=t.norecipientack1000mscount&&Object.hasOwnProperty.call(t,"norecipientack1000mscount")&&n.uint32(320).int64(t.norecipientack1000mscount),null!=t.norecipientack2000mscount&&Object.hasOwnProperty.call(t,"norecipientack2000mscount")&&n.uint32(328).int64(t.norecipientack2000mscount),null!=t.norecipientack3000mscount&&Object.hasOwnProperty.call(t,"norecipientack3000mscount")&&n.uint32(336).int64(t.norecipientack3000mscount),null!=t.norecipientack5000mscount&&Object.hasOwnProperty.call(t,"norecipientack5000mscount")&&n.uint32(344).int64(t.norecipientack5000mscount),null!=t.norecipientack7000mscount&&Object.hasOwnProperty.call(t,"norecipientack7000mscount")&&n.uint32(352).int64(t.norecipientack7000mscount),null!=t.norecipientackslowcount&&Object.hasOwnProperty.call(t,"norecipientackslowcount")&&n.uint32(360).int64(t.norecipientackslowcount),null!=t.acktimeoutcount&&Object.hasOwnProperty.call(t,"acktimeoutcount")&&n.uint32(368).int64(t.acktimeoutcount),null!=t.apimajorversion&&Object.hasOwnProperty.call(t,"apimajorversion")&&n.uint32(376).int32(t.apimajorversion),null!=t.apiminorversion&&Object.hasOwnProperty.call(t,"apiminorversion")&&n.uint32(384).int32(t.apiminorversion),null!=t.os&&Object.hasOwnProperty.call(t,"os")&&n.uint32(392).int32(t.os),null!=t.toooftencount&&Object.hasOwnProperty.call(t,"toooftencount")&&n.uint32(400).int32(t.toooftencount),null!=t.receiverofflinecount&&Object.hasOwnProperty.call(t,"receiverofflinecount")&&n.uint32(408).int32(t.receiverofflinecount),null!=t.invalidmessagecount&&Object.hasOwnProperty.call(t,"invalidmessagecount")&&n.uint32(416).int32(t.invalidmessagecount),null!=t.unknowerrorcount&&Object.hasOwnProperty.call(t,"unknowerrorcount")&&n.uint32(424).int32(t.unknowerrorcount),null!=t.servercachedcount&&Object.hasOwnProperty.call(t,"servercachedcount")&&n.uint32(432).int32(t.servercachedcount),null!=t.timeoutcount&&Object.hasOwnProperty.call(t,"timeoutcount")&&n.uint32(440).int32(t.timeoutcount),null!=t.successcount&&Object.hasOwnProperty.call(t,"successcount")&&n.uint32(448).int32(t.successcount),null!=t.userid&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(458).string(t.userid),n},t}(),rL=bc.SyncOperateEvent=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.userid="",t.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.sid="",t.prototype.requestts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.target="",t.prototype.eventtype="",t.prototype.revision=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.uuid="",t.prototype.sdktype=0,t.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.code=0,t.prototype.seq=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.index=null,t.prototype.lock="",t.prototype.lockrev=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.subtarget="",t.prototype.usersid="",t.encode=function(t,n){return n||(n=vc.create()),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),null!=t.userid&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),null!=t.vid&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),null!=t.requestts&&Object.hasOwnProperty.call(t,"requestts")&&n.uint32(48).int64(t.requestts),null!=t.replyts&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(56).int64(t.replyts),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),null!=t.eventtype&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),null!=t.revision&&Object.hasOwnProperty.call(t,"revision")&&n.uint32(80).int64(t.revision),null!=t.uuid&&Object.hasOwnProperty.call(t,"uuid")&&n.uint32(90).string(t.uuid),null!=t.sdktype&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(112).int32(t.code),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(120).int64(t.seq),null!=t.index&&Object.hasOwnProperty.call(t,"index")&&bc.CommonIndex.encode(t.index,n.uint32(130).fork()).ldelim(),null!=t.lock&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(138).string(t.lock),null!=t.lockrev&&Object.hasOwnProperty.call(t,"lockrev")&&n.uint32(144).int64(t.lockrev),null!=t.subtarget&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(154).string(t.subtarget),null!=t.usersid&&Object.hasOwnProperty.call(t,"usersid")&&n.uint32(162).string(t.usersid),n},t}(),sL=bc.SyncSubscribeEvent=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.userid="",t.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.sid="",t.prototype.target="",t.prototype.eventtype="",t.prototype.sdktype=0,t.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.code=0,t.prototype.seq=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.requestts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.index=null,t.prototype.subtarget="",t.prototype.usersid="",t.encode=function(t,n){return n||(n=vc.create()),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),null!=t.userid&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),null!=t.vid&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),null!=t.eventtype&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),null!=t.sdktype&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(112).int32(t.code),null!=t.seq&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(120).int64(t.seq),null!=t.requestts&&Object.hasOwnProperty.call(t,"requestts")&&n.uint32(128).int64(t.requestts),null!=t.replyts&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(136).int64(t.replyts),null!=t.index&&Object.hasOwnProperty.call(t,"index")&&bc.CommonIndex.encode(t.index,n.uint32(146).fork()).ldelim(),null!=t.subtarget&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(154).string(t.subtarget),null!=t.usersid&&Object.hasOwnProperty.call(t,"usersid")&&n.uint32(162).string(t.usersid),n},t}(),tL=bc.SyncUpdateEvent=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.userid="",t.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.sid="",t.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.target="",t.prototype.eventtype="",t.prototype.revision=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.sdktype=0,t.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,t.prototype.count=0,t.prototype.delta=0,t.prototype.code=0,t.prototype.index=null,t.prototype.subtarget="",t.encode=function(t,n){return n||(n=vc.create()),null!=t.lts&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),null!=t.userid&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),null!=t.vid&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),null!=t.sid&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),null!=t.replyts&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(56).int64(t.replyts),null!=t.target&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),null!=t.eventtype&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),null!=t.revision&&Object.hasOwnProperty.call(t,"revision")&&n.uint32(80).int64(t.revision),null!=t.sdktype&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),null!=t.flags&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),null!=t.count&&Object.hasOwnProperty.call(t,"count")&&n.uint32(112).int32(t.count),null!=t.delta&&Object.hasOwnProperty.call(t,"delta")&&n.uint32(120).int32(t.delta),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&n.uint32(128).int32(t.code),null!=t.index&&Object.hasOwnProperty.call(t,"index")&&bc.CommonIndex.encode(t.index,n.uint32(138).fork()).ldelim(),null!=t.subtarget&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(162).string(t.subtarget),n},t}(),uL=bc.CommonIndex=function(){function t(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)null!=t[n[r]]&&(this[n[r]]=t[n[r]])}return t.prototype.index1="",t.prototype.index2="",t.prototype.index3="",t.encode=function(t,n){return n||(n=vc.create()),null!=t.index1&&Object.hasOwnProperty.call(t,"index1")&&n.uint32(10).string(t.index1),null!=t.index2&&Object.hasOwnProperty.call(t,"index2")&&n.uint32(18).string(t.index2),null!=t.index3&&Object.hasOwnProperty.call(t,"index3")&&n.uint32(26).string(t.index3),n},t}(),xC=Object.freeze({__proto__:null,Session:gL,ApEvent:hL,ApRequest:iL,LinkLoginRequest:jL,Link:kL,Logout:lL,KickedOff:mL,ChnJoin:nL,ChnJoinRes:oL,ChnLeave:pL,ConnectionStateChange:qL,RtmSdkMessageCount:Bx,SyncOperateEvent:rL,SyncSubscribeEvent:sL,SyncUpdateEvent:tL,CommonIndex:uL,default:bc}),yC=Object.freeze({__proto__:null,Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651,default:{Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651}}),Cx=il(),sp=function(t){function n(t,o,i,s,a,u){ab(this,n);var c,l,f=r.call(this,a,Pm("Socket-",a.loggerId));if(E(L(f),"isActiveClose",!1),E(L(f),"loggedIn",!1),E(L(f),"useNewDomain",void 0),E(L(f),"receivedPacket",new ec),E(L(f),"open$",void 0),E(L(f),"input$",new ec),E(L(f),"userJoin$",new ec),E(L(f),"attemptsSinceLastError",0),E(L(f),"message$",new ec),E(L(f),"socket$",void 0),E(L(f),"toClose",new ec),E(L(f),"toReconnect",new ec),E(L(f),"sendLogger",void 0),E(L(f),"receiveLogger",void 0),E(L(f),"ip",void 0),E(L(f),"env",void 0),E(L(f),"ticket",void 0),E(L(f),"context",void 0),E(L(f),"getDomain",function(){return Ds(f.ip,f.useNewDomain)}),E(L(f),"socketReconnector",function(t){var n=function(t){return f.attemptsSinceLastError+=1,f.warn("The %s of Env %d reconnecting %s",f.name,f.env,t.message),Fe(3e3)};return t.pipe(Rb(function(t){return f.log("socket connection closed"),f.loggedIn=!1,2<=f.attemptsSinceLastError?(f.warn("socket connection failure"),f.emit("connectionFailure"),f.close(),Va(t)):f.isActiveClose?$c:(f.emit("reconnect"),f.useNewDomain=!f.useNewDomain,Va(t))}),Zg(function(t){return t.pipe(Cc(n))}))}),f.ip=t,f.env=o,f.ticket=i,f.context=s,f.useNewDomain=null!=u?u:.5<=Math.random(),f.sendLogger=f.genLogger("RTM:MSG:SEND"),f.receiveLogger=f.genLogger("RTM:MSG:RECV"),0!==o&&1!==o)throw new Cx({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var p=Jh[o];f.log("Opening websocket address %s for the Env %d",f.ip,f.env),$a("LinkLoginRequest",{sid:f.context.sid,userId:f.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(f.context.startTime),destServerIp:f.ip,linkId:f.env},null!==(c=f.context.config.enableCloudProxy||f.context.socketUseProxy)&&void 0!==c&&c),$a("LinkLoginRequest",{sid:f.context.sid,userId:f.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(f.context.startTime),destServerIp:f.ip,linkId:f.env},null!==(l=f.context.config.enableCloudProxy||f.context.socketUseProxy)&&void 0!==l&&l);var h=Nc(f.input$,f.userJoin$.pipe(kC(2)),f.message$).pipe(Wa(function(t){return gl.encode(t).finish()}));return t=Nc(lC("",{protocols:[],makeWebSocket:function(){if(f.context.config.enableCloudProxy||f.context.socketUseProxy){if(0===f.context.cloudProxyServers.length)throw f.logError("No cloud proxy server to connect"),new Pa;var t=ui(null)?JSON.parse(null.replace(/-/g,".")):f.context.cloudProxyServers;t=dh(t="wss://".concat(Ds(Es(t),!1),"/"),"sid",f.context.sid),t=dh(t,"remote_port",p.toString()),t=dh(t,"remote_ip",f.ip),t=dh(t,"token",f.context.key),t=new WebSocket(t)}else t=new WebSocket("wss://".concat(f.getDomain(),":").concat(p));return t.binaryType="arraybuffer",t}}),f.toReconnect),f.socket$=bb(t,ap.pipe(Oc(7e3),Rb(function(t){return uc(t)&&f.warn("socket open timed out"),Va(t)}))).pipe(Wa(function(t){if(t instanceof Error)throw f.warn("Env_%d: Force reconnect the socket",f.env),t;return t(h).pipe(Wa(function(t){return gl.decode(new Uint8Array(t))}))}),f.socketReconnector),f.open$=f.socket$.pipe(Ka(function(t){f.log("Websocket opened",f.name),t.subscribe(function(t){var n=t.data;n=Cs[t=Tm[t.uri].slice(0,-3)].decode(n);var r=UI({},Oo(n,"toJSON"),function(t,n){return n instanceof D?rs(n):n}),o=!1;if((n instanceof bx||n instanceof ax)&&n.instance.lessThanOrEqual(4294967295)&&(o=!0),n instanceof cx||n instanceof dx){var i=n.instance,s=n.sequence;(n.dialogue.lessThanOrEqual(4294967295)||i.lessThanOrEqual(4294967295)||s.lessThan(1))&&(o=!0)}o?f.warn("Env_%d: Illegal %s, abandoned %o",f.env,t,r):("Pong"!==t&&f.receiveLogger("Env_%d: %s %o",f.env,t,r),f.receivedPacket.next([t,n]))},function(){})}),ni(void 0),he(f.toClose),$g()),f}nb(n,t);var r=ob(n);return Qb(n,[{key:"address",get:function(){return"".concat(this.ip,":").concat(Jh[this.env])}},{key:"sendPacket",value:function(t,n){if("Ping"!==t){var r=Pe(n,function(t){return t instanceof D?rs(t):t});this.sendLogger("Env_%d: %s %o",this.env,t,r)}n=vC(t,n),"UserJoin"===t?this.userJoin$.next(n):"Message"===t?this.message$.next(n):this.input$.next(n)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(t){return this.receivedPacket.pipe(sc(function(n){return Lb(n,1)[0]===t}),Wa(function(t){return Lb(t,2)[1]}))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new Cx({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),n}(Dd());wa({target:"String",proto:!0,forced:fx},{padStart:function(t){return vK(this,t,1<arguments.length?arguments[1]:void 0)}});var vL=function(t){var n=vi(Yj);t=qC(t);for(var r=0;r<n.length;r++){var o=Yj[n[r]];if(null!=o&&o.AP_DOMAINS.includes(t)||null!=o&&o.AP_BACKUP_DOMAINS.includes(t)||null!=o&&o.PROXY_AP.includes(t))return[o.CODE]}return[oa.CHINA,oa.GLOBAL]},wL={INVALID_APP_ID:"Illegal App ID",NO_AUTHORIZED:"Signature verification failed",TOKEN_TIMEOUT:"Dynamic key expired",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",TOKEN_EXPIRED:"The token has expired",INVALID_USER_ID:"The user ID to login does not match the token",FORBIDDEN_REGION:"Forbidden to access the request in this area",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit"},Dx={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND"},xL=[100,101,102],jl=/web-(\d)/,Ex=function(t){function n(t,o){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];ab(this,n);var s=r.call(this,o,"AccessPoint");return E(L(s),"handleUniLbsError",function(t,n){var r=t;if(4<t.toString().length){var o=t.toString().padStart(8,"0"),i=parseInt(o.slice(0,4),10);if(o=parseInt(o.slice(4,8),10),201===i)r=o;else if(101===i&&!xL.includes(o))return Va(Error("service is currently unavailable"))}if(i=r.toString(),!Object.keys(Dx).includes(i))return(t=new Pa(["Login is rejected by the server. The response code is %d",t],ij)).serverCode=r,Va(t);switch(r=wL[i=Dx[i]],i){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":return(n=new Gh(r,Fw)).serverCode=t,Va(n);case"INVALID_USER_ID":return(n=new Gh(r,al)).serverCode=t,Va(n);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return(n=new Gh(r,bl)).serverCode=t,Va(n);case"NO_AUTHORIZED":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return(n=new Gh(r,Gw)).serverCode=t,Va(n);case"CANNOT_MEET_AREA_DEMAND":return(n=vL(n)).forEach(function(t){return s.failedAreas.add(t)}),s.failedAreas.size===(void 0===Ba?2:Ba.CODES.size)?((n=new ja(r,ij)).serverCode=t,Va(n)):Va(Error("ap ".concat(n.join(", ")," cannot meet requirement")));case"FORBIDDEN_REGION":return(n=new Pa(r,ij)).serverCode=t,Va(n);default:return Va(ps("ApResErrType",i))}}),E(L(s),"getApEdgeInfo$",void 0),E(L(s),"getApEdgeInfoEndFirst$",void 0),E(L(s),"apFinish$",new ec),E(L(s),"retryCount",0),E(L(s),"failedAreas",new Set),E(L(s),"usedUrl",[]),E(L(s),"newDomainUsed",!1),E(L(s),"backupNewDomainUsed",!1),E(L(s),"genUrl",function(){return void 0===Ba?zm.apply(void 0,ra(Ih([cL,dL]))).pipe(Am(function(t){return Wb.apply(void 0,ra(t))})):Wb.apply(void 0,ra(Ba.AP_DOMAINS.slice(0,3).map(xg)))}),E(L(s),"genBackupUrl",function(){return void 0===Ba?zm.apply(void 0,ra(Ih([eL,fL]))).pipe(Am(function(t){return Wb.apply(void 0,ra(t))})):Wb.apply(void 0,ra(Ba.AP_BACKUP_DOMAINS.slice(0,3).map(xg)))}),E(L(s),"getApUrl$",function(t){var r,o;return s.genUrl().pipe(sc(function(t){return(!s.newDomainUsed||!t.includes("sd-rtn.com"))&&(t.includes("sd-rtn.com")&&(s.newDomainUsed=!0),!mp(s.usedUrl,function(n){var r;return n===(null===(r=t.match(jl))||void 0===r?void 0:r[1])}))}),Ka(function(t){var n;void 0===Ba&&"string"==typeof(t=null===(n=t.match(jl))||void 0===n?void 0:n[1])&&s.usedUrl.push(t)}),Xb(t?Math.max(Yd.RECONNECTING_AP_NUM,null!==(r=null==Ba?void 0:Ba.CODES.size)&&void 0!==r?r:0):null!==(o=null==Ba?void 0:Ba.CODES.size)&&void 0!==o?o:2),Zf(function(){return n.runOutOfUrlSymbol}),Rb(function(t,r){return s.newDomainUsed=!1,t===n.runOutOfUrlSymbol?(s.usedUrl=[],r):Va(t)}))}),E(L(s),"getBackupApUrl$",function(t){var r,o;return s.genBackupUrl().pipe(sc(function(t){return(!s.backupNewDomainUsed||!t.includes("sd-rtn.com"))&&(t.includes("sd-rtn.com")&&(s.backupNewDomainUsed=!0),!mp(s.usedUrl,function(n){var r;return n===(null===(r=t.match(jl))||void 0===r?void 0:r[1])}))}),Ka(function(t){var n;void 0===Ba&&"string"==typeof(t=null===(n=t.match(jl))||void 0===n?void 0:n[1])&&s.usedUrl.push(t)}),Xb(t?Math.max(Yd.RECONNECTING_AP_NUM,null!==(r=null==Ba?void 0:Ba.CODES.size)&&void 0!==r?r:0):null!==(o=null==Ba?void 0:Ba.CODES.size)&&void 0!==o?o:2),Zf(function(){return n.runOutOfUrlSymbol}),Rb(function(t,r){return s.backupNewDomainUsed=!1,t===n.runOutOfUrlSymbol?(s.usedUrl=[],r):Va(t)}))}),E(L(s),"getProxyApUrl$",function(t){var n,r;return Wb.apply(void 0,ra(((null==Ba?void 0:Ba.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(xg))).pipe(Xb(t?Math.max(Yd.RECONNECTING_AP_NUM,null!==(n=null==Ba?void 0:Ba.CODES.size)&&void 0!==n?n:0):null!==(r=null==Ba?void 0:Ba.CODES.size)&&void 0!==r?r:2))}),E(L(s),"context",void 0),E(L(s),"fetchCloudProxy",function(t,n){var r=Pm("AP-",s.loggerId);s.log("The AccessPoint requests %s(%s)",t,r);var o,i=new AbortController;return s.apFinish$.pipe(Xb(1)).subscribe(function(){return i.abort()}),lf(za(W.mark(function o(){var a,u;return W.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u=Qj(0,Number.MAX_SAFE_INTEGER),s.log("%s request opid: %d",r,u),$a("ApRequest",{sid:s.context.sid,userId:s.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(s.context.startTime),apAddr:t,opId:D.fromNumber(u),envId:0,flag:128},null!==(a=s.context.config.enableCloudProxy)&&void 0!==a&&a),o.abrupt("return",Tj(t,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:s.context.sid,opid:u,appid:s.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:null!=n?n:s.context.key,cname:s.context.uid,uid:0,detail:tb({},void 0===Ba?{11:[oa.CHINA,oa.GLOBAL].join(),12:"1"}:{11:Array.from(Ba.CODES).map(function(t){return t===oa.OVERSEA?"".concat(oa.ASIA,",").concat(oa.EUROPE,",").concat(oa.AFRICA,",").concat(oa.NORTH_AMERICA,",").concat(oa.SOUTH_AMERICA,",").concat(oa.OCEANIA):t}).join(","),12:"1"})}}]},signal:i.signal}));case 4:case"end":return o.stop()}},o)}))).pipe(Rb(function(n){return"AbortError"!==n.name&&(s.logError(n),s.warn("The AP server %s request failure",t,n)),$c}),Ac((o=za(W.mark(function n(o){var i,a,u,c,l,f,p,h,d,g,v,y,b,m,_,w,O,R;return W.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=JSON.parse(o.responseText),s.log("The %s response is %o",r,i),(void 0===(a=i.response_body)||0===a.length||a.some(function(t){var n;return void 0===(null===(n=t.buffer)||void 0===n?void 0:n.code)||23!==t.uri}))&&Va(new Pa("cloud proxy response_body not valid",ij)),0===(u=a.filter(function(t){return 0!==t.buffer.code})).length){n.next=14;break}if(void 0===(c=u.find(function(t){return 128===t.buffer.flag}))){n.next=12;break}return n.abrupt("return",s.handleUniLbsError(c.buffer.code,t));case 12:return s.logError("cloud proxy error response"),n.abrupt("return",s.handleUniLbsError(u[0].buffer.code,t));case 14:for(l=[],f=0;f<a.length;f++)if(262144===(null==(d=a[f])||null===(p=d.buffer)||void 0===p?void 0:p.flag))null===(g=d.buffer)||void 0===g||null===(v=g.edges_services)||void 0===v||null===(y=v.forEach)||void 0===y||y.call(v,function(t){ns(t=t.ip)&&-1===s.context.cloudProxyServers.indexOf(t)&&(s.log("got cloud proxy server: %s",t),s.context.cloudProxyServers.push(t))});else if(128===(null==d||null===(h=d.buffer)||void 0===h?void 0:h.flag)){for(w=function(t,n){var r=n[t];l.some(function(t){return t.ip===r.ip})||l.push({ip:r.ip,ticket:d.buffer.cert})},O=0,R=d.buffer.edges_services;O<R.length;O++)w(O,R);s.context.rtmArea=null!==(b=null===(m=d.buffer)||void 0===m||null===(_=m.detail)||void 0===_?void 0:_[9])&&void 0!==b?b:""}return n.abrupt("return",Wb.apply(void 0,ra(l).concat([fj])));case 19:case"end":return n.stop()}},n)})),function(t){return o.apply(this,arguments)})),Rb(function(t){return Sa(t)?Va(t):$c}),Ij(),sc(function(t){return void 0!==t&&"string"==typeof t.ip&&"string"==typeof t.ticket&&ns(t.ip)}))}),E(L(s),"fetchAp",function(t,n){var r=Pm("AP-",s.loggerId);s.log("The AccessPoint requests %s(%s)",t,r);var o=new AbortController;s.apFinish$.pipe(Xb(1)).subscribe(function(){return o.abort()});var i,a=Qj(0,Number.MAX_SAFE_INTEGER);return lf(za(W.mark(function i(){var u;return W.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s.log("%s request opid: %d",r,a),$a("ApRequest",{sid:s.context.sid,userId:s.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(s.context.startTime),apAddr:t,opId:D.fromNumber(a),envId:0,flag:128},null!==(u=s.context.config.enableCloudProxy)&&void 0!==u&&u),i.abrupt("return",Tj(t,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:a,key:n||s.context.key,cname:s.context.uid,detail:tb({},void 0===Ba?{11:[oa.CHINA,oa.GLOBAL].join(),12:"1"}:{11:Array.from(Ba.CODES).map(function(t){return t===oa.OVERSEA?"".concat(oa.ASIA,",").concat(oa.EUROPE,",").concat(oa.AFRICA,",").concat(oa.NORTH_AMERICA,",").concat(oa.SOUTH_AMERICA,",").concat(oa.OCEANIA):t}).join(","),12:"1"}),uid:0,sid:s.context.sid},signal:o.signal}));case 3:case"end":return i.stop()}},i)}))).pipe(Rb(function(n){return"AbortError"!==n.name&&(s.logError(n),s.warn("The AP server %s request failure",t,n)),$c}),Ac((i=za(W.mark(function n(o){var i,u,c,l,f,p,h,d;return W.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=JSON.parse(o.responseText),s.log("The %s response is %o",r,c),f=(l=c).code,p=l.addresses,h=l.detail,s.context.vid=null!==(i=h[8])&&void 0!==i?i:"",$a("ApEvent",{sid:s.context.sid,userId:s.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(s.context.startTime),apAddr:t,linkServerList:p.map(function(t){return t.ip}),serverErrCode:f,flag:128,envId:0,opId:D.fromNumber(a),errCode:0,area:h[9],isp:h[2]},null!==(u=s.context.config.enableCloudProxy)&&void 0!==u&&u),s.info(c),0===f){n.next=9;break}return n.abrupt("return",s.handleUniLbsError(f,t));case 9:if(d=p,ui(null)&&(d=JSON.parse(null.replace(/-/g,".")).map(function(t){return{ip:t,ticket:d[0].ticket}})),0!==d.length){n.next=14;break}return n.abrupt("return",Va(Error("No available edge address to connect")));case 14:return s.context.rtmArea=null==h?void 0:h[9],n.abrupt("return",Wb.apply(void 0,ra(d).concat([fj])));case 16:case"end":return n.stop()}},n)})),function(t){return i.apply(this,arguments)})),Ij(),Rb(function(t){return Sa(t)?Va(t):$c}),sc(function(t){return void 0!==t&&"string"==typeof t.ip&&"string"==typeof t.ticket}))}),s.context=t,s.getApEdgeInfoEndFirst$=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Fe(0,t||i?Yd.RECONNECTING_AP_INTERVAL:2e3).pipe(Xb(1),Ka(function(){s.retryCount+=1}),Ac(function(){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.getProxyApUrl$(t||i):(4<=s.retryCount&&(s.retryCount=0),3>=s.retryCount?s.getApUrl$(t||i):s.getBackupApUrl$(t||i))}),Ac(function(t){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.fetchCloudProxy(t):s.fetchAp(t)}),Rb(function(t){return t instanceof ad&&s.warn("AP request timeout"),Va(t)}),Vr(function(t){return t.ip}),he(s.apFinish$))},s.getApEdgeInfo$=function(t){return Fe(0,t||i?Yd.RECONNECTING_AP_INTERVAL:2e3).pipe(Xb(8),Ka(function(){s.retryCount+=1}),Ac(function(){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.getProxyApUrl$(t||i):3>=s.retryCount?s.getApUrl$(t||i):s.getBackupApUrl$(t||i)}),Ac(function(t){return(s.context.config.enableCloudProxy||s.context.socketUseProxy?s.fetchCloudProxy(t):s.fetchAp(t)).pipe()}),Rb(function(t){return t instanceof ad&&s.warn("AP request timeout"),Va(t)}),Vr(function(t){return t.ip}),he(s.apFinish$))},s}nb(n,t);var r=ob(n);return Qb(n,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),n}(Dd());E(Ex,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var Fx=il(),Gx=function(t){function n(t,o,i){ab(this,n);var s=r.call(this,o,"Connection");E(L(s),"apClient",void 0),E(L(s),"lastOpenSockets",[new ah(1),new ah(1)]),E(L(s),"curOpenSockets",[void 0,void 0]),E(L(s),"ipIterator",0),E(L(s),"loginSocketOpenFailureCount",0),E(L(s),"firstEnv",.5<=Math.random()?1:0),E(L(s),"firstSocketOpener",void 0),E(L(s),"secondSocketOpener",void 0),E(L(s),"firstOpenKeeperSubject",new ec),E(L(s),"secondOpenKeeperSubject",new ec),E(L(s),"blacklistedIP",{}),E(L(s),"edgeInfoReplayed",void 0),E(L(s),"firstEnvOpenSocket",void 0),E(L(s),"firstOpenKeeperSub",void 0),E(L(s),"secondOpenKeeperSub",void 0),E(L(s),"context",void 0),E(L(s),"logger",void 0),s.context=t,s.logger=o,s.apClient=new Ex(s.context,o),s.apClient.apFinish$.subscribe(function(){s.log("Ap client fetch finished")});var a,u=[];return s.edgeInfoReplayed=s.apClient.getApEdgeInfo$(i).pipe(Zg(function(t){return t.pipe(Ka(function(t){if(Sa(t))throw t}),mf(i?wg.getParameter("RECONNECTING_AP_INTERVAL"):900),he(Fe(2e4)))}),sc(function(t){var n;return!mp(u,t)&&1>=(null!==(n=s.blacklistedIP[t.ip])&&void 0!==n?n:0)}),Zf(function(){return new Fx({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Ka(function(t){u.push(t),s.log("An edge info got %o",t)}),Ka({error:function(t){s.emit("connectionInitFailure",t)}}),Mj(function(){s.apClient.clearUp()}),Yr()),s.firstEnvOpenSocket=s.edgeInfoReplayed.pipe(Ac(function(t){if(void 0===t)return Va(Error("Invalid edge info"));var n=new sp(t.ip,s.firstEnv,t.ticket,s.context,o,a);if(s.firstEnv=1===s.firstEnv?0:1,n.once("connectionFailure",function(){return s.onSocketConnectionFailure(n)}),!i&&Yd.ENABLE_EDGE_AUTO_FALLBACK&&!s.context.config.enableCloudProxy){var r,u=Date.now();n.on("reconnect",function(){var t;s.loginSocketOpenFailureCount+=1,null!==(t=r)&&void 0!==t||(r=Date.now()-u),500>r&&1<s.loginSocketOpenFailureCount&&(s.context.socketUseProxy=!0)})}return a=!n.useNewDomain,n.open$.pipe(ni(n))}),Ka(function(t){s.log("The websocket of ENV_%d opened to %s:%d",t.env,t.ip,Jh[t.env]),s.curOpenSockets[t.env]=t,s.lastOpenSockets[t.env].next(t),s.firstEnv=t.env,s.openSecondSocket(t.env,t.ip,t.useNewDomain)}),Xb(1),$g()),s.firstSocketOpener=s.firstEnvOpenSocket.pipe(Ac(function(t){return t.open$.pipe(Ka(function(){s.log("The websocket of first ENV_%d re-opened to %s:%d",t.env,t.ip,Jh[t.env]),s.curOpenSockets[t.env]=t,s.lastOpenSockets[t.env].next(t)}))})),t=s.firstOpenKeeperSubject.pipe(Cc(jf)),s.firstOpenKeeperSub=t.subscribe({error:s.logError}),s}nb(n,t);var r=ob(n);return Qb(n,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(t,n){if(![0,1].includes(t))throw new rb({INVALID_ENV:"The env argument is not 0 or 1"});var r=t===this.firstEnv?this.firstOpenKeeperSub:this.secondOpenKeeperSub;this.firstOpenKeeperSub=void 0;var o=this.curOpenSockets[t];this.curOpenSockets[t]=void 0,o&&(o.isActiveClose=!0,setTimeout(function(){o.close()},n)),void 0!==r&&setTimeout(function(){null==r||r.unsubscribe()},n)}},{key:"waitClosing",value:function(t){var n=this;return t.isActiveClose=!0,t.open$.pipe(PB(),Rb(function(t){return t.message===Tw.normalClosureMessage?$c:Va(t)}),Oc(5e3),Rb(function(r){return r instanceof ad?(n.warn("Force closing the ENV_%d connection",t.env),$c):Va(r)}))}},{key:"onSocketConnectionFailure",value:function(t){var n=[0,1].filter(function(n){return n!==t.env})[0];(n=this.curOpenSockets[n])&&n.loggedIn?this.reopenSocketWithApRequest(t.env):this.emit("socketsFailure")}},{key:"openSecondSocket",value:function(t,n,r){var o=this,i=1===t?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(Xr(function(t,n){return[].concat(ra(t),[n])},[]),Wa(function(t){return Rw(t,function(t){return qs(n,t.ip)}).slice(-1)[0]}),Xb(1),Ac(function(t){if(void 0===t)return Va(Error("Invalid edge info"));var n=new sp(t.ip,i,t.ticket,o.context,o.logger,r);return n.on("connectionFailure",function(){return o.onSocketConnectionFailure(n)}),n.open$.pipe(Ka(function(){o.lastOpenSockets[i].next(n),o.curOpenSockets[i]=n}))}),$g()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(Cc(jf)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(t){var n=this,r=[0,1].filter(function(n){return n!==t})[0];if(void 0!==(r=this.curOpenSockets[r])){var o,i=r.ip;r=this.apClient.getApEdgeInfoEndFirst$(!0).pipe(Zf(function(){return new Fx({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Zg(function(t){return t.pipe(Ka(function(t){if(t.code===bl)n.emit("tokenExpired"),n.apClient.apFinish$.next(void 0);else if(Sa(t))throw t}),mf(wg.getParameter("RECONNECTING_AP_INTERVAL")),he(Fe(15e3)))}),Ka(function(t){n.log("An edge info got %o",t)}),Mj(function(){n.apClient.clearUp()})).pipe(Xr(function(t,n){return[].concat(ra(t),[n])},[]),Wa(function(t){return(t=Rw(t,function(t){return qs(i,t.ip)})).length-1>=n.ipIterator?t.slice(-n.ipIterator++-1)[0]:(n.ipIterator=0,t.slice(-1)[0])}),Zf(),Ac(function(r){if(void 0===r)return Va(Error("Invalid edge info"));var i=new sp(r.ip,t,r.ticket,n.context,n.logger,o);return i.on("connectionFailure",function(){return n.onSocketConnectionFailure(i)}),o=!i.useNewDomain,i.open$.pipe(ni(i))}),Ka(function(r){n.log("The websocket of ENV_%d re-opened to %s:%d using ap",r.env,r.ip,Jh[r.env]),n.curOpenSockets[t]=r,n.lastOpenSockets[t].next(r)}),Ac(function(r){return r.open$.pipe(Ka(function(){n.log("The websocket of ENV_%d re-opened to %s:%d",r.env,r.ip,Jh[r.env]),n.curOpenSockets[t]=r,n.lastOpenSockets[t].next(r)}))}),$g()),t===this.firstEnv?this.firstOpenKeeperSubject.next(r):this.secondOpenKeeperSubject.next(r)}}}]),n}(Dd()),yL=function(t){function n(t,o,i){return ab(this,n),E(L(i=r.call(this,i,"Context")),"_token",void 0),E(L(i),"config",void 0),E(L(i),"_uid",void 0),E(L(i),"_sid",void 0),E(L(i),"_vid",void 0),E(L(i),"_startTime",void 0),E(L(i),"_lastModifyMeteDataTime",-1),E(L(i),"_lastGetMetaDataTime",-1),E(L(i),"_lastSubscribeMetaDataTime",-1),E(L(i),"_area","CN"),E(L(i),"_socketUseProxy",!1),E(L(i),"appId",void 0),E(L(i),"enableCloudProxy",!1),E(L(i),"cloudProxyServers",[]),i.appId=t,i.config=o,i}nb(n,t);var r=ob(n);return Qb(n,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&Yd.ENABLE_EDGE_AUTO_FALLBACK},set:function(t){this.log("socketUseProxy is set to %s",t),this._socketUseProxy=t}},{key:"token",set:function(t){this._token="string"==typeof t&&t?t:void 0}},{key:"uid",get:function(){if("string"==typeof this._uid&&this._uid)return this._uid;throw new Ib("Cannot get illegal uid")},set:function(t){if(this.log("The user ID is set to %s",wb(t)),!yb(t))throw new Ib;this._uid=t}},{key:"vid",get:function(){if("string"==typeof this._vid)return this._vid;throw new Ib("Cannot get illegal vid")},set:function(t){if("string"!=typeof t)throw new Ib;this._vid=t}},{key:"key",get:function(){if("string"==typeof this._token&&this._token)return this._token;if("string"==typeof this.appId&&this.appId)return this.appId;throw new Ib("Cannot get illegal key")}},{key:"sid",get:function(){if("string"==typeof this._sid&&this._sid)return this._sid;throw new Ib("Cannot get illegal sid")},set:function(t){if(this.log("sid is set to %s",t),"string"!=typeof t||!t)throw new Ib;this._sid=t}},{key:"startTime",get:function(){if("number"==typeof this._startTime&&this._startTime)return this._startTime;throw new Ib("Cannot get illegal startTime")},set:function(t){if(this.log("startTime is set to %s",t),"number"!=typeof t||!t)throw new Ib;this._startTime=t}},{key:"rtmArea",get:function(){if("string"==typeof this._area&&this._area)return this._area;throw new Ib("Cannot get illegal area")},set:function(t){this.log("area is set to %s",t),"string"==typeof t&&t?this._area=t:this.warn("set area failed")}},{key:"lastModifyMeteDataTime",get:function(){if("number"==typeof this._lastModifyMeteDataTime&&this._lastModifyMeteDataTime)return this._lastModifyMeteDataTime;throw new Ib("Cannot get illegal lastModifyMeteDataTime")},set:function(t){if(this.log("lastModifyMeteDataTime is set to %s",t),"number"!=typeof t||!t)throw new Ib;this._lastModifyMeteDataTime=t}},{key:"lastGetMetaDataTime",get:function(){if("number"==typeof this._lastGetMetaDataTime&&this._lastGetMetaDataTime)return this._lastGetMetaDataTime;throw new Ib("Cannot get illegal lastGetMetaDataTime")},set:function(t){if(this.log("lastGetMetaDataTime is set to %s",t),"number"!=typeof t||!t)throw new Ib;this._lastGetMetaDataTime=t}},{key:"lastSubscribeMetaDataTime",get:function(){if("number"==typeof this._lastSubscribeMetaDataTime&&this._lastSubscribeMetaDataTime)return this._lastSubscribeMetaDataTime;throw new Ib("Cannot get illegal lastSubscribeMetaDataTime")},set:function(t){if(this.log("lastSubscribeMetaDataTime is set to %s",t),"number"!=typeof t||!t)throw new Ib;this._lastGetMetaDataTime=t}}]),n}(Dd());tu("of",function(){for(var t=0,n=arguments.length,r=new(wh(this))(n);n>t;)r[t]=arguments[t++];return r},Nn),wa({target:"Array",proto:!0,forced:Rn!==[].lastIndexOf},{lastIndexOf:Rn}),wa({target:"Array",proto:!0},{flatMap:function(t){var n=Zb(this),r=xb(n.length);Rc(t);var o=Ei(n,0);return o.length=px(o,n,n,r,0,1,t,1<arguments.length?arguments[1]:void 0),o}}),wf("flatMap");var zL=gg("reduceRight"),AL=!qe&&79<oe&&83>oe;wa({target:"Array",proto:!0,forced:!zL||AL},{reduceRight:function(t){return Cu(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});var tp=function(t){return Ga(function(){return!!"	\n\v\f\r \xa0áââââââââââââ¯âã\u2028\u2029\uFEFF"[t]()||"â\x85á "!="â\x85á "[t]()||"	\n\v\f\r \xa0áââââââââââââ¯âã\u2028\u2029\uFEFF"[t].name!==t})};wa({target:"String",proto:!0,forced:tp("trim")},{trim:function(){return kk(this)}});var Hx=tp("trimEnd"),Ix=Hx?function(){return lD(this)}:"".trimEnd;wa({target:"String",proto:!0,forced:Hx},{trimEnd:Ix,trimRight:Ix});var Jx=tp("trimStart"),Kx=Jx?function(){return kD(this)}:"".trimStart;wa({target:"String",proto:!0,forced:Jx},{trimStart:Kx,trimLeft:Kx});var Ge,bg,Pd=kc(function(t,n){(function(){function r(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}function o(t,n,r,o){for(var i=-1,s=null==t?0:t.length;++i<s;){var a=t[i];n(o,a,r(a),t)}return o}function i(t,n){for(var r=-1,o=null==t?0:t.length;++r<o&&!1!==n(t[r],r,t););return t}function s(t,n){for(var r=null==t?0:t.length;r--&&!1!==n(t[r],r,t););return t}function a(t,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(!n(t[r],r,t))return!1;return!0}function u(t,n){for(var r=-1,o=null==t?0:t.length,i=0,s=[];++r<o;){var a=t[r];n(a,r,t)&&(s[i++]=a)}return s}function c(t,n){return!(null==t||!t.length)&&-1<b(t,n,0)}function l(t,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;)if(r(n,t[o]))return!0;return!1}function f(t,n){for(var r=-1,o=null==t?0:t.length,i=Array(o);++r<o;)i[r]=n(t[r],r,t);return i}function p(t,n){for(var r=-1,o=n.length,i=t.length;++r<o;)t[i+r]=n[r];return t}function h(t,n,r,o){var i=-1,s=null==t?0:t.length;for(o&&s&&(r=t[++i]);++i<s;)r=n(r,t[i],i,t);return r}function d(t,n,r,o){var i=null==t?0:t.length;for(o&&i&&(r=t[--i]);i--;)r=n(r,t[i],i,t);return r}function g(t,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(t[r],r,t))return!0;return!1}function v(t,n,r){var o;return r(t,function(t,r,i){if(n(t,r,i))return o=r,!1}),o}function y(t,n,r,o){var i=t.length;for(r+=o?1:-1;o?r--:++r<i;)if(n(t[r],r,t))return r;return -1}function b(t,n,r){if(n==n)e:{--r;for(var o=t.length;++r<o;)if(t[r]===n){t=r;break e}t=-1}else t=y(t,E,r);return t}function m(t,n,r,o){--r;for(var i=t.length;++r<i;)if(o(t[r],n))return r;return -1}function E(t){return t!=t}function _(t,n){var r=null==t?0:t.length;return r?k(t,n)/r:V}function w(t){return function(n){return null==n?F:n[t]}}function O(t){return function(n){return null==t?F:t[n]}}function R(t,n,r,o,i){return i(t,function(t,i,s){r=o?(o=!1,t):n(r,t,i,s)}),r}function k(t,n){for(var r,o=-1,i=t.length;++o<i;){var s=n(t[o]);s!==F&&(r=r===F?s:r+s)}return r}function T(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}function S(t){return t?t.slice(0,B(t)+1).replace(es,""):t}function A(t){return function(n){return t(n)}}function I(t,n){return f(n,function(n){return t[n]})}function N(t,n){return t.has(n)}function x(t,n){for(var r=-1,o=t.length;++r<o&&-1<b(n,t[r],0););return r}function C(t,n){for(var r=t.length;r--&&-1<b(n,t[r],0););return r}function L(t){return"\\"+eP[t]}function P(t){var n=-1,r=Array(t.size);return t.forEach(function(t,o){r[++n]=[o,t]}),r}function j(t,n){return function(r){return t(n(r))}}function U(t,n){for(var r=-1,o=t.length,i=0,s=[];++r<o;){var a=t[r];a!==n&&"__lodash_placeholder__"!==a||(t[r]="__lodash_placeholder__",s[i++]=r)}return s}function M(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r}function D(t){if(eA.test(t)){for(var n=eT.lastIndex=0;eT.test(t);)++n;t=n}else t=eX(t);return t}function q(t){return eA.test(t)?t.match(eT)||[]:t.split("")}function B(t){for(var n=t.length;n--&&ea.test(t.charAt(n)););return n}var F,G=1/0,V=NaN,z=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],K=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(W.source),X=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,en=/^\w*$/,er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eo=/[\\^$.*+?()[\]{}|]/g,ei=RegExp(eo.source),es=/^\s+/,ea=/\s/,eu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ec=/\{\n\/\* \[wrapped with (.+)\] \*/,el=/,? & /,ef=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ep=/[()=,{}\[\]\/\s]/,eh=/\\(\\)?/g,ed=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eg=/\w*$/,ev=/^[-+]0x[0-9a-f]+$/i,ey=/^0b[01]+$/i,eb=/^\[object .+?Constructor\]$/,em=/^0o[0-7]+$/i,eE=/^(?:0|[1-9]\d*)$/,e_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ew=/($^)/,eO=/['\n\r\u2028\u2029\\]/g,eR=/['\u2019]/g,ek=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,eT=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,eS=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,eA=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,eI=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eN="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),ex=-1,eC={};eC["[object Float32Array]"]=eC["[object Float64Array]"]=eC["[object Int8Array]"]=eC["[object Int16Array]"]=eC["[object Int32Array]"]=eC["[object Uint8Array]"]=eC["[object Uint8ClampedArray]"]=eC["[object Uint16Array]"]=eC["[object Uint32Array]"]=!0,eC["[object Arguments]"]=eC["[object Array]"]=eC["[object ArrayBuffer]"]=eC["[object Boolean]"]=eC["[object DataView]"]=eC["[object Date]"]=eC["[object Error]"]=eC["[object Function]"]=eC["[object Map]"]=eC["[object Number]"]=eC["[object Object]"]=eC["[object RegExp]"]=eC["[object Set]"]=eC["[object String]"]=eC["[object WeakMap]"]=!1;var eL={};eL["[object Arguments]"]=eL["[object Array]"]=eL["[object ArrayBuffer]"]=eL["[object DataView]"]=eL["[object Boolean]"]=eL["[object Date]"]=eL["[object Float32Array]"]=eL["[object Float64Array]"]=eL["[object Int8Array]"]=eL["[object Int16Array]"]=eL["[object Int32Array]"]=eL["[object Map]"]=eL["[object Number]"]=eL["[object Object]"]=eL["[object RegExp]"]=eL["[object Set]"]=eL["[object String]"]=eL["[object Symbol]"]=eL["[object Uint8Array]"]=eL["[object Uint8ClampedArray]"]=eL["[object Uint16Array]"]=eL["[object Uint32Array]"]=!0,eL["[object Error]"]=eL["[object Function]"]=eL["[object WeakMap]"]=!1;var eP={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ej=parseFloat,eU=parseInt,eM="object"==Ia(qb)&&qb&&qb.Object===Object&&qb,eD="object"==("undefined"==typeof self?"undefined":Ia(self))&&self&&self.Object===Object&&self,eq=eM||eD||Function("return this")(),eB=n&&!n.nodeType&&n,eF=eB&&t&&!t.nodeType&&t,eG=eF&&eF.exports===eB,eV=eG&&eM.process,ez=function(){try{return eF&&eF.require&&eF.require("util").types||eV&&eV.binding&&eV.binding("util")}catch(t){}}(),eK=ez&&ez.isArrayBuffer,eH=ez&&ez.isDate,eJ=ez&&ez.isMap,eW=ez&&ez.isRegExp,eY=ez&&ez.isSet,e$=ez&&ez.isTypedArray,eX=w("length"),eZ=O({Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"}),eQ=O({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),e0=O({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),e1=function t(n){function O(t){if(rm(t)&&!iV(t)&&!(t instanceof eP)){if(t instanceof eT)return t;if(r7.call(t,"__wrapped__"))return n1(t)}return new eT(t)}function ea(){}function eT(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=F}function eP(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function eM(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var o=t[n];this.set(o[0],o[1])}}function eD(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var o=t[n];this.set(o[0],o[1])}}function eB(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var o=t[n];this.set(o[0],o[1])}}function eF(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new eB;++n<r;)this.add(t[n])}function eV(t){this.size=(this.__data__=new eD(t)).size}function ez(t,n){var r,o=iV(t),i=!o&&iG(t),s=!o&&!i&&iK(t),a=!o&&!i&&!s&&i$(t),u=(i=(o=o||i||s||a)?T(t.length,r2):[]).length;for(r in t)!n&&!r7.call(t,r)||o&&("length"==r||s&&("offset"==r||"parent"==r)||a&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||nF(r,u))||i.push(r);return i}function eX(t){var n=t.length;return n?t[tM(0,n-1)]:F}function e2(t,n){return nX(nr(t),tt(n,0,t.length))}function e3(t){return nX(nr(t))}function e4(t,n,r){(r===F||rf(t[n],r))&&(r!==F||n in t)||e9(t,n,r)}function e6(t,n,r){var o=t[n];r7.call(t,n)&&rf(o,r)&&(r!==F||n in t)||e9(t,n,r)}function e5(t,n){for(var r=t.length;r--;)if(rf(t[r][0],n))return r;return -1}function e8(t,n,r,o){return o$(t,function(t,i,s){n(o,t,r(t),s)}),o}function e7(t,n){return t&&no(n,rL(n),t)}function e9(t,n,r){"__proto__"==n&&ov?ov(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}function te(t,n){for(var r=-1,o=n.length,i=rY(o),s=null==t;++r<o;)i[r]=s?F:rx(t,n[r]);return i}function tt(t,n,r){return t==t&&(r!==F&&(t=t<=r?t:r),n!==F&&(t=t>=n?t:n)),t}function tn(t,n,r,o,s,a){var u,c=1&n,l=2&n,f=4&n;if(r&&(u=s?r(t,o,s,a):r(t)),u!==F)return u;if(!rb(t))return t;if(o=iV(t)){if(u=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&r7.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return nr(t,u)}else{var p=o8(t),h="[object Function]"==p||"[object GeneratorFunction]"==p;if(iK(t))return t8(t,c);if("[object Object]"==p||"[object Arguments]"==p||h&&!s){if(u=l||h?{}:nq(t),!c)return l?function(t,n){return no(t,o5(t),n)}(t,function(t,n){return t&&no(n,rP(n),t)}(u,t)):function(t,n){return no(t,o6(t),n)}(t,e7(u,t))}else{if(!eL[p])return s?t:{};u=function(t,n,r){var o=t.constructor;switch(n){case"[object ArrayBuffer]":return t7(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return n=r?t7(t.buffer):t.buffer,new t.constructor(n,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return t9(t,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(n=new t.constructor(t.source,eg.exec(t))).lastIndex=t.lastIndex,n;case"[object Symbol]":return oJ?r0(oJ.call(t)):{}}}(t,p,c)}}if(a||(a=new eV),s=a.get(t))return s;a.set(t,u),iY(t)?t.forEach(function(o){u.add(tn(o,n,r,o,t,a))}):iJ(t)&&t.forEach(function(o,i){u.set(i,tn(o,n,r,i,t,a))}),l=f?l?nx:nN:l?rP:rL;var d=o?F:l(t);return i(d||t,function(o,i){d&&(o=t[i=o]),e6(u,i,tn(o,n,r,i,t,a))}),u}function tr(t,n,r){var o=r.length;if(null==t)return!o;for(t=r0(t);o--;){var i=r[o],s=n[i],a=t[i];if(a===F&&!(i in t)||!s(a))return!1}return!0}function to(t,n,r){if("function"!=typeof t)throw new r3("Expected a function");return ie(function(){t.apply(F,r)},n)}function ti(t,n,r,o){var i=-1,s=c,a=!0,u=t.length,p=[],h=n.length;if(!u)return p;r&&(n=f(n,A(r))),o?(s=l,a=!1):200<=n.length&&(s=N,a=!1,n=new eF(n));e:for(;++i<u;){var d=t[i],g=null==r?d:r(d);if(d=o||0!==d?d:0,a&&g==g){for(var v=h;v--;)if(n[v]===g)continue e;p.push(d)}else s(n,g,o)||p.push(d)}return p}function ts(t,n){var r=!0;return o$(t,function(t,o,i){return r=!!n(t,o,i)}),r}function ta(t,n,r){for(var o=-1,i=t.length;++o<i;){var s=t[o],a=n(s);if(null!=a&&(u===F?a==a&&!rO(a):r(a,u)))var u=a,c=s}return c}function tu(t,n){var r=[];return o$(t,function(t,o,i){n(t,o,i)&&r.push(t)}),r}function tc(t,n,r,o,i){var s=-1,a=t.length;for(r||(r=nB),i||(i=[]);++s<a;){var u=t[s];0<n&&r(u)?1<n?tc(u,n-1,r,o,i):p(i,u):o||(i[i.length]=u)}return i}function tl(t,n){return t&&oZ(t,n,rL)}function tf(t,n){return t&&oQ(t,n,rL)}function tp(t,n){return u(n,function(n){return rg(t[n])})}function th(t,n){for(var r=0,o=(n=t6(n,t)).length;null!=t&&r<o;)t=t[nZ(n[r++])];return r&&r==o?t:F}function td(t,n,r){return n=n(t),iV(t)?n:p(n,r(t))}function tg(t){if(null==t)return t===F?"[object Undefined]":"[object Null]";if(og&&og in r0(t)){var n=r7.call(t,og),r=t[og];try{t[og]=F;var o=!0}catch(i){}var s=ot.call(t);o&&(n?t[og]=r:delete t[og]),t=s}else t=ot.call(t);return t}function tv(t,n){return t>n}function ty(t,n){return null!=t&&r7.call(t,n)}function tb(t,n){return null!=t&&n in r0(t)}function tm(t,n,r){for(var o=r?l:c,i=t[0].length,s=t.length,a=s,u=rY(s),p=1/0,h=[];a--;){var d=t[a];a&&n&&(d=f(d,A(n))),p=oA(d.length,p),u[a]=!r&&(n||120<=i&&120<=d.length)?new eF(a&&d):F}d=t[0];var g=-1,v=u[0];e:for(;++g<i&&h.length<p;){var y=d[g],b=n?n(y):y;if(y=r||0!==y?y:0,v?!v.has(b):!o(h,b,r)){for(a=s;--a;){var m=u[a];if(m?!m.has(b):!o(t[a],b,r))continue e}v&&v.push(b),h.push(y)}}return h}function tE(t,n,o){return null==(n=null==(t=2>(n=t6(n,t)).length?t:th(t,tz(n,0,-1)))?t:t[nZ(n5(n))])?F:r(n,t,o)}function t_(t){return rm(t)&&"[object Arguments]"==tg(t)}function tw(t,n,r,o,i){if(t===n)return!0;if(null==t||null==n||!rm(t)&&!rm(n))return t!=t&&n!=n;e:{var s=iV(t),a=iV(n),u=s?"[object Array]":o8(t),c=a?"[object Array]":o8(n),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u);if(a="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),(c=u==c)&&iK(t)){if(!iK(n)){n=!1;break e}s=!0,l=!1}if(c&&!l)i||(i=new eV),n=s||i$(t)?nA(t,n,r,o,tw,i):function(t,n,r,o,i,s,a){switch(r){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":if(t.byteLength!=n.byteLength||!s(new oa(t),new oa(n)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return rf(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var u=P;case"[object Set]":if(u||(u=M),t.size!=n.size&&!(1&o))break;return(r=a.get(t))?r==n:(o|=2,a.set(t,n),n=nA(u(t),u(n),o,i,s,a),a.delete(t),n);case"[object Symbol]":if(oJ)return oJ.call(t)==oJ.call(n)}return!1}(t,n,u,r,o,tw,i);else{if(!(1&r)&&(s=l&&r7.call(t,"__wrapped__"),u=a&&r7.call(n,"__wrapped__"),s||u)){t=s?t.value():t,n=u?n.value():n,i||(i=new eV),n=tw(t,n,r,o,i);break e}if(c)t:if(i||(i=new eV),s=1&r,a=(u=nN(t)).length,c=nN(n).length,a==c||s){for(c=a;c--;){var f=u[c];if(!(s?f in n:r7.call(n,f))){n=!1;break t}}if(l=i.get(t),f=i.get(n),l&&f)n=l==n&&f==t;else{l=!0,i.set(t,n),i.set(n,t);for(var p=s;++c<a;){var h=t[f=u[c]],d=n[f];if(o)var g=s?o(d,h,f,n,t,i):o(h,d,f,t,n,i);if(g===F?h!==d&&!tw(h,d,r,o,i):!g){l=!1;break}p||(p="constructor"==f)}l&&!p&&(r=t.constructor)!=(o=n.constructor)&&"constructor"in t&&"constructor"in n&&!("function"==typeof r&&r instanceof r&&"function"==typeof o&&o instanceof o)&&(l=!1),i.delete(t),i.delete(n),n=l}}else n=!1;else n=!1}}return n}function tO(t,n,r,o){var i=r.length,s=i,a=!o;if(null==t)return!s;for(t=r0(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var c=(u=r[i])[0],l=t[c],f=u[1];if(a&&u[2]){if(l===F&&!(c in t))return!1}else{if(u=new eV,o)var p=o(l,f,c,t,n,u);if(p===F?!tw(f,l,3,o,u):!p)return!1}}return!0}function tR(t){return!(!rb(t)||oe&&oe in t)&&(rg(t)?oo:eb).test(nQ(t))}function tk(t){return"function"==typeof t?t:null==t?rF:"object"==Ia(t)?iV(t)?tN(t[0],t[1]):tI(t):rK(t)}function tT(t){if(!nK(t))return oT(t);var n,r=[];for(n in r0(t))r7.call(t,n)&&"constructor"!=n&&r.push(n);return r}function tS(t,n){return t<n}function tA(t,n){var r=-1,o=rp(t)?rY(t.length):[];return o$(t,function(t,i,s){o[++r]=n(t,i,s)}),o}function tI(t){var n=nU(t);return 1==n.length&&n[0][2]?nH(n[0][0],n[0][1]):function(r){return r===t||tO(r,t,n)}}function tN(t,n){return nV(t)&&n==n&&!rb(n)?nH(nZ(t),n):function(r){var o=rx(r,t);return o===F&&o===n?rC(r,t):tw(n,o,3)}}function tx(t,n,r,o,i){t!==n&&oZ(n,function(s,a){if(i||(i=new eV),rb(s)){s=i;var u=nW(t,a),c=nW(n,a),l=s.get(c);if(l)e4(t,a,l);else{var f=(l=o?o(u,c,a+"",t,n,s):F)===F;if(f){var p=iV(c),h=!p&&iK(c),d=!p&&!h&&i$(c);l=c,p||h||d?iV(u)?l=u:rh(u)?l=nr(u):h?(f=!1,l=t8(c,!0)):d?(f=!1,l=t9(c,!0)):l=[]:r_(c)||iG(c)?(l=u,iG(u)?l=rI(u):rb(u)&&!rg(u)||(l=nq(c))):f=!1}f&&(s.set(c,l),tx(l,c,r,o,s),s.delete(c)),e4(t,a,l)}}else(u=o?o(nW(t,a),s,a+"",t,n,i):F)===F&&(u=s),e4(t,a,u)},rP)}function tC(t,n){var r=t.length;if(r)return nF(n+=0>n?r:0,r)?t[n]:F}function tL(t,n,r){n=n.length?f(n,function(t){return iV(t)?function(n){return th(n,1===t.length?t[0]:t)}:t}):[rF];var o=-1;return n=f(n,A(nP())),function(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}(t=tA(t,function(t,r,i){return{criteria:f(n,function(n){return n(t)}),index:++o,value:t}}),function(t,n){e:{for(var o=-1,i=t.criteria,s=n.criteria,a=i.length,u=r.length;++o<a;){var c=ne(i[o],s[o]);if(c){if(o>=u){t=c;break e}t=c*("desc"==r[o]?-1:1);break e}}t=t.index-n.index}return t})}function tP(t,n,r){for(var o=-1,i=n.length,s={};++o<i;){var a=n[o],u=th(t,a);r(u,a)&&tG(s,t6(a,t),u)}return s}function tj(t,n,r,o){var i=o?m:b,s=-1,a=n.length,u=t;for(t===n&&(n=nr(n)),r&&(u=f(t,A(r)));++s<a;){var c=0,l=n[s];for(l=r?r(l):l;-1<(c=i(u,l,c,o));)u!==t&&op.call(u,c,1),op.call(t,c,1)}return t}function tU(t,n){for(var r=t?n.length:0,o=r-1;r--;){var i=n[r];if(r==o||i!==s){var s=i;nF(i)?op.call(t,i,1):tZ(t,i)}}return t}function tM(t,n){return t+o_(ox()*(n-t+1))}function tD(t,n){var r="";if(!t||1>n||9007199254740991<n)return r;do n%2&&(r+=t),(n=o_(n/2))&&(t+=t);while(n);return r}function tq(t,n){return it(nJ(t,n,rF),t+"")}function tB(t){return eX(rU(t))}function tF(t,n){return nX(t=rU(t),tt(n,0,t.length))}function tG(t,n,r,o){if(!rb(t))return t;for(var i=-1,s=(n=t6(n,t)).length,a=s-1,u=t;null!=u&&++i<s;){var c=nZ(n[i]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)break;if(i!=a){var f=u[c];(l=o?o(f,c,u):F)===F&&(l=rb(f)?f:nF(n[i+1])?[]:{})}e6(u,c,l),u=u[c]}return t}function tV(t){return nX(rU(t))}function tz(t,n,r){var o=-1,i=t.length;for(0>n&&(n=-n>i?0:i+n),0>(r=r>i?i:r)&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0,r=rY(i);++o<i;)r[o]=t[o+n];return r}function tK(t,n){var r;return o$(t,function(t,o,i){return!(r=n(t,o,i))}),!!r}function tH(t,n,r){var o=0,i=null==t?o:t.length;if("number"==typeof n&&n==n&&2147483647>=i){for(;o<i;){var s=o+i>>>1,a=t[s];null!==a&&!rO(a)&&(r?a<=n:a<n)?o=s+1:i=s}return i}return tJ(t,n,rF,r)}function tJ(t,n,r,o){var i=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(n=r(n))!=n,u=null===n,c=rO(n),l=n===F;i<s;){var f=o_((i+s)/2),p=r(t[f]),h=p!==F,d=null===p,g=p==p,v=rO(p);(a?o||g:l?g&&(o||h):u?g&&h&&(o||!d):c?g&&h&&!d&&(o||!v):!d&&!v&&(o?p<=n:p<n))?i=f+1:s=f}return oA(s,4294967294)}function tW(t,n){for(var r=-1,o=t.length,i=0,s=[];++r<o;){var a=t[r],u=n?n(a):a;if(!r||!rf(u,c)){var c=u;s[i++]=0===a?0:a}}return s}function tY(t){return"number"==typeof t?t:rO(t)?V:+t}function t$(t){if("string"==typeof t)return t;if(iV(t))return f(t,t$)+"";if(rO(t))return oW?oW.call(t):"";var n=t+"";return"0"==n&&1/t==-G?"-0":n}function tX(t,n,r){var o=-1,i=c,s=t.length,a=!0,u=[],f=u;if(r)a=!1,i=l;else if(200<=s){if(i=n?null:o3(t))return M(i);a=!1,i=N,f=new eF}else f=n?[]:u;e:for(;++o<s;){var p=t[o],h=n?n(p):p;if(p=r||0!==p?p:0,a&&h==h){for(var d=f.length;d--;)if(f[d]===h)continue e;n&&f.push(h),u.push(p)}else i(f,h,r)||(f!==u&&f.push(h),u.push(p))}return u}function tZ(t,n){return null==(t=2>(n=t6(n,t)).length?t:th(t,tz(n,0,-1)))||delete t[nZ(n5(n))]}function tQ(t,n,r,o){for(var i=t.length,s=o?i:-1;(o?s--:++s<i)&&n(t[s],s,t););return r?tz(t,o?0:s,o?s+1:i):tz(t,o?s+1:0,o?i:s)}function t0(t,n){return t instanceof eP&&(t=t.value()),h(n,function(t,n){return n.func.apply(n.thisArg,p([t],n.args))},t)}function t1(t,n,r){var o=t.length;if(2>o)return o?tX(t[0]):[];for(var i=-1,s=rY(o);++i<o;)for(var a=t[i],u=-1;++u<o;)u!=i&&(s[i]=ti(s[i]||a,t[u],n,r));return tX(tc(s,1),n,r)}function t2(t,n,r){for(var o=-1,i=t.length,s=n.length,a={};++o<i;)r(a,t[o],o<s?n[o]:F);return a}function t3(t){return rh(t)?t:[]}function t4(t){return"function"==typeof t?t:rF}function t6(t,n){return iV(t)?t:nV(t,n)?[t]:ir(rN(t))}function t5(t,n,r){var o=t.length;return r=r===F?o:r,!n&&r>=o?t:tz(t,n,r)}function t8(t,n){return n?t.slice():(n=t.length,n=ou?ou(n):new t.constructor(n),t.copy(n),n)}function t7(t){var n=new t.constructor(t.byteLength);return new oa(n).set(new oa(t)),n}function t9(t,n){return n=n?t7(t.buffer):t.buffer,new t.constructor(n,t.byteOffset,t.length)}function ne(t,n){if(t!==n){var r=t!==F,o=null===t,i=t==t,s=rO(t),a=n!==F,u=null===n,c=n==n,l=rO(n);if(!u&&!l&&!s&&t>n||s&&a&&c&&!u&&!l||o&&a&&c||!r&&c||!i)return 1;if(!o&&!s&&!l&&t<n||l&&r&&i&&!o&&!s||u&&r&&i||!a&&i||!c)return -1}return 0}function nt(t,n,r,o){var i=-1,s=t.length,a=r.length,u=-1,c=n.length,l=oS(s-a,0),f=rY(c+l);for(o=!o;++u<c;)f[u]=n[u];for(;++i<a;)(o||i<s)&&(f[r[i]]=t[i]);for(;l--;)f[u++]=t[i++];return f}function nn(t,n,r,o){var i=-1,s=t.length,a=-1,u=r.length,c=-1,l=n.length,f=oS(s-u,0),p=rY(f+l);for(o=!o;++i<f;)p[i]=t[i];for(f=i;++c<l;)p[f+c]=n[c];for(;++a<u;)(o||i<s)&&(p[f+r[a]]=t[i++]);return p}function nr(t,n){var r=-1,o=t.length;for(n||(n=rY(o));++r<o;)n[r]=t[r];return n}function no(t,n,r,o){var i=!r;r||(r={});for(var s=-1,a=n.length;++s<a;){var u=n[s],c=o?o(r[u],t[u],u,r,t):F;c===F&&(c=t[u]),i?e9(r,u,c):e6(r,u,c)}return r}function ni(t,n){return function(r,i){var s=iV(r)?o:e8,a=n?n():{};return s(r,t,nP(i,2),a)}}function ns(t){return tq(function(n,r){var o=-1,i=r.length,s=1<i?r[i-1]:F,a=2<i?r[2]:F;for(s=3<t.length&&"function"==typeof s?(i--,s):F,a&&nG(r[0],r[1],a)&&(s=3>i?F:s,i=1),n=r0(n);++o<i;)(a=r[o])&&t(n,a,o,s);return n})}function na(t,n){return function(r,o){if(null==r)return r;if(!rp(r))return t(r,o);for(var i=r.length,s=n?i:-1,a=r0(r);(n?s--:++s<i)&&!1!==o(a[s],s,a););return r}}function nu(t){return function(n,r,o){for(var i=-1,s=r0(n),a=(o=o(n)).length;a--;){var u=o[t?a:++i];if(!1===r(s[u],u,s))break}return n}}function nc(t){return function(n){n=rN(n);var r=eA.test(n)?q(n):F,o=r?r[0]:n.charAt(0);return n=r?t5(r,1).join(""):n.slice(1),o[t]()+n}}function nl(t){return function(n){return h(rq(rD(n).replace(eR,"")),t,"")}}function nf(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=oY(t.prototype);return rb(n=t.apply(r,n))?n:r}}function np(t){return function(n,r,o){var i=r0(n);if(!rp(n)){var s=nP(r,3);n=rL(n),r=function(t){return s(i[t],t,i)}}return -1<(r=t(n,r,o))?i[s?n[r]:r]:F}}function nh(t){return nI(function(n){var r=n.length,o=r,i=eT.prototype.thru;for(t&&n.reverse();o--;){var s=n[o];if("function"!=typeof s)throw new r3("Expected a function");if(i&&!a&&"wrapper"==nC(s))var a=new eT([],!0)}for(o=a?o:r;++o<r;){var u="wrapper"==(i=nC(s=n[o]))?o4(s):F;a=u&&nz(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[nC(u[0])].apply(a,u[3]):1==s.length&&nz(s)?a[i]():a.thru(s)}return function(){var t=arguments,o=t[0];if(a&&1==t.length&&iV(o))return a.plant(o).value();var i=0;for(t=r?n[i].apply(this,t):o;++i<r;)t=n[i].call(this,t);return t}})}function nd(t,n,r,o,i,s,a,u,c,l){var f=128&n,p=1&n,h=2&n,d=24&n,g=512&n,v=h?F:nf(t);return function y(){for(var b=arguments.length,m=rY(b),E=b;E--;)m[E]=arguments[E];if(d){var _,w=nL(y);for(E=m.length,_=0;E--;)m[E]===w&&++_}if(o&&(m=nt(m,o,i,d)),s&&(m=nn(m,s,a,d)),b-=_,d&&b<l)return w=U(m,w),n_(t,n,nd,y.placeholder,r,m,w,u,c,l-b);if(w=p?r:this,E=h?w[t]:t,b=m.length,u){_=m.length;for(var O=oA(u.length,_),R=nr(m);O--;){var k=u[O];m[O]=nF(k,_)?R[k]:F}}else g&&1<b&&m.reverse();return f&&c<b&&(m.length=c),this&&this!==eq&&this instanceof y&&(E=v||nf(E)),E.apply(w,m)}}function ng(t,n){return function(r,o){return function(t,n,r,o){return tl(t,function(t,i,s){n(o,r(t),i,s)}),o}(r,t,n(o),{})}}function nv(t,n){return function(r,o){var i;if(r===F&&o===F)return n;if(r!==F&&(i=r),o!==F){if(i===F)return o;"string"==typeof r||"string"==typeof o?(r=t$(r),o=t$(o)):(r=tY(r),o=tY(o)),i=t(r,o)}return i}}function ny(t){return nI(function(n){return n=f(n,A(nP())),tq(function(o){var i=this;return t(n,function(t){return r(t,i,o)})})})}function nb(t,n){var r=(n=n===F?" ":t$(n)).length;return 2>r?r?tD(n,t):n:(r=tD(n,oE(t/D(n))),eA.test(n)?t5(q(r),0,t).join(""):r.slice(0,t))}function nm(t){return function(n,r,o){o&&"number"!=typeof o&&nG(n,r,o)&&(r=o=F),n=rk(n),r===F?(r=n,n=0):r=rk(r),o=o===F?n<r?1:-1:rk(o);var i=-1;r=oS(oE((r-n)/(o||1)),0);for(var s=rY(r);r--;)s[t?r:++i]=n,n+=o;return s}}function nE(t){return function(n,r){return"string"==typeof n&&"string"==typeof r||(n=rA(n),r=rA(r)),t(n,r)}}function n_(t,n,r,o,i,s,a,u,c,l){var f=8&n;return 4&(n=(n|(f?32:64))&~(f?64:32))||(n&=-4),i=[t,n,i,f?s:F,f?a:F,s=f?F:s,a=f?F:a,u,c,l],r=r.apply(F,i),nz(t)&&o9(r,i),r.placeholder=o,nY(r,t,n)}function nw(t){var n=rQ[t];return function(t,r){return t=rA(t),(r=null==r?0:oA(rT(r),292))&&oR(t)?(t=(rN(t)+"e").split("e"),+((t=(rN(t=n(t[0]+"e"+(+t[1]+r)))+"e").split("e"))[0]+"e"+(+t[1]-r))):n(t)}}function nO(t){return function(n){var r=o8(n);return"[object Map]"==r?P(n):"[object Set]"==r?function(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=[t,t]}),r}(n):function(t,n){return f(n,function(n){return[n,t[n]]})}(n,t(n))}}function nR(t,n,o,i,s,a,u,c){var l=2&n;if(!l&&"function"!=typeof t)throw new r3("Expected a function");var f=i?i.length:0;if(f||(n&=-97,i=s=F),u=u===F?u:oS(rT(u),0),c=c===F?c:rT(c),f-=s?s.length:0,64&n){var p=i,h=s;i=s=F}var d=l?F:o4(t);return a=[t,n,o,i,s,p,h,a,u,c],d&&(n=(o=a[1])|(t=d[1]),i=128==t&&8==o||128==t&&256==o&&a[7].length<=d[8]||384==t&&d[7].length<=d[8]&&8==o,131>n||i)&&(1&t&&(a[2]=d[2],n|=1&o?0:4),(o=d[3])&&(i=a[3],a[3]=i?nt(i,o,d[4]):o,a[4]=i?U(a[3],"__lodash_placeholder__"):d[4]),(o=d[5])&&(i=a[5],a[5]=i?nn(i,o,d[6]):o,a[6]=i?U(a[5],"__lodash_placeholder__"):d[6]),(o=d[7])&&(a[7]=o),128&t&&(a[8]=null==a[8]?d[8]:oA(a[8],d[8])),null==a[9]&&(a[9]=d[9]),a[0]=d[0],a[1]=n),t=a[0],n=a[1],o=a[2],i=a[3],s=a[4],(c=a[9]=a[9]===F?l?0:t.length:oS(a[9]-f,0))||!(24&n)||(n&=-25),l=n&&1!=n?8==n||16==n?function(t,n,o){var i=nf(t);return function s(){for(var a=arguments.length,u=rY(a),c=a,l=nL(s);c--;)u[c]=arguments[c];return(a-=(c=3>a&&u[0]!==l&&u[a-1]!==l?[]:U(u,l)).length)<o?n_(t,n,nd,s.placeholder,F,u,c,F,F,o-a):r(this&&this!==eq&&this instanceof s?i:t,this,u)}}(t,n,c):32!=n&&33!=n||s.length?nd.apply(F,a):function(t,n,o,i){var s=1&n,a=nf(t);return function n(){for(var u=-1,c=arguments.length,l=-1,f=i.length,p=rY(f+c),h=this&&this!==eq&&this instanceof n?a:t;++l<f;)p[l]=i[l];for(;c--;)p[l++]=arguments[++u];return r(h,s?o:this,p)}}(t,n,o,i):function(t,n,r){var o=1&n,i=nf(t);return function n(){return(this&&this!==eq&&this instanceof n?i:t).apply(o?r:this,arguments)}}(t,n,o),nY((d?o0:o9)(l,a),t,n)}function nk(t,n,r,o){return t===F||rf(t,r6[r])&&!r7.call(o,r)?n:t}function nT(t,n,r,o,i,s){return rb(t)&&rb(n)&&(s.set(n,t),tx(t,n,F,nT,s),s.delete(n)),t}function nS(t){return r_(t)?F:t}function nA(t,n,r,o,i,s){var a=1&r,u=t.length,c=n.length;if(u!=c&&!(a&&c>u))return!1;c=s.get(t);var l=s.get(n);if(c&&l)return c==n&&l==t;c=-1,l=!0;var f=2&r?new eF:F;for(s.set(t,n),s.set(n,t);++c<u;){var p=t[c],h=n[c];if(o)var d=a?o(h,p,c,n,t,s):o(p,h,c,t,n,s);if(d!==F){if(d)continue;l=!1;break}if(f){if(!g(n,function(t,n){if(!f.has(n)&&(p===t||i(p,t,r,o,s)))return f.push(n)})){l=!1;break}}else if(p!==h&&!i(p,h,r,o,s)){l=!1;break}}return s.delete(t),s.delete(n),l}function nI(t){return it(nJ(t,F,n4),t+"")}function nN(t){return td(t,rL,o6)}function nx(t){return td(t,rP,o5)}function nC(t){for(var n=t.name+"",r=oB[n],o=r7.call(oB,n)?r.length:0;o--;){var i=r[o],s=i.func;if(null==s||s==t)return i.name}return n}function nL(t){return(r7.call(O,"placeholder")?O:t).placeholder}function nP(){var t=O.iteratee||rG;return t=t===rG?tk:t,arguments.length?t(arguments[0],arguments[1]):t}function nj(t,n){t=t.__data__;var r=Ia(n);return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?t["string"==typeof n?"string":"hash"]:t.map}function nU(t){for(var n=rL(t),r=n.length;r--;){var o=n[r],i=t[o];n[r]=[o,i,i==i&&!rb(i)]}return n}function nM(t,n){return tR(t=null==t?F:t[n])?t:F}function nD(t,n,r){for(var o=-1,i=(n=t6(n,t)).length,s=!1;++o<i;){var a=nZ(n[o]);if(!(s=null!=t&&r(t,a)))break;t=t[a]}return s||++o!=i?s:!!(i=null==t?0:t.length)&&ry(i)&&nF(a,i)&&(iV(t)||iG(t))}function nq(t){return"function"!=typeof t.constructor||nK(t)?{}:oY(oc(t))}function nB(t){return iV(t)||iG(t)||!!(oh&&t&&t[oh])}function nF(t,n){var r=Ia(t);return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&eE.test(t))&&-1<t&&0==t%1&&t<n}function nG(t,n,r){if(!rb(r))return!1;var o=Ia(n);return!!("number"==o?rp(r)&&nF(n,r.length):"string"==o&&n in r)&&rf(r[n],t)}function nV(t,n){if(iV(t))return!1;var r=Ia(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!rO(t))||en.test(t)||!et.test(t)||null!=n&&t in r0(n)}function nz(t){var n=nC(t),r=O[n];return"function"==typeof r&&n in eP.prototype&&(t===r||!!(n=o4(r))&&t===n[0])}function nK(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||r6)}function nH(t,n){return function(r){return null!=r&&r[t]===n&&(n!==F||t in r0(r))}}function nJ(t,n,o){return n=oS(n===F?t.length-1:n,0),function(){for(var i=arguments,s=-1,a=oS(i.length-n,0),u=rY(a);++s<a;)u[s]=i[n+s];for(s=-1,a=rY(n+1);++s<n;)a[s]=i[s];return a[n]=o(u),r(t,this,a)}}function nW(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}function nY(t,n,r){var o=n+"";n=it;var i=n0,s=(s=o.match(ec))?s[1].split(el):[];return(i=(r=i(s,r)).length)&&(r[s=i-1]=(1<i?"& ":"")+r[s],r=r.join(2<i?", ":" "),o=o.replace(eu,"{\n/* [wrapped with "+r+"] */\n")),n(t,o)}function n$(t){var n=0,r=0;return function(){var o=oI(),i=16-(o-r);if(r=o,0<i){if(800<=++n)return arguments[0]}else n=0;return t.apply(F,arguments)}}function nX(t,n){var r=-1,o=t.length,i=o-1;for(n=n===F?o:n;++r<n;){var s=t[o=tM(r,i)];t[o]=t[r],t[r]=s}return t.length=n,t}function nZ(t){if("string"==typeof t||rO(t))return t;var n=t+"";return"0"==n&&1/t==-G?"-0":n}function nQ(t){if(null!=t){try{return r8.call(t)}catch(n){}return t+""}return""}function n0(t,n){return i(z,function(r){var o="_."+r[0];n&r[1]&&!c(t,o)&&t.push(o)}),t.sort()}function n1(t){if(t instanceof eP)return t.clone();var n=new eT(t.__wrapped__,t.__chain__);return n.__actions__=nr(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function n2(t,n,r){var o=null==t?0:t.length;return o?(0>(r=null==r?0:rT(r))&&(r=oS(o+r,0)),y(t,nP(n,3),r)):-1}function n3(t,n,r){var o=null==t?0:t.length;if(!o)return -1;var i=o-1;return r!==F&&(i=rT(r),i=0>r?oS(o+i,0):oA(i,o-1)),y(t,nP(n,3),i,!0)}function n4(t){return null!=t&&t.length?tc(t,1):[]}function n6(t){return t&&t.length?t[0]:F}function n5(t){var n=null==t?0:t.length;return n?t[n-1]:F}function n8(t,n){return t&&t.length&&n&&n.length?tj(t,n):t}function n7(t){return null==t?t:oC.call(t)}function n9(t){if(!t||!t.length)return[];var n=0;return t=u(t,function(t){if(rh(t))return n=oS(t.length,n),!0}),T(n,function(n){return f(t,w(n))})}function re(t,n){return t&&t.length?(t=n9(t),null==n?t:f(t,function(t){return r(n,F,t)})):[]}function rt(t){return(t=O(t)).__chain__=!0,t}function rn(t,n){return n(t)}function rr(t,n){return(iV(t)?i:o$)(t,nP(n,3))}function ro(t,n){return(iV(t)?s:oX)(t,nP(n,3))}function ri(t,n){return(iV(t)?f:tA)(t,nP(n,3))}function rs(t,n,r){return n=r?F:n,n=t&&null==n?t.length:n,nR(t,128,F,F,F,F,n)}function ra(t,n){var r;if("function"!=typeof n)throw new r3("Expected a function");return t=rT(t),function(){return 0<--t&&(r=n.apply(this,arguments)),1>=t&&(n=F),r}}function ru(t,n,r){function o(n){var r=c,o=l;return c=l=F,d=n,f=t.apply(o,r)}function i(t){var r=t-h;return t-=d,h===F||r>=n||0>r||v&&t>=b}function s(){var t=ix();if(i(t))return a(t);var r=ie,o=t-d;t=n-(t-h),p=r(s,o=v?oA(t,b-o):t)}function a(t){return p=F,y&&c?o(t):(c=l=F,f)}function u(){var t=ix(),r=i(t);if(c=arguments,l=this,h=t,r){if(p===F)return d=t=h,p=ie(s,n),g?o(t):f;if(v)return o2(p),p=ie(s,n),o(h)}return p===F&&(p=ie(s,n)),f}var c,l,f,p,h,d=0,g=!1,v=!1,y=!0;if("function"!=typeof t)throw new r3("Expected a function");if(n=rA(n)||0,rb(r)){g=!!r.leading;var b=(v="maxWait"in r)?oS(rA(r.maxWait)||0,n):b;y="trailing"in r?!!r.trailing:y}return u.cancel=function(){p!==F&&o2(p),d=0,c=h=l=p=F},u.flush=function(){return p===F?f:a(ix())},u}function rc(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new r3("Expected a function");var r=function r(){var o=arguments,i=n?n.apply(this,o):o[0],s=r.cache;return s.has(i)?s.get(i):(o=t.apply(this,o),r.cache=s.set(i,o)||s,o)};return r.cache=new(rc.Cache||eB),r}function rl(t){if("function"!=typeof t)throw new r3("Expected a function");return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function rf(t,n){return t===n||t!=t&&n!=n}function rp(t){return null!=t&&ry(t.length)&&!rg(t)}function rh(t){return rm(t)&&rp(t)}function rd(t){if(!rm(t))return!1;var n=tg(t);return"[object Error]"==n||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!r_(t)}function rg(t){return!!rb(t)&&("[object Function]"==(t=tg(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function rv(t){return"number"==typeof t&&t==rT(t)}function ry(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t}function rb(t){var n=Ia(t);return null!=t&&("object"==n||"function"==n)}function rm(t){return null!=t&&"object"==Ia(t)}function rE(t){return"number"==typeof t||rm(t)&&"[object Number]"==tg(t)}function r_(t){return!(!rm(t)||"[object Object]"!=tg(t))&&(null===(t=oc(t))||"function"==typeof(t=r7.call(t,"constructor")&&t.constructor)&&t instanceof t&&r8.call(t)==on)}function rw(t){return"string"==typeof t||!iV(t)&&rm(t)&&"[object String]"==tg(t)}function rO(t){return"symbol"==Ia(t)||rm(t)&&"[object Symbol]"==tg(t)}function rR(t){if(!t)return[];if(rp(t))return rw(t)?q(t):nr(t);if(od&&t[od]){t=t[od]();for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}return("[object Map]"==(n=o8(t))?P:"[object Set]"==n?M:rU)(t)}function rk(t){return t?(t=rA(t))===G||t===-G?17976931348623157e292*(0>t?-1:1):t==t?t:0:0===t?t:0}function rT(t){var n=(t=rk(t))%1;return t==t?n?t-n:t:0}function rS(t){return t?tt(rT(t),0,4294967295):0}function rA(t){if("number"==typeof t)return t;if(rO(t))return V;if(rb(t)&&(t=rb(t="function"==typeof t.valueOf?t.valueOf():t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=S(t);var n=ey.test(t);return n||em.test(t)?eU(t.slice(2),n?2:8):ev.test(t)?V:+t}function rI(t){return no(t,rP(t))}function rN(t){return null==t?"":t$(t)}function rx(t,n,r){return(t=null==t?F:th(t,n))===F?r:t}function rC(t,n){return null!=t&&nD(t,n,tb)}function rL(t){return rp(t)?ez(t):tT(t)}function rP(t){if(rp(t))t=ez(t,!0);else if(rb(t)){var n=nK(t),r=[];for(o in t)("constructor"!=o||!n&&r7.call(t,o))&&r.push(o);t=r}else{var o=[];if(null!=t)for(n in r0(t))o.push(n);t=o}return t}function rj(t,n){if(null==t)return{};var r=f(nx(t),function(t){return[t]});return n=nP(n),tP(t,r,function(t,r){return n(t,r[0])})}function rU(t){return null==t?[]:I(t,rL(t))}function rM(t){return sp(rN(t).toLowerCase())}function rD(t){return(t=rN(t))&&t.replace(e_,eZ).replace(ek,"")}function rq(t,n,r){return t=rN(t),(n=r?F:n)===F?eI.test(t)?t.match(eS)||[]:t.match(ef)||[]:t.match(n)||[]}function rB(t){return function(){return t}}function rF(t){return t}function rG(t){return tk("function"==typeof t?t:tn(t,1))}function rV(t,n,r){var o=rL(n),s=tp(n,o);null!=r||rb(n)&&(s.length||!o.length)||(r=n,n=t,t=this,s=tp(n,rL(n)));var a=!(rb(r)&&"chain"in r&&!r.chain),u=rg(t);return i(s,function(r){var o=n[r];t[r]=o,u&&(t.prototype[r]=function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__);return(r.__actions__=nr(this.__actions__)).push({func:o,args:arguments,thisArg:t}),r.__chain__=n,r}return o.apply(t,p([this.value()],arguments))})}),t}function rz(){}function rK(t){return nV(t)?w(nZ(t)):function(t){return function(n){return th(n,t)}}(t)}function rH(){return[]}function rJ(){return!1}var rW,rY=(n=null==n?eq:e1.defaults(eq.Object(),n,e1.pick(eq,eN))).Array,r$=n.Date,rX=n.Error,rZ=n.Function,rQ=n.Math,r0=n.Object,r1=n.RegExp,r2=n.String,r3=n.TypeError,r4=rY.prototype,r6=r0.prototype,r5=n["__core-js_shared__"],r8=rZ.prototype.toString,r7=r6.hasOwnProperty,r9=0,oe=(rW=/[^.]+$/.exec(r5&&r5.keys&&r5.keys.IE_PROTO||""))?"Symbol(src)_1."+rW:"",ot=r6.toString,on=r8.call(r0),or=eq._,oo=r1("^"+r8.call(r7).replace(eo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oi=eG?n.Buffer:F,os=n.Symbol,oa=n.Uint8Array,ou=oi?oi.allocUnsafe:F,oc=j(r0.getPrototypeOf,r0),ol=r0.create,of=r6.propertyIsEnumerable,op=r4.splice,oh=os?os.isConcatSpreadable:F,od=os?os.iterator:F,og=os?os.toStringTag:F,ov=function(){try{var t=nM(r0,"defineProperty");return t({},"",{}),t}catch(n){}}(),oy=n.clearTimeout!==eq.clearTimeout&&n.clearTimeout,ob=r$&&r$.now!==eq.Date.now&&r$.now,om=n.setTimeout!==eq.setTimeout&&n.setTimeout,oE=rQ.ceil,o_=rQ.floor,ow=r0.getOwnPropertySymbols,oO=oi?oi.isBuffer:F,oR=n.isFinite,ok=r4.join,oT=j(r0.keys,r0),oS=rQ.max,oA=rQ.min,oI=r$.now,oN=n.parseInt,ox=rQ.random,oC=r4.reverse,oL=nM(n,"DataView"),oP=nM(n,"Map"),oj=nM(n,"Promise"),oU=nM(n,"Set"),oM=nM(n,"WeakMap"),oD=nM(r0,"create"),oq=oM&&new oM,oB={},oF=nQ(oL),oG=nQ(oP),oV=nQ(oj),oz=nQ(oU),oK=nQ(oM),oH=os?os.prototype:F,oJ=oH?oH.valueOf:F,oW=oH?oH.toString:F,oY=function(){function t(){}return function(n){return rb(n)?ol?ol(n):(t.prototype=n,n=new t,t.prototype=F,n):{}}}();O.templateSettings={escape:Z,evaluate:Q,interpolate:ee,variable:"",imports:{_:O}},O.prototype=ea.prototype,O.prototype.constructor=O,eT.prototype=oY(ea.prototype),eT.prototype.constructor=eT,eP.prototype=oY(ea.prototype),eP.prototype.constructor=eP,eM.prototype.clear=function(){this.__data__=oD?oD(null):{},this.size=0},eM.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},eM.prototype.get=function(t){var n=this.__data__;return oD?"__lodash_hash_undefined__"===(t=n[t])?F:t:r7.call(n,t)?n[t]:F},eM.prototype.has=function(t){var n=this.__data__;return oD?n[t]!==F:r7.call(n,t)},eM.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=oD&&n===F?"__lodash_hash_undefined__":n,this},eD.prototype.clear=function(){this.__data__=[],this.size=0},eD.prototype.delete=function(t){var n=this.__data__;return!(0>(t=e5(n,t)))&&(t==n.length-1?n.pop():op.call(n,t,1),--this.size,!0)},eD.prototype.get=function(t){var n=this.__data__;return 0>(t=e5(n,t))?F:n[t][1]},eD.prototype.has=function(t){return -1<e5(this.__data__,t)},eD.prototype.set=function(t,n){var r=this.__data__,o=e5(r,t);return 0>o?(++this.size,r.push([t,n])):r[o][1]=n,this},eB.prototype.clear=function(){this.size=0,this.__data__={hash:new eM,map:new(oP||eD),string:new eM}},eB.prototype.delete=function(t){return t=nj(this,t).delete(t),this.size-=t?1:0,t},eB.prototype.get=function(t){return nj(this,t).get(t)},eB.prototype.has=function(t){return nj(this,t).has(t)},eB.prototype.set=function(t,n){var r=nj(this,t),o=r.size;return r.set(t,n),this.size+=r.size==o?0:1,this},eF.prototype.add=eF.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},eF.prototype.has=function(t){return this.__data__.has(t)},eV.prototype.clear=function(){this.__data__=new eD,this.size=0},eV.prototype.delete=function(t){var n=this.__data__;return t=n.delete(t),this.size=n.size,t},eV.prototype.get=function(t){return this.__data__.get(t)},eV.prototype.has=function(t){return this.__data__.has(t)},eV.prototype.set=function(t,n){var r=this.__data__;if(r instanceof eD){var o=r.__data__;if(!oP||199>o.length)return o.push([t,n]),this.size=++r.size,this;r=this.__data__=new eB(o)}return r.set(t,n),this.size=r.size,this};var o$=na(tl),oX=na(tf,!0),oZ=nu(),oQ=nu(!0),o0=oq?function(t,n){return oq.set(t,n),t}:rF,o1=ov?function(t,n){return ov(t,"toString",{configurable:!0,enumerable:!1,value:rB(n),writable:!0})}:rF,o2=oy||function(t){return eq.clearTimeout(t)},o3=oU&&1/M(new oU([,-0]))[1]==G?function(t){return new oU(t)}:rz,o4=oq?function(t){return oq.get(t)}:rz,o6=ow?function(t){return null==t?[]:u(ow(t=r0(t)),function(n){return of.call(t,n)})}:rH,o5=ow?function(t){for(var n=[];t;)p(n,o6(t)),t=oc(t);return n}:rH,o8=tg;(oL&&"[object DataView]"!=o8(new oL(new ArrayBuffer(1)))||oP&&"[object Map]"!=o8(new oP)||oj&&"[object Promise]"!=o8(oj.resolve())||oU&&"[object Set]"!=o8(new oU)||oM&&"[object WeakMap]"!=o8(new oM))&&(o8=function(t){var n=tg(t);if(t=(t="[object Object]"==n?t.constructor:F)?nQ(t):"")switch(t){case oF:return"[object DataView]";case oG:return"[object Map]";case oV:return"[object Promise]";case oz:return"[object Set]";case oK:return"[object WeakMap]"}return n});var o7=r5?rg:rJ,o9=n$(o0),ie=om||function(t,n){return eq.setTimeout(t,n)},it=n$(o1),ir=function(t){var n=(t=rc(t,function(t){return 500===n.size&&n.clear(),t})).cache;return t}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(er,function(t,r,o,i){n.push(o?i.replace(eh,"$1"):r||t)}),n}),io=tq(function(t,n){return rh(t)?ti(t,tc(n,1,rh,!0)):[]}),ii=tq(function(t,n){var r=n5(n);return rh(r)&&(r=F),rh(t)?ti(t,tc(n,1,rh,!0),nP(r,2)):[]}),is=tq(function(t,n){var r=n5(n);return rh(r)&&(r=F),rh(t)?ti(t,tc(n,1,rh,!0),F,r):[]}),ia=tq(function(t){var n=f(t,t3);return n.length&&n[0]===t[0]?tm(n):[]}),iu=tq(function(t){var n=n5(t),r=f(t,t3);return n===n5(r)?n=F:r.pop(),r.length&&r[0]===t[0]?tm(r,nP(n,2)):[]}),ic=tq(function(t){var n=n5(t),r=f(t,t3);return(n="function"==typeof n?n:F)&&r.pop(),r.length&&r[0]===t[0]?tm(r,F,n):[]}),il=tq(n8),ip=nI(function(t,n){var r=null==t?0:t.length,o=te(t,n);return tU(t,f(n,function(t){return nF(t,r)?+t:t}).sort(ne)),o}),ih=tq(function(t){return tX(tc(t,1,rh,!0))}),id=tq(function(t){var n=n5(t);return rh(n)&&(n=F),tX(tc(t,1,rh,!0),nP(n,2))}),ig=tq(function(t){var n=n5(t);return n="function"==typeof n?n:F,tX(tc(t,1,rh,!0),F,n)}),iv=tq(function(t,n){return rh(t)?ti(t,n):[]}),iy=tq(function(t){return t1(u(t,rh))}),ib=tq(function(t){var n=n5(t);return rh(n)&&(n=F),t1(u(t,rh),nP(n,2))}),im=tq(function(t){var n=n5(t);return n="function"==typeof n?n:F,t1(u(t,rh),F,n)}),iE=tq(n9),i_=tq(function(t){var n=t.length;return n="function"==typeof(n=1<n?t[n-1]:F)?(t.pop(),n):F,re(t,n)}),iw=nI(function(t){var n=t.length,r=n?t[0]:0,o=this.__wrapped__,i=function(n){return te(n,t)};return!(1<n||this.__actions__.length)&&o instanceof eP&&nF(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:rn,args:[i],thisArg:F}),new eT(o,this.__chain__).thru(function(t){return n&&!t.length&&t.push(F),t})):this.thru(i)}),iO=ni(function(t,n,r){r7.call(t,r)?++t[r]:e9(t,r,1)}),iR=np(n2),ik=np(n3),iT=ni(function(t,n,r){r7.call(t,r)?t[r].push(n):e9(t,r,[n])}),iS=tq(function(t,n,o){var i=-1,s="function"==typeof n,a=rp(t)?rY(t.length):[];return o$(t,function(t){a[++i]=s?r(n,t,o):tE(t,n,o)}),a}),iA=ni(function(t,n,r){e9(t,r,n)}),iI=ni(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),iN=tq(function(t,n){if(null==t)return[];var r=n.length;return 1<r&&nG(t,n[0],n[1])?n=[]:2<r&&nG(n[0],n[1],n[2])&&(n=[n[0]]),tL(t,tc(n,1),[])}),ix=ob||function(){return eq.Date.now()},iC=tq(function(t,n,r){var o=1;if(r.length){var i=U(r,nL(iC));o|=32}return nR(t,o,n,r,i)}),iL=tq(function(t,n,r){var o=3;if(r.length){var i=U(r,nL(iL));o|=32}return nR(n,o,t,r,i)}),iP=tq(function(t,n){return to(t,1,n)}),ij=tq(function(t,n,r){return to(t,rA(n)||0,r)});rc.Cache=eB;var iU=tq(function(t,n){var o=(n=1==n.length&&iV(n[0])?f(n[0],A(nP())):f(tc(n,1),A(nP()))).length;return tq(function(i){for(var s=-1,a=oA(i.length,o);++s<a;)i[s]=n[s].call(this,i[s]);return r(t,this,i)})}),iM=tq(function(t,n){var r=U(n,nL(iM));return nR(t,32,F,n,r)}),iD=tq(function(t,n){var r=U(n,nL(iD));return nR(t,64,F,n,r)}),iq=nI(function(t,n){return nR(t,256,F,F,F,n)}),iB=nE(tv),iF=nE(function(t,n){return t>=n}),iG=t_(function(){return arguments}())?t_:function(t){return rm(t)&&r7.call(t,"callee")&&!of.call(t,"callee")},iV=rY.isArray,iz=eK?A(eK):function(t){return rm(t)&&"[object ArrayBuffer]"==tg(t)},iK=oO||rJ,iH=eH?A(eH):function(t){return rm(t)&&"[object Date]"==tg(t)},iJ=eJ?A(eJ):function(t){return rm(t)&&"[object Map]"==o8(t)},iW=eW?A(eW):function(t){return rm(t)&&"[object RegExp]"==tg(t)},iY=eY?A(eY):function(t){return rm(t)&&"[object Set]"==o8(t)},i$=e$?A(e$):function(t){return rm(t)&&ry(t.length)&&!!eC[tg(t)]},iX=nE(tS),iZ=nE(function(t,n){return t<=n}),iQ=ns(function(t,n){if(nK(n)||rp(n))no(n,rL(n),t);else for(var r in n)r7.call(n,r)&&e6(t,r,n[r])}),i0=ns(function(t,n){no(n,rP(n),t)}),i1=ns(function(t,n,r,o){no(n,rP(n),t,o)}),i2=ns(function(t,n,r,o){no(n,rL(n),t,o)}),i3=nI(te),i4=tq(function(t,n){t=r0(t);var r=-1,o=n.length,i=2<o?n[2]:F;for(i&&nG(n[0],n[1],i)&&(o=1);++r<o;)for(var s=rP(i=n[r]),a=-1,u=s.length;++a<u;){var c=s[a],l=t[c];(l===F||rf(l,r6[c])&&!r7.call(t,c))&&(t[c]=i[c])}return t}),i6=tq(function(t){return t.push(F,nT),r(se,F,t)}),i5=ng(function(t,n,r){null!=n&&"function"!=typeof n.toString&&(n=ot.call(n)),t[n]=r},rB(rF)),i8=ng(function(t,n,r){null!=n&&"function"!=typeof n.toString&&(n=ot.call(n)),r7.call(t,n)?t[n].push(r):t[n]=[r]},nP),i7=tq(tE),i9=ns(function(t,n,r){tx(t,n,r)}),se=ns(function(t,n,r,o){tx(t,n,r,o)}),st=nI(function(t,n){var r={};if(null==t)return r;var o=!1;n=f(n,function(n){return n=t6(n,t),o||(o=1<n.length),n}),no(t,nx(t),r),o&&(r=tn(r,7,nS));for(var i=n.length;i--;)tZ(r,n[i]);return r}),sn=nI(function(t,n){return null==t?{}:function(t,n){return tP(t,n,function(n,r){return rC(t,r)})}(t,n)}),sr=nO(rL),so=nO(rP),si=nl(function(t,n,r){return n=n.toLowerCase(),t+(r?rM(n):n)}),ss=nl(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),sa=nl(function(t,n,r){return t+(r?" ":"")+n.toLowerCase()}),su=nc("toLowerCase"),sc=nl(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),sl=nl(function(t,n,r){return t+(r?" ":"")+sp(n)}),sf=nl(function(t,n,r){return t+(r?" ":"")+n.toUpperCase()}),sp=nc("toUpperCase"),sh=tq(function(t,n){try{return r(t,F,n)}catch(o){return rd(o)?o:new rX(o)}}),sd=nI(function(t,n){return i(n,function(n){e9(t,n=nZ(n),iC(t[n],t))}),t}),sg=nh(),sv=nh(!0),sy=tq(function(t,n){return function(r){return tE(r,t,n)}}),sb=tq(function(t,n){return function(r){return tE(t,r,n)}}),sm=ny(f),sE=ny(a),s_=ny(g),sw=nm(),sO=nm(!0),sR=nv(function(t,n){return t+n},0),sk=nw("ceil"),sT=nv(function(t,n){return t/n},1),sS=nw("floor"),sA=nv(function(t,n){return t*n},1),sI=nw("round"),sN=nv(function(t,n){return t-n},0);return O.after=function(t,n){if("function"!=typeof n)throw new r3("Expected a function");return t=rT(t),function(){if(1>--t)return n.apply(this,arguments)}},O.ary=rs,O.assign=iQ,O.assignIn=i0,O.assignInWith=i1,O.assignWith=i2,O.at=i3,O.before=ra,O.bind=iC,O.bindAll=sd,O.bindKey=iL,O.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return iV(t)?t:[t]},O.chain=rt,O.chunk=function(t,n,r){if(n=(r?nG(t,n,r):n===F)?1:oS(rT(n),0),!(r=null==t?0:t.length)||1>n)return[];for(var o=0,i=0,s=rY(oE(r/n));o<r;)s[i++]=tz(t,o,o+=n);return s},O.compact=function(t){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];s&&(i[o++]=s)}return i},O.concat=function(){var t=arguments.length;if(!t)return[];for(var n=rY(t-1),r=arguments[0];t--;)n[t-1]=arguments[t];return p(iV(r)?nr(r):[r],tc(n,1))},O.cond=function(t){var n=null==t?0:t.length,o=nP();return t=n?f(t,function(t){if("function"!=typeof t[1])throw new r3("Expected a function");return[o(t[0]),t[1]]}):[],tq(function(o){for(var i=-1;++i<n;){var s=t[i];if(r(s[0],this,o))return r(s[1],this,o)}})},O.conforms=function(t){return function(t){var n=rL(t);return function(r){return tr(r,t,n)}}(tn(t,1))},O.constant=rB,O.countBy=iO,O.create=function(t,n){return t=oY(t),null==n?t:e7(t,n)},O.curry=function t(n,r,o){return(n=nR(n,8,F,F,F,F,F,r=o?F:r)).placeholder=t.placeholder,n},O.curryRight=function t(n,r,o){return(n=nR(n,16,F,F,F,F,F,r=o?F:r)).placeholder=t.placeholder,n},O.debounce=ru,O.defaults=i4,O.defaultsDeep=i6,O.defer=iP,O.delay=ij,O.difference=io,O.differenceBy=ii,O.differenceWith=is,O.drop=function(t,n,r){var o=null==t?0:t.length;return o?tz(t,0>(n=r||n===F?1:rT(n))?0:n,o):[]},O.dropRight=function(t,n,r){var o=null==t?0:t.length;return o?tz(t,0,0>(n=o-(n=r||n===F?1:rT(n)))?0:n):[]},O.dropRightWhile=function(t,n){return t&&t.length?tQ(t,nP(n,3),!0,!0):[]},O.dropWhile=function(t,n){return t&&t.length?tQ(t,nP(n,3),!0):[]},O.fill=function(t,n,r,o){var i=null==t?0:t.length;if(!i)return[];for(r&&"number"!=typeof r&&nG(t,n,r)&&(r=0,o=i),i=t.length,0>(r=rT(r))&&(r=-r>i?0:i+r),0>(o=o===F||o>i?i:rT(o))&&(o+=i),o=r>o?0:rS(o);r<o;)t[r++]=n;return t},O.filter=function(t,n){return(iV(t)?u:tu)(t,nP(n,3))},O.flatMap=function(t,n){return tc(ri(t,n),1)},O.flatMapDeep=function(t,n){return tc(ri(t,n),G)},O.flatMapDepth=function(t,n,r){return r=r===F?1:rT(r),tc(ri(t,n),r)},O.flatten=n4,O.flattenDeep=function(t){return null!=t&&t.length?tc(t,G):[]},O.flattenDepth=function(t,n){return null!=t&&t.length?tc(t,n=n===F?1:rT(n)):[]},O.flip=function(t){return nR(t,512)},O.flow=sg,O.flowRight=sv,O.fromPairs=function(t){for(var n=-1,r=null==t?0:t.length,o={};++n<r;){var i=t[n];o[i[0]]=i[1]}return o},O.functions=function(t){return null==t?[]:tp(t,rL(t))},O.functionsIn=function(t){return null==t?[]:tp(t,rP(t))},O.groupBy=iT,O.initial=function(t){return null!=t&&t.length?tz(t,0,-1):[]},O.intersection=ia,O.intersectionBy=iu,O.intersectionWith=ic,O.invert=i5,O.invertBy=i8,O.invokeMap=iS,O.iteratee=rG,O.keyBy=iA,O.keys=rL,O.keysIn=rP,O.map=ri,O.mapKeys=function(t,n){var r={};return n=nP(n,3),tl(t,function(t,o,i){e9(r,n(t,o,i),t)}),r},O.mapValues=function(t,n){var r={};return n=nP(n,3),tl(t,function(t,o,i){e9(r,o,n(t,o,i))}),r},O.matches=function(t){return tI(tn(t,1))},O.matchesProperty=function(t,n){return tN(t,tn(n,1))},O.memoize=rc,O.merge=i9,O.mergeWith=se,O.method=sy,O.methodOf=sb,O.mixin=rV,O.negate=rl,O.nthArg=function(t){return t=rT(t),tq(function(n){return tC(n,t)})},O.omit=st,O.omitBy=function(t,n){return rj(t,rl(nP(n)))},O.once=function(t){return ra(2,t)},O.orderBy=function(t,n,r,o){return null==t?[]:(iV(n)||(n=null==n?[]:[n]),iV(r=o?F:r)||(r=null==r?[]:[r]),tL(t,n,r))},O.over=sm,O.overArgs=iU,O.overEvery=sE,O.overSome=s_,O.partial=iM,O.partialRight=iD,O.partition=iI,O.pick=sn,O.pickBy=rj,O.property=rK,O.propertyOf=function(t){return function(n){return null==t?F:th(t,n)}},O.pull=il,O.pullAll=n8,O.pullAllBy=function(t,n,r){return t&&t.length&&n&&n.length?tj(t,n,nP(r,2)):t},O.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?tj(t,n,F,r):t},O.pullAt=ip,O.range=sw,O.rangeRight=sO,O.rearg=iq,O.reject=function(t,n){return(iV(t)?u:tu)(t,rl(nP(n,3)))},O.remove=function(t,n){var r=[];if(!t||!t.length)return r;var o=-1,i=[],s=t.length;for(n=nP(n,3);++o<s;){var a=t[o];n(a,o,t)&&(r.push(a),i.push(o))}return tU(t,i),r},O.rest=function(t,n){if("function"!=typeof t)throw new r3("Expected a function");return tq(t,n=n===F?n:rT(n))},O.reverse=n7,O.sampleSize=function(t,n,r){return n=(r?nG(t,n,r):n===F)?1:rT(n),(iV(t)?e2:tF)(t,n)},O.set=function(t,n,r){return null==t?t:tG(t,n,r)},O.setWith=function(t,n,r,o){return o="function"==typeof o?o:F,null==t?t:tG(t,n,r,o)},O.shuffle=function(t){return(iV(t)?e3:tV)(t)},O.slice=function(t,n,r){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&nG(t,n,r)?(n=0,r=o):(n=null==n?0:rT(n),r=r===F?o:rT(r)),tz(t,n,r)):[]},O.sortBy=iN,O.sortedUniq=function(t){return t&&t.length?tW(t):[]},O.sortedUniqBy=function(t,n){return t&&t.length?tW(t,nP(n,2)):[]},O.split=function(t,n,r){return r&&"number"!=typeof r&&nG(t,n,r)&&(n=r=F),(r=r===F?4294967295:r>>>0)?(t=rN(t))&&("string"==typeof n||null!=n&&!iW(n))&&!(n=t$(n))&&eA.test(t)?t5(q(t),0,r):t.split(n,r):[]},O.spread=function(t,n){if("function"!=typeof t)throw new r3("Expected a function");return n=null==n?0:oS(rT(n),0),tq(function(o){var i=o[n];return o=t5(o,0,n),i&&p(o,i),r(t,this,o)})},O.tail=function(t){var n=null==t?0:t.length;return n?tz(t,1,n):[]},O.take=function(t,n,r){return t&&t.length?tz(t,0,0>(n=r||n===F?1:rT(n))?0:n):[]},O.takeRight=function(t,n,r){var o=null==t?0:t.length;return o?tz(t,0>(n=o-(n=r||n===F?1:rT(n)))?0:n,o):[]},O.takeRightWhile=function(t,n){return t&&t.length?tQ(t,nP(n,3),!1,!0):[]},O.takeWhile=function(t,n){return t&&t.length?tQ(t,nP(n,3)):[]},O.tap=function(t,n){return n(t),t},O.throttle=function(t,n,r){var o=!0,i=!0;if("function"!=typeof t)throw new r3("Expected a function");return rb(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),ru(t,n,{leading:o,maxWait:n,trailing:i})},O.thru=rn,O.toArray=rR,O.toPairs=sr,O.toPairsIn=so,O.toPath=function(t){return iV(t)?f(t,nZ):rO(t)?[t]:nr(ir(rN(t)))},O.toPlainObject=rI,O.transform=function(t,n,r){var o=iV(t),s=o||iK(t)||i$(t);if(n=nP(n,4),null==r){var a=t&&t.constructor;r=s?o?new a:[]:rb(t)&&rg(a)?oY(oc(t)):{}}return(s?i:tl)(t,function(t,o,i){return n(r,t,o,i)}),r},O.unary=function(t){return rs(t,1)},O.union=ih,O.unionBy=id,O.unionWith=ig,O.uniq=function(t){return t&&t.length?tX(t):[]},O.uniqBy=function(t,n){return t&&t.length?tX(t,nP(n,2)):[]},O.uniqWith=function(t,n){return n="function"==typeof n?n:F,t&&t.length?tX(t,F,n):[]},O.unset=function(t,n){return null==t||tZ(t,n)},O.unzip=n9,O.unzipWith=re,O.update=function(t,n,r){return null!=t&&(t=tG(t,n,(r=t4(r))(th(t,n)),void 0)),t},O.updateWith=function(t,n,r,o){return o="function"==typeof o?o:F,null!=t&&(t=tG(t,n,(r=t4(r))(th(t,n)),o)),t},O.values=rU,O.valuesIn=function(t){return null==t?[]:I(t,rP(t))},O.without=iv,O.words=rq,O.wrap=function(t,n){return iM(t4(n),t)},O.xor=iy,O.xorBy=ib,O.xorWith=im,O.zip=iE,O.zipObject=function(t,n){return t2(t||[],n||[],e6)},O.zipObjectDeep=function(t,n){return t2(t||[],n||[],tG)},O.zipWith=i_,O.entries=sr,O.entriesIn=so,O.extend=i0,O.extendWith=i1,rV(O,O),O.add=sR,O.attempt=sh,O.camelCase=si,O.capitalize=rM,O.ceil=sk,O.clamp=function(t,n,r){return r===F&&(r=n,n=F),r!==F&&(r=(r=rA(r))==r?r:0),n!==F&&(n=(n=rA(n))==n?n:0),tt(rA(t),n,r)},O.clone=function(t){return tn(t,4)},O.cloneDeep=function(t){return tn(t,5)},O.cloneDeepWith=function(t,n){return tn(t,5,n="function"==typeof n?n:F)},O.cloneWith=function(t,n){return tn(t,4,n="function"==typeof n?n:F)},O.conformsTo=function(t,n){return null==n||tr(t,n,rL(n))},O.deburr=rD,O.defaultTo=function(t,n){return null==t||t!=t?n:t},O.divide=sT,O.endsWith=function(t,n,r){t=rN(t),n=t$(n);var o=t.length;return o=r=r===F?o:tt(rT(r),0,o),0<=(r-=n.length)&&t.slice(r,o)==n},O.eq=rf,O.escape=function(t){return(t=rN(t))&&X.test(t)?t.replace(Y,eQ):t},O.escapeRegExp=function(t){return(t=rN(t))&&ei.test(t)?t.replace(eo,"\\$&"):t},O.every=function(t,n,r){var o=iV(t)?a:ts;return r&&nG(t,n,r)&&(n=F),o(t,nP(n,3))},O.find=iR,O.findIndex=n2,O.findKey=function(t,n){return v(t,nP(n,3),tl)},O.findLast=ik,O.findLastIndex=n3,O.findLastKey=function(t,n){return v(t,nP(n,3),tf)},O.floor=sS,O.forEach=rr,O.forEachRight=ro,O.forIn=function(t,n){return null==t?t:oZ(t,nP(n,3),rP)},O.forInRight=function(t,n){return null==t?t:oQ(t,nP(n,3),rP)},O.forOwn=function(t,n){return t&&tl(t,nP(n,3))},O.forOwnRight=function(t,n){return t&&tf(t,nP(n,3))},O.get=rx,O.gt=iB,O.gte=iF,O.has=function(t,n){return null!=t&&nD(t,n,ty)},O.hasIn=rC,O.head=n6,O.identity=rF,O.includes=function(t,n,r,o){return t=rp(t)?t:rU(t),r=r&&!o?rT(r):0,o=t.length,0>r&&(r=oS(o+r,0)),rw(t)?r<=o&&-1<t.indexOf(n,r):!!o&&-1<b(t,n,r)},O.indexOf=function(t,n,r){var o=null==t?0:t.length;return o?(0>(r=null==r?0:rT(r))&&(r=oS(o+r,0)),b(t,n,r)):-1},O.inRange=function(t,n,r){return n=rk(n),r===F?(r=n,n=0):r=rk(r),(t=rA(t))>=oA(n,r)&&t<oS(n,r)},O.invoke=i7,O.isArguments=iG,O.isArray=iV,O.isArrayBuffer=iz,O.isArrayLike=rp,O.isArrayLikeObject=rh,O.isBoolean=function(t){return!0===t||!1===t||rm(t)&&"[object Boolean]"==tg(t)},O.isBuffer=iK,O.isDate=iH,O.isElement=function(t){return rm(t)&&1===t.nodeType&&!r_(t)},O.isEmpty=function(t){if(null==t)return!0;if(rp(t)&&(iV(t)||"string"==typeof t||"function"==typeof t.splice||iK(t)||i$(t)||iG(t)))return!t.length;var n=o8(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(nK(t))return!tT(t).length;for(var r in t)if(r7.call(t,r))return!1;return!0},O.isEqual=function(t,n){return tw(t,n)},O.isEqualWith=function(t,n,r){var o=(r="function"==typeof r?r:F)?r(t,n):F;return o===F?tw(t,n,F,r):!!o},O.isError=rd,O.isFinite=function(t){return"number"==typeof t&&oR(t)},O.isFunction=rg,O.isInteger=rv,O.isLength=ry,O.isMap=iJ,O.isMatch=function(t,n){return t===n||tO(t,n,nU(n))},O.isMatchWith=function(t,n,r){return r="function"==typeof r?r:F,tO(t,n,nU(n),r)},O.isNaN=function(t){return rE(t)&&t!=+t},O.isNative=function(t){if(o7(t))throw new rX("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return tR(t)},O.isNil=function(t){return null==t},O.isNull=function(t){return null===t},O.isNumber=rE,O.isObject=rb,O.isObjectLike=rm,O.isPlainObject=r_,O.isRegExp=iW,O.isSafeInteger=function(t){return rv(t)&&-9007199254740991<=t&&9007199254740991>=t},O.isSet=iY,O.isString=rw,O.isSymbol=rO,O.isTypedArray=i$,O.isUndefined=function(t){return t===F},O.isWeakMap=function(t){return rm(t)&&"[object WeakMap]"==o8(t)},O.isWeakSet=function(t){return rm(t)&&"[object WeakSet]"==tg(t)},O.join=function(t,n){return null==t?"":ok.call(t,n)},O.kebabCase=ss,O.last=n5,O.lastIndexOf=function(t,n,r){var o=null==t?0:t.length;if(!o)return -1;var i=o;if(r!==F&&(i=0>(i=rT(r))?oS(o+i,0):oA(i,o-1)),n==n)e:{for(r=i+1;r--;)if(t[r]===n){t=r;break e}t=r}else t=y(t,E,i,!0);return t},O.lowerCase=sa,O.lowerFirst=su,O.lt=iX,O.lte=iZ,O.max=function(t){return t&&t.length?ta(t,rF,tv):F},O.maxBy=function(t,n){return t&&t.length?ta(t,nP(n,2),tv):F},O.mean=function(t){return _(t,rF)},O.meanBy=function(t,n){return _(t,nP(n,2))},O.min=function(t){return t&&t.length?ta(t,rF,tS):F},O.minBy=function(t,n){return t&&t.length?ta(t,nP(n,2),tS):F},O.stubArray=rH,O.stubFalse=rJ,O.stubObject=function(){return{}},O.stubString=function(){return""},O.stubTrue=function(){return!0},O.multiply=sA,O.nth=function(t,n){return t&&t.length?tC(t,rT(n)):F},O.noConflict=function(){return eq._===this&&(eq._=or),this},O.noop=rz,O.now=ix,O.pad=function(t,n,r){t=rN(t);var o=(n=rT(n))?D(t):0;return!n||o>=n?t:nb(o_(n=(n-o)/2),r)+t+nb(oE(n),r)},O.padEnd=function(t,n,r){t=rN(t);var o=(n=rT(n))?D(t):0;return n&&o<n?t+nb(n-o,r):t},O.padStart=function(t,n,r){t=rN(t);var o=(n=rT(n))?D(t):0;return n&&o<n?nb(n-o,r)+t:t},O.parseInt=function(t,n,r){return r||null==n?n=0:n&&(n=+n),oN(rN(t).replace(es,""),n||0)},O.random=function(t,n,r){if(r&&"boolean"!=typeof r&&nG(t,n,r)&&(n=r=F),r===F&&("boolean"==typeof n?(r=n,n=F):"boolean"==typeof t&&(r=t,t=F)),t===F&&n===F?(t=0,n=1):(t=rk(t),n===F?(n=t,t=0):n=rk(n)),t>n){var o=t;t=n,n=o}return r||t%1||n%1?oA(t+(r=ox())*(n-t+ej("1e-"+((r+"").length-1))),n):tM(t,n)},O.reduce=function(t,n,r){var o=iV(t)?h:R,i=3>arguments.length;return o(t,nP(n,4),r,i,o$)},O.reduceRight=function(t,n,r){var o=iV(t)?d:R,i=3>arguments.length;return o(t,nP(n,4),r,i,oX)},O.repeat=function(t,n,r){return n=(r?nG(t,n,r):n===F)?1:rT(n),tD(rN(t),n)},O.replace=function(){var t=arguments,n=rN(t[0]);return 3>t.length?n:n.replace(t[1],t[2])},O.result=function(t,n,r){var o=-1,i=(n=t6(n,t)).length;for(i||(i=1,t=F);++o<i;){var s=null==t?F:t[nZ(n[o])];s===F&&(o=i,s=r),t=rg(s)?s.call(t):s}return t},O.round=sI,O.runInContext=t,O.sample=function(t){return(iV(t)?eX:tB)(t)},O.size=function(t){if(null==t)return 0;if(rp(t))return rw(t)?D(t):t.length;var n=o8(t);return"[object Map]"==n||"[object Set]"==n?t.size:tT(t).length},O.snakeCase=sc,O.some=function(t,n,r){var o=iV(t)?g:tK;return r&&nG(t,n,r)&&(n=F),o(t,nP(n,3))},O.sortedIndex=function(t,n){return tH(t,n)},O.sortedIndexBy=function(t,n,r){return tJ(t,n,nP(r,2))},O.sortedIndexOf=function(t,n){var r=null==t?0:t.length;if(r){var o=tH(t,n);if(o<r&&rf(t[o],n))return o}return -1},O.sortedLastIndex=function(t,n){return tH(t,n,!0)},O.sortedLastIndexBy=function(t,n,r){return tJ(t,n,nP(r,2),!0)},O.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var r=tH(t,n,!0)-1;if(rf(t[r],n))return r}return -1},O.startCase=sl,O.startsWith=function(t,n,r){return t=rN(t),r=null==r?0:tt(rT(r),0,t.length),n=t$(n),t.slice(r,r+n.length)==n},O.subtract=sN,O.sum=function(t){return t&&t.length?k(t,rF):0},O.sumBy=function(t,n){return t&&t.length?k(t,nP(n,2)):0},O.template=function(t,n,r){var o=O.templateSettings;r&&nG(t,n,r)&&(n=F),t=rN(t),n=i1({},n,o,nk);var i,s,a=rL(r=i1({},n.imports,o.imports,nk)),u=I(r,a),c=0;r=n.interpolate||ew;var l="__p += '";r=r1((n.escape||ew).source+"|"+r.source+"|"+(r===ee?ed:ew).source+"|"+(n.evaluate||ew).source+"|$","g");var f="//# sourceURL="+(r7.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ex+"]")+"\n";if(t.replace(r,function(n,r,o,a,u,f){return o||(o=a),l+=t.slice(c,f).replace(eO,L),r&&(i=!0,l+="' +\n__e("+r+") +\n'"),u&&(s=!0,l+="';\n"+u+";\n__p += '"),o&&(l+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),c=f+n.length,n}),l+="';\n",n=r7.call(n,"variable")&&n.variable){if(ep.test(n))throw new rX("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";if(l=(s?l.replace(K,""):l).replace(H,"$1").replace(J,"$1;"),l="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}",(n=sh(function(){return rZ(a,f+"return "+l).apply(F,u)})).source=l,rd(n))throw n;return n},O.times=function(t,n){if(1>(t=rT(t))||9007199254740991<t)return[];var r=4294967295,o=oA(t,4294967295);for(t-=4294967295,o=T(o,n=nP(n));++r<t;)n(r);return o},O.toFinite=rk,O.toInteger=rT,O.toLength=rS,O.toLower=function(t){return rN(t).toLowerCase()},O.toNumber=rA,O.toSafeInteger=function(t){return t?tt(rT(t),-9007199254740991,9007199254740991):0===t?t:0},O.toString=rN,O.toUpper=function(t){return rN(t).toUpperCase()},O.trim=function(t,n,r){return(t=rN(t))&&(r||n===F)?S(t):t&&(n=t$(n))?t5(t=q(t),n=x(t,r=q(n)),r=C(t,r)+1).join(""):t},O.trimEnd=function(t,n,r){return(t=rN(t))&&(r||n===F)?t.slice(0,B(t)+1):t&&(n=t$(n))?t5(t=q(t),0,n=C(t,q(n))+1).join(""):t},O.trimStart=function(t,n,r){return(t=rN(t))&&(r||n===F)?t.replace(es,""):t&&(n=t$(n))?t5(t=q(t),n=x(t,q(n))).join(""):t},O.truncate=function(t,n){var r=30,o="...";if(rb(n)){var i="separator"in n?n.separator:i;r="length"in n?rT(n.length):r,o="omission"in n?t$(n.omission):o}if(n=(t=rN(t)).length,eA.test(t)){var s=q(t);n=s.length}if(r>=n)return t;if(1>(n=r-D(o)))return o;if(r=s?t5(s,0,n).join(""):t.slice(0,n),i===F)return r+o;if(s&&(n+=r.length-n),iW(i)){if(t.slice(n).search(i)){for(s=r,i.global||(i=r1(i.source,rN(eg.exec(i))+"g")),i.lastIndex=0;t=i.exec(s);)var a=t.index;r=r.slice(0,a===F?n:a)}}else t.indexOf(t$(i),n)!=n&&-1<(i=r.lastIndexOf(i))&&(r=r.slice(0,i));return r+o},O.unescape=function(t){return(t=rN(t))&&$.test(t)?t.replace(W,e0):t},O.uniqueId=function(t){var n=++r9;return rN(t)+n},O.upperCase=sf,O.upperFirst=sp,O.each=rr,O.eachRight=ro,O.first=n6,rV(O,function(){var t={};return tl(O,function(n,r){r7.call(O.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),O.VERSION="4.17.21",i("bind bindKey curry curryRight partial partialRight".split(" "),function(t){O[t].placeholder=O}),i(["drop","take"],function(t,n){eP.prototype[t]=function(r){r=r===F?1:oS(rT(r),0);var o=this.__filtered__&&!n?new eP(this):this.clone();return o.__filtered__?o.__takeCount__=oA(r,o.__takeCount__):o.__views__.push({size:oA(r,4294967295),type:t+(0>o.__dir__?"Right":"")}),o},eP.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),i(["filter","map","takeWhile"],function(t,n){var r=n+1,o=1==r||3==r;eP.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:nP(t,3),type:r}),n.__filtered__=n.__filtered__||o,n}}),i(["head","last"],function(t,n){var r="take"+(n?"Right":"");eP.prototype[t]=function(){return this[r](1).value()[0]}}),i(["initial","tail"],function(t,n){var r="drop"+(n?"":"Right");eP.prototype[t]=function(){return this.__filtered__?new eP(this):this[r](1)}}),eP.prototype.compact=function(){return this.filter(rF)},eP.prototype.find=function(t){return this.filter(t).head()},eP.prototype.findLast=function(t){return this.reverse().find(t)},eP.prototype.invokeMap=tq(function(t,n){return"function"==typeof t?new eP(this):this.map(function(r){return tE(r,t,n)})}),eP.prototype.reject=function(t){return this.filter(rl(nP(t)))},eP.prototype.slice=function(t,n){t=rT(t);var r=this;return r.__filtered__&&(0<t||0>n)?new eP(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==F&&(r=0>(n=rT(n))?r.dropRight(-n):r.take(n-t)),r)},eP.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},eP.prototype.toArray=function(){return this.take(4294967295)},tl(eP.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),i=O[o?"take"+("last"==n?"Right":""):n],s=o||/^find/.test(n);i&&(O.prototype[n]=function(){var n=this.__wrapped__,a=o?[1]:arguments,u=n instanceof eP,c=a[0],l=u||iV(n),f=function(t){return t=i.apply(O,p([t],a)),o&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length;return c=s&&!h,u=u&&!d,!s&&l?(n=u?n:new eP(this),(n=t.apply(n,a)).__actions__.push({func:rn,args:[f],thisArg:F}),new eT(n,h)):c&&u?t.apply(this,a):(n=this.thru(f),c?o?n.value()[0]:n.value():n)})}),i("pop push shift sort splice unshift".split(" "),function(t){var n=r4[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);O.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var i=this.value();return n.apply(iV(i)?i:[],t)}return this[r](function(r){return n.apply(iV(r)?r:[],t)})}}),tl(eP.prototype,function(t,n){if(t=O[n]){var r=t.name+"";r7.call(oB,r)||(oB[r]=[]),oB[r].push({name:n,func:t})}}),oB[nd(F,2).name]=[{name:"wrapper",func:F}],eP.prototype.clone=function(){var t=new eP(this.__wrapped__);return t.__actions__=nr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=nr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=nr(this.__views__),t},eP.prototype.reverse=function(){if(this.__filtered__){var t=new eP(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},eP.prototype.value=function(){for(var t=this.__wrapped__.value(),n=this.__dir__,r=iV(t),o=0>n,i=r?t.length:0,s=0,a=i,u=this.__views__,c=-1,l=u.length;++c<l;){var f=u[c],p=f.size;switch(f.type){case"drop":s+=p;break;case"dropRight":a-=p;break;case"take":a=oA(a,s+p);break;case"takeRight":s=oS(s,a-p)}}if(a=(u=a)-s,s=o?u:s-1,c=(u=this.__iteratees__).length,l=0,f=oA(a,this.__takeCount__),!r||!o&&i==a&&f==a)return t0(t,this.__actions__);r=[];e:for(;a--&&l<f;){for(o=-1,i=t[s+=n];++o<c;){var h=u[o];if(p=h.iteratee,h=h.type,p=p(i),2==h)i=p;else if(!p){if(1==h)continue e;break e}}r[l++]=i}return r},O.prototype.at=iw,O.prototype.chain=function(){return rt(this)},O.prototype.commit=function(){return new eT(this.value(),this.__chain__)},O.prototype.next=function(){this.__values__===F&&(this.__values__=rR(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?F:this.__values__[this.__index__++]}},O.prototype.plant=function(t){for(var n,r=this;r instanceof ea;){var o=n1(r);o.__index__=0,o.__values__=F,n?i.__wrapped__=o:n=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,n},O.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof eP?(this.__actions__.length&&(t=new eP(this)),(t=t.reverse()).__actions__.push({func:rn,args:[n7],thisArg:F}),new eT(t,this.__chain__)):this.thru(n7)},O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=function(){return t0(this.__wrapped__,this.__actions__)},O.prototype.first=O.prototype.head,od&&(O.prototype[od]=function(){return this}),O}();eF?((eF.exports=e1)._=e1,eB._=e1):eq._=e1}).call(qb)}),Nz=1/0,wq=function(t){return t?(t=hl(t))===Nz||t===-Nz?17976931348623157e292*(0>t?-1:1):t==t?t:0:0===t?t:0},KO=Math.max,AC=function(t,n,r){var o=Object(t);if(!$f(t)){var i=Ch(n);t=Wf(t),n=function(t){return i(o[t],t,o)}}return -1<(n=function(t,n,r){var o=null==t?0:t.length;if(!o)return -1;if(null==r)r=0;else{var i=(r=wq(r))%1;r=r==r?i?r-i:r:0}return 0>r&&(r=KO(o+r,0)),Cv(t,Ch(n),r)}(t,n,r))?o[i?t[n]:n]:void 0},zC=function(t,n){return t&&t.length?Do(t,void 0,"function"==typeof n?n:void 0):[]},Oz=function(){function t(){ab(this,t),E(this,"size",0),E(this,"fields",new Map)}return Qb(t,[{key:"define",value:function(t,n,r){if(this.size+=r,64<this.size)throw RangeError("the struct over 64 bits is not supported");ak(n={val:0,isNumber:"number"===n,isBoolean:"boolean"===n,oneof:"number"===n||"boolean"===n?void 0:n,len:r}),this.fields.set(t,n)}},{key:"set",value:function(t,n){if(!(t=this.fields.get(t)))throw Error("field not found");var r=t.oneof;if(!D.isLong(n)&&"number"!=typeof n){if("boolean"==typeof n)n=n?1:0;else{if(void 0===r)throw Error("invalid field type");if(void 0===(n=r[n]))throw Error("field type not found")}}ak(t,n),t.val=n}},{key:"toNumber",value:function(){for(var t=0,n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Lb(o[r],2)[1],s=i.len;void 0!==(i=i.val)&&(t+=D.fromValue(i).shiftLeft(n).toNumber(),n+=s)}return t}},{key:"toLong",value:function(){for(var t=D.fromNumber(0,!0),n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Lb(o[r],2)[1],s=i.len;void 0!==(i=i.val)&&(t=D.fromValue(i).shiftLeft(n).add(t),n+=s)}return t}},{key:"assert",value:function(t,n){function r(t){if(!D.isLong(t)&&"number"!=typeof t){if("boolean"==typeof t)t=t?1:0;else{if(void 0===i)throw Error("invalid field type");if(void 0===(t=i[t]))throw Error("field type not found")}}return ak(o,t),Zj(t,o.val)}var o=this.fields.get(t);if(!o)throw Error("field not found");var i=o.oneof;if(!Array.isArray(n))return r(n);if(1===n.length)return r(n[0]);if(n.every(function(t){return"string"==typeof t})&&void 0!==i)return n.some(function(t){return r(t)});throw Error("invalid valueTypes")}},{key:"from",value:function(t){t=D.fromValue(t);for(var n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Lb(o[r],2)[1],s=i.len,a=D.fromNumber(Math.pow(2,s)-1,!0).shiftLeft(n);ak(i,a=t.and(a).shiftRightUnsigned(n)),i.val=a,n+=s}}},{key:"typeOf",value:function(t){if(void 0!==(t=this.fields.get(t))){var n=t.oneof;if(t=t.val,void 0!==n){var r=0;for(n=Object.entries(n);r<n.length;r++){var o=Lb(n[r],2),i=o[0];if(Zj(t,o[1]))return i}}}throw TypeError("can only get type of oneof type")}}]),t}(),Pz=function(t){function n(t){ab(this,n);var o=r.call(this);return o.define("Rejoin","boolean",1),o.define("Unused","number",31),o.define("Platform","number",8),o.define("Version","number",12),o.define("Subversion","number",12),o.set("Platform",7),o.set("Version",7),o.set("Subversion",228),o.set("Rejoin",t),o}nb(n,t);var r=ob(n);return n}(Oz),LO=tb(tb({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),Qz={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},MO=tb(tb({},LO),Qz),NO={Uncompressed:0,Zlib:1},Yh=function(t){function n(t){ab(this,n);var o=r.call(this);if(o.define("MessageType",MO,8),o.define("BroadcastJumps","number",2),o.define("ToCache","boolean",1),o.define("FromCache","boolean",1),o.define("CompressionMethod",NO,2),o.define("IterationNumber","number",4),o.define("BufferedMessage","boolean",1),o.define("ToArchive","boolean",1),o.define("FromArchive","boolean",1),"number"==typeof t||D.isLong(t))o.from(t);else if(void 0!==t){var i=0;for(t=Vj(t);i<t.length;i++){var s=Lb(t[i],2);o.set(s[0],s[1])}}return o}nb(n,t);var r=ob(n);return Qb(n,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(t){var n=this;return void 0!==t?this.assert("MessageType",t):vi(Qz).some(function(t){return n.assert("MessageType",t)})}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}}]),n}(Oz),Fs=function(){function t(n){var r,o,i,s,a;ab(this,t),E(this,"key",void 0),E(this,"value",void 0),E(this,"revision",void 0),E(this,"updateTs",void 0),E(this,"authorUserId",void 0),this.key=null!==(r=null==n?void 0:n.key)&&void 0!==r?r:"",this.value=null!==(o=null==n?void 0:n.value)&&void 0!==o?o:"",this.revision=null!==(i=null==n?void 0:n.revision)&&void 0!==i?i:-1,this.updateTs=null!==(s=null==n?void 0:n.updateTs)&&void 0!==s?s:0,this.authorUserId=null!==(a=null==n?void 0:n.authorUserId)&&void 0!==a?a:""}return Qb(t,[{key:"setKey",value:function(t){if("string"!=typeof t)throw new Ib("Cannot set MetaDataItem key as ".concat(t));this.key=t,this.key=t}},{key:"getKey",value:function(){if("string"==typeof this.key)return this.key;throw new Ib("Cannot get MetaDataItem key")}},{key:"setValue",value:function(t){if("string"!=typeof t&&!Pd.isNull(null))throw new Ib("Cannot set MetaDataItem value as ".concat(t));this.value=t}},{key:"getValue",value:function(){if("string"==typeof this.value||Pd.isNull(null))return this.value;throw new Ib("Cannot get MetaDataItem value")}},{key:"setRevision",value:function(t){if("number"!=typeof t||0!=t%1)throw new Ib("Cannot set MetaDataItem revision as ".concat(t));this.revision=t}},{key:"getRevision",value:function(){if("number"==typeof this.revision)return this.revision;throw new Ib("Cannot get MetaDataItem revision")}},{key:"getUpdateTs",value:function(){return this.updateTs}},{key:"getAuthorUserId",value:function(){return this.authorUserId}}]),t}();!function(t){t.STATE_REVISION_KEY_PREFIX="_rev_",t.STATE_TIMESTAMP_PREFIX="_t_",t.STATE_AUTHOR_PREFIX="_m_",t.STATE_REVISION="_rev",t.STATE_INTERNAL_PREFIX="_"}(Ge||(Ge={})),function(t){t[t.StateOk=0]="StateOk",t[t.DuplicatedOperation=1]="DuplicatedOperation",t[t.SyncServerError=2]="SyncServerError",t[t.ArgumentError=3]="ArgumentError",t[t.AuthicationError=4]="AuthicationError",t[t.ExceedLimitationError=5]="ExceedLimitationError",t[t.OutdateRevision=6]="OutdateRevision",t[t.LockAcquireFailed=7]="LockAcquireFailed",t[t.LockExpired=8]="LockExpired",t[t.LockWatching=9]="LockWatching",t[t.InvalidLock=10]="InvalidLock",t[t.TimeOutError=100]="TimeOutError",t[t.UnknownError=255]="UnknownError"}(bg||(bg={}));var OO=Math.max,PO=Math.min,Rz=function(t,n,r){return n=wq(n),void 0===r?(r=n,n=0):r=wq(r),(t=hl(t))>=PO(n,r)&&t<OO(n,r)},Wl=function(t){function n(t,o,i){return ab(this,n),E(L(o=r.call(this,o,"MessageReport")),"messagecount",o.getInitMessageCount()),E(L(o),"context",void 0),E(L(o),"rtmMessageCategory",void 0),E(L(o),"seq",D.fromNumber(1,!0)),o.context=t,o.rtmMessageCategory=i,o}nb(n,t);var r=ob(n);return Qb(n,[{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1)}},{key:"getInitMessageCount",value:function(){return{peerack10mscount:D.fromNumber(0),peerack25mscount:D.fromNumber(0),peerack50mscount:D.fromNumber(0),peerack75mscount:D.fromNumber(0),peerack100mscount:D.fromNumber(0),peerack150mscount:D.fromNumber(0),peerack200mscount:D.fromNumber(0),peerack250mscount:D.fromNumber(0),peerack300mscount:D.fromNumber(0),peerack400mscount:D.fromNumber(0),peerack500mscount:D.fromNumber(0),peerack600mscount:D.fromNumber(0),peerack800mscount:D.fromNumber(0),peerack1000mscount:D.fromNumber(0),peerack2000mscount:D.fromNumber(0),peerack3000mscount:D.fromNumber(0),peerack5000mscount:D.fromNumber(0),peerack7000mscount:D.fromNumber(0),peerackslowcount:D.fromNumber(0),norecipientack10mscount:D.fromNumber(0),norecipientack25mscount:D.fromNumber(0),norecipientack50mscount:D.fromNumber(0),norecipientack75mscount:D.fromNumber(0),norecipientack100mscount:D.fromNumber(0),norecipientack150mscount:D.fromNumber(0),norecipientack200mscount:D.fromNumber(0),norecipientack250mscount:D.fromNumber(0),norecipientack300mscount:D.fromNumber(0),norecipientack400mscount:D.fromNumber(0),norecipientack500mscount:D.fromNumber(0),norecipientack600mscount:D.fromNumber(0),norecipientack800mscount:D.fromNumber(0),norecipientack1000mscount:D.fromNumber(0),norecipientack2000mscount:D.fromNumber(0),norecipientack3000mscount:D.fromNumber(0),norecipientack5000mscount:D.fromNumber(0),norecipientack7000mscount:D.fromNumber(0),norecipientackslowcount:D.fromNumber(0),sentcount:D.fromNumber(0),receivedcount:D.fromNumber(0),acktimeoutcount:D.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}},{key:"updatePeerAckCount",value:function(t){t/=2;for(var n=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],r=0;r<n.length;r++){var o,i,s=n[r];Rz(t,s[0],s[1])?(s="peerack".concat(s[1],"mscount"),this.messagecount[s]=null===(i=this.messagecount[s])||void 0===i?void 0:i.add(1)):7e3<t&&(this.messagecount.peerackslowcount=null===(o=this.messagecount.peerackslowcount)||void 0===o?void 0:o.add(1))}}},{key:"updateNorecipientackCount",value:function(t){t/=2;for(var n=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],r=0;r<n.length;r++){var o,i,s=n[r];Rz(t,s[0],s[1])?(s="norecipientack".concat(s[1],"mscount"),this.messagecount[s]=null===(i=this.messagecount[s])||void 0===i?void 0:i.add(1)):7e3<t&&(this.messagecount.norecipientackslowcount=null===(o=this.messagecount.norecipientackslowcount)||void 0===o?void 0:o.add(1))}}},{key:"updateCommonCount",value:function(t){var n=this.messagecount[t];D.isLong(n)?this.messagecount[t]=n.add(1):this.messagecount[t]=n+1}},{key:"report",value:function(){var t,n;$a("RtmSdkMessageCount",new Bx(tb(tb({},this.messagecount),{},{vid:D.fromString(null!==(t=this.context.vid)&&void 0!==t?t:"0"),os:7,lts:D.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:7,apiminorversion:228,userid:this.context.uid,messagecategory:this.rtmMessageCategory})),null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n),this.messagecount=tb(tb({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}]),n}(Dd()),QO=function(t){function n(t){return ab(this,n),E(L(t=r.call(this,t,"ChatManager")),"dialogueLru",new kG(void 0,{maxlen:1e4,ttl:1e4})),t}nb(n,t);var r=ob(n);return Qb(n,[{key:"getChatInfo",value:function(t){var n=this.dialogueLru.get(t);if(this.dialogueLru.prune(),n){var r=n.dialogue,o={dialogue:r,sequence:n=n.sequence.add(1)};return this.dialogueLru.set(t,{dialogue:r,sequence:n}),o}return r={dialogue:Rj(),sequence:D.fromNumber(1,!0)},this.dialogueLru.set(t,r),r}}]),n}(Dd()),X={};"object"==Ia(module)&&(module.exports=X),X.parse=function(t,n){var r,o=X.bin.readUshort,i=X.bin.readUint,s={};for(r=(t=new Uint8Array(t)).length-4;101010256!=i(t,r);)r--;var a=o(t,r=r+4+4);o(t,r+=2),i(t,r+=2),r=i(t,r+=4);for(var u=0;u<a;u++){i(t,r),i(t,r+=16);var c=i(t,r+=4),l=i(t,r+=4),f=o(t,r+=4),p=o(t,r+2),h=o(t,r+4),d=i(t,r+=14);r+=4+(f+p+h),X._readLocal(t,d,s,c,l,n)}return s},X._readLocal=function(t,n,r,o,i,s){var a=X.bin.readUshort,u=X.bin.readUint;u(t,n),a(t,n+=4),a(t,n+=2);var c=a(t,n+=2);u(t,n+=2),u(t,n+=4),u=a(t,n=n+4+8);var l=a(t,n+=2);if(n+=2,a=X.bin.readUTF8(t,n,u),n=n+u+l,s)r[a]={size:i,csize:o};else if(t=new Uint8Array(t.buffer,n),0==c)r[a]=new Uint8Array(t.buffer.slice(n,n+o));else{if(8!=c)throw"unknown compression method: "+c;n=new Uint8Array(i),X.inflateRaw(t,n),r[a]=n}},X.inflateRaw=function(t,n){return X.F.inflate(t,n)},X.inflate=function(t,n){return t[0],t[1],X.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-2),n)},X.deflate=function(t,n){null==n&&(n={level:6});var r=0,o=new Uint8Array(50+Math.floor(1.1*t.length));return o[r]=120,o[r+1]=156,r=X.F.deflateRaw(t,o,r+2,n.level),t=X.adler(t,0,t.length),o[r+0]=t>>>24&255,o[r+1]=t>>>16&255,o[r+2]=t>>>8&255,o[r+3]=t>>>0&255,new Uint8Array(o.buffer,0,r+4)},X.deflateRaw=function(t,n){null==n&&(n={level:6});var r=new Uint8Array(50+Math.floor(1.1*t.length)),o=X.F.deflateRaw(t,r,o,n.level);return new Uint8Array(r.buffer,0,o)},X.encode=function(t,n){null==n&&(n=!1);var r,o=0,i=X.bin.writeUint,s=X.bin.writeUshort,a={};for(r in t){var u=!X._noNeed(r)&&!n,c=t[r],l=X.crc.crc(c,0,c.length);a[r]={cpr:u,usize:c.length,crc:l,file:u?X.deflateRaw(c):c}}for(r in a)o+=a[r].file.length+30+46+2*X.bin.sizeUTF8(r);for(r in t=new Uint8Array(o+22),n=0,c=[],a)l=a[r],c.push(n),n=X._writeHeader(t,n,r,l,0);for(r in o=0,u=n,a)l=a[r],c.push(n),n=X._writeHeader(t,n,r,l,1,c[o++]);return a=n-u,i(t,n,101010256),s(t,n=n+4+4,o),s(t,n+=2,o),i(t,n+=2,a),i(t,n+4,u),t.buffer},X._noNeed=function(t){return t=t.split(".").pop().toLowerCase(),-1!="png,jpg,jpeg,zip".indexOf(t)},X._writeHeader=function(t,n,r,o,i,s){var a=X.bin.writeUint,u=X.bin.writeUshort,c=o.file;return a(t,n,0==i?67324752:33639248),n+=4,1==i&&(n+=2),u(t,n,20),u(t,n+=2,0),u(t,n+=2,o.cpr?8:0),a(t,n+=2,0),a(t,n+=4,o.crc),a(t,n+=4,c.length),a(t,n+=4,o.usize),u(t,n+=4,X.bin.sizeUTF8(r)),u(t,n+=2,0),n+=2,1==i&&(a(t,n=n+2+2+6,s),n+=4),n+=r=X.bin.writeUTF8(t,n,r),0==i&&(t.set(c,n),n+=c.length),n},X.crc={table:function(){for(var t=new Uint32Array(256),n=0;256>n;n++){for(var r=n,o=0;8>o;o++)r=1&r?3988292384^r>>>1:r>>>1;t[n]=r}return t}(),update:function(t,n,r,o){for(var i=0;i<o;i++)t=X.crc.table[255&(t^n[r+i])]^t>>>8;return t},crc:function(t,n,r){return 4294967295^X.crc.update(4294967295,t,n,r)}},X.adler=function(t,n,r){var o=1,i=0,s=n;for(n+=r;s<n;){for(r=Math.min(s+5552,n);s<r;)i+=o+=t[s++];o%=65521,i%=65521}return i<<16|o},X.bin={readUshort:function(t,n){return t[n]|t[n+1]<<8},writeUshort:function(t,n,r){t[n]=255&r,t[n+1]=r>>8&255},readUint:function(t,n){return 16777216*t[n+3]+(t[n+2]<<16|t[n+1]<<8|t[n])},writeUint:function(t,n,r){t[n]=255&r,t[n+1]=r>>8&255,t[n+2]=r>>16&255,t[n+3]=r>>24&255},readASCII:function(t,n,r){for(var o="",i=0;i<r;i++)o+=String.fromCharCode(t[n+i]);return o},writeASCII:function(t,n,r){for(var o=0;o<r.length;o++)t[n+o]=r.charCodeAt(o)},pad:function(t){return 2>t.length?"0"+t:t},readUTF8:function(t,n,r){for(var o,i="",s=0;s<r;s++)i+="%"+X.bin.pad(t[n+s].toString(16));try{o=decodeURIComponent(i)}catch(a){return X.bin.readASCII(t,n,r)}return o},writeUTF8:function(t,n,r){for(var o=r.length,i=0,s=0;s<o;s++){var a=r.charCodeAt(s);if(0==(4294967168&a))t[n+i]=a,i++;else if(0==(4294965248&a))t[n+i]=192|a>>6,t[n+i+1]=128|a>>0&63,i+=2;else if(0==(4294901760&a))t[n+i]=224|a>>12,t[n+i+1]=128|a>>6&63,t[n+i+2]=128|a>>0&63,i+=3;else{if(0!=(4292870144&a))throw"e";t[n+i]=240|a>>18,t[n+i+1]=128|a>>12&63,t[n+i+2]=128|a>>6&63,t[n+i+3]=128|a>>0&63,i+=4}}return i},sizeUTF8:function(t){for(var n=t.length,r=0,o=0;o<n;o++){var i=t.charCodeAt(o);if(0==(4294967168&i))r++;else if(0==(4294965248&i))r+=2;else if(0==(4294901760&i))r+=3;else{if(0!=(4292870144&i))throw"e";r+=4}}return r}},X.F={},X.F.deflateRaw=function(t,n,r,o){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],s=X.F.U,a=X.F._goodIndex;X.F._hash;var u=X.F._putsE,c=0;r<<=3;var l=0,f=t.length;if(0==o){for(;c<f;){var p=Math.min(65535,f-c);u(n,r,c+p==f?1:0),r=X.F._copyExact(t,c,p,n,r+8),c+=p}return r>>>3}u=s.lits,o=s.strt;var h=s.prev,d=0,g=0,v=0,y=0,b=0;for(2<f&&(o[b=X.F._hash(t,0)]=0),c=0;c<f;c++){if(p=b,c+1<f-2){b=X.F._hash(t,c+1);var m=c+1&32767;h[m]=o[b],o[b]=m}if(l<=c){if((14e3<d||26697<g)&&100<f-c&&(l<c&&(u[d]=c-l,d+=2,l=c),r=X.F._writeBlock(c==f-1||l==f?1:0,u,d,y,t,v,c-v,n,r),d=g=y=0,v=c),m=0,c<f-2&&(m=X.F._bestMatch(t,c,h,p,Math.min(i[2],f-c),i[3])),0!=m){p=m>>>16,m&=65535;var E=a(p,s.of0);s.lhst[257+E]++;var _=a(m,s.df0);s.dhst[_]++,y+=s.exb[E]+s.dxb[_],u[d]=p<<23|c-l,u[d+1]=m<<16|E<<8|_,d+=2,l=c+p}else s.lhst[t[c]]++;g++}}for(v==c&&0!=t.length||(l<c&&(u[d]=c-l,d+=2),r=X.F._writeBlock(1,u,d,y,t,v,c-v,n,r));0!=(7&r);)r++;return r>>>3},X.F._bestMatch=function(t,n,r,o,i,s){var a=32767&n,u=r[a],c=a-u+32768&32767;if(u==a||o!=X.F._hash(t,n-c))return 0;for(var l=o=0,f=Math.min(32767,n);c<=f&&0!=--s&&u!=a;){if((0==o||t[n+o]==t[n+o-c])&&(a=X.F._howLong(t,n,c))>o){if(l=c,(o=a)>=i)break;c+2<a&&(a=c+2);for(var p=0,h=0;h<a-2;h++){var d=n-c+h+32768&32767,g=d-r[d]+32768&32767;g>p&&(p=g,u=d)}}c+=(a=u)-(u=r[a])+32768&32767}return o<<16|l},X.F._howLong=function(t,n,r){if(t[n]!=t[n-r]||t[n+1]!=t[n+1-r]||t[n+2]!=t[n+2-r])return 0;var o=n,i=Math.min(t.length,n+258);for(n+=3;n<i&&t[n]==t[n-r];)n++;return n-o},X.F._hash=function(t,n){return(t[n]<<8|t[n+1])+(t[n+2]<<4)&65535},X.saved=0,X.F._writeBlock=function(t,n,r,o,i,s,a,u,c){var l=X.F.U,f=X.F._putsF,p=X.F._putsE;l.lhst[256]++;var h=X.F.getTrees(),d=h[0],g=h[1],v=h[2],y=h[3],b=h[4],m=h[5],E=h[6];h=h[7];var _=32+(0==(c+3&7)?0:8-(c+3&7))+(a<<3),w=o+X.F.contSize(l.fltree,l.lhst)+X.F.contSize(l.fdtree,l.dhst);o=o+X.F.contSize(l.ltree,l.lhst)+X.F.contSize(l.dtree,l.dhst)+(14+3*m+X.F.contSize(l.itree,l.ihst)+(2*l.ihst[16]+3*l.ihst[17]+7*l.ihst[18]));for(var O=0;286>O;O++)l.lhst[O]=0;for(O=0;30>O;O++)l.dhst[O]=0;for(O=0;19>O;O++)l.ihst[O]=0;if(_=_<w&&_<o?0:w<o?1:2,f(u,c,t),f(u,c+1,_),c+=3,0==_){for(;0!=(7&c);)c++;c=X.F._copyExact(i,s,a,u,c)}else{if(1==_)var R=l.fltree,k=l.fdtree;if(2==_){for(X.F.makeCodes(l.ltree,d),X.F.revCodes(l.ltree,d),X.F.makeCodes(l.dtree,g),X.F.revCodes(l.dtree,g),X.F.makeCodes(l.itree,v),X.F.revCodes(l.itree,v),R=l.ltree,k=l.dtree,p(u,c,y-257),p(u,c+=5,b-1),p(u,c+=5,m-4),c+=4,t=0;t<m;t++)p(u,c+3*t,l.itree[1+(l.ordr[t]<<1)]);c=X.F._codeTiny(E,l.itree,u,c+3*m),c=X.F._codeTiny(h,l.itree,u,c)}for(m=0;m<r;m+=2){for(E=(t=n[m])>>>23,t=s+(8388607&t);s<t;)c=X.F._writeLit(i[s++],R,u,c);0!=E&&(t=(d=n[m+1])>>16,a=d>>8&255,d&=255,p(u,c=X.F._writeLit(257+a,R,u,c),E-l.of0[a]),c+=l.exb[a],f(u,c=X.F._writeLit(d,k,u,c),t-l.df0[d]),c+=l.dxb[d],s+=E)}c=X.F._writeLit(256,R,u,c)}return c},X.F._copyExact=function(t,n,r,o,i){var s=i>>>3;return o[s]=r,o[s+1]=r>>>8,o[s+2]=255-o[s],o[s+3]=255-o[s+1],s+=4,o.set(new Uint8Array(t.buffer,n,r),s),i+(r+4<<3)},X.F.getTrees=function(){for(var t=X.F.U,n=X.F._hufTree(t.lhst,t.ltree,15),r=X.F._hufTree(t.dhst,t.dtree,15),o=[],i=X.F._lenCodes(t.ltree,o),s=[],a=X.F._lenCodes(t.dtree,s),u=0;u<o.length;u+=2)t.ihst[o[u]]++;for(u=0;u<s.length;u+=2)t.ihst[s[u]]++;u=X.F._hufTree(t.ihst,t.itree,7);for(var c=19;4<c&&0==t.itree[1+(t.ordr[c-1]<<1)];)c--;return[n,r,u,i,a,c,o,s]},X.F.getSecond=function(t){for(var n=[],r=0;r<t.length;r+=2)n.push(t[r+1]);return n},X.F.nonZero=function(t){for(var n="",r=0;r<t.length;r+=2)0!=t[r+1]&&(n+=(r>>1)+",");return n},X.F.contSize=function(t,n){for(var r=0,o=0;o<n.length;o++)r+=n[o]*t[1+(o<<1)];return r},X.F._codeTiny=function(t,n,r,o){for(var i=0;i<t.length;i+=2){var s=t[i],a=t[i+1];o=X.F._writeLit(s,n,r,o);var u=16==s?2:17==s?3:7;15<s&&(X.F._putsE(r,o,a,u),o+=u)}return o},X.F._lenCodes=function(t,n){for(var r=t.length;2!=r&&0==t[r-1];)r-=2;for(var o=0;o<r;o+=2){var i=t[o+1],s=o+3<r?t[o+3]:-1,a=o+5<r?t[o+5]:-1,u=0==o?-1:t[o-1];if(0==i&&s==i&&a==i){for(s=o+5;s+2<r&&t[s+2]==i;)s+=2;11>(i=Math.min(s+1-o>>>1,138))?n.push(17,i-3):n.push(18,i-11),o+=2*i-2}else if(i==u&&s==i&&a==i){for(s=o+5;s+2<r&&t[s+2]==i;)s+=2;i=Math.min(s+1-o>>>1,6),n.push(16,i-3),o+=2*i-2}else n.push(i,0)}return r>>>1},X.F._hufTree=function(t,n,r){var o=[],i=t.length,s=n.length,a=0;for(a=0;a<s;a+=2)n[a]=0,n[a+1]=0;for(a=0;a<i;a++)0!=t[a]&&o.push({lit:a,f:t[a]});if(t=o.length,i=o.slice(0),0==t)return 0;if(1==t)return n[1+((r=o[0].lit)<<1)]=1,n[1+((0==r?1:0)<<1)]=1;o.sort(function(t,n){return t.f-n.f}),a=o[0],s=o[1];var u=0,c=1,l=2;for(o[0]={lit:-1,f:a.f+s.f,l:a,r:s,d:0};c!=t-1;)a=u!=c&&(l==t||o[u].f<o[l].f)?o[u++]:o[l++],s=u!=c&&(l==t||o[u].f<o[l].f)?o[u++]:o[l++],o[c++]={lit:-1,f:a.f+s.f,l:a,r:s};for((o=X.F.setDepth(o[c-1],0))>r&&(X.F.restrictDepth(i,r,o),o=r),a=0;a<t;a++)n[1+(i[a].lit<<1)]=i[a].d;return o},X.F.setDepth=function(t,n){return -1!=t.lit?t.d=n:Math.max(X.F.setDepth(t.l,n+1),X.F.setDepth(t.r,n+1))},X.F.restrictDepth=function(t,n,r){var o=0,i=1<<r-n,s=0;for(t.sort(function(t,n){return n.d==t.d?t.f-n.f:n.d-t.d}),o=0;o<t.length&&t[o].d>n;o++){var a=t[o].d;t[o].d=n,s+=i-(1<<r-a)}for(s>>>=r-n;0<s;)(a=t[o].d)<n?(t[o].d++,s-=1<<n-a-1):o++;for(;0<=o;o--)t[o].d==n&&0>s&&(t[o].d--,s++);0!=s&&console.log("debt left")},X.F._goodIndex=function(t,n){var r=0;return n[16]<=t&&(r|=16),n[8|r]<=t&&(r|=8),n[4|r]<=t&&(r|=4),n[2|r]<=t&&(r|=2),n[1|r]<=t&&(r|=1),r},X.F._writeLit=function(t,n,r,o){return X.F._putsF(r,o,n[t<<1]),o+n[1+(t<<1)]},X.F.inflate=function(t,n){var r=Uint8Array;if(3==t[0]&&0==t[1])return n||new r(0);var o=X.F,i=o._bitsF,s=o._bitsE,a=o._decodeTiny,u=o.makeCodes,c=o.codes2map,l=o._get17,f=o.U,p=null==n;p&&(n=new r(t.length>>>2<<3));for(var h,d,g,v,y=0,b=0,m=d=0,E=0;0==y;)if(y=i(t,E,1),h=i(t,E+1,2),E+=3,0==h)0!=(7&E)&&(E+=8-(7&E)),h=t[(E=4+(E>>>3))-4]|t[E-3]<<8,p&&(n=X.F._check(n,m+h)),n.set(new r(t.buffer,t.byteOffset+E,h),m),E=E+h<<3,m+=h;else{if(p&&(n=X.F._check(n,m+131072)),1==h&&(g=f.flmap,v=f.fdmap,b=511,d=31),2==h){for(d=s(t,E,5)+257,h=s(t,E+5,5)+1,g=s(t,E+10,4)+4,E+=14,v=0;38>v;v+=2)f.itree[v]=0,f.itree[v+1]=0;for(b=1,v=0;v<g;v++){var _=s(t,E+3*v,3);f.itree[1+(f.ordr[v]<<1)]=_,_>b&&(b=_)}E+=3*g,u(f.itree,b),c(f.itree,b,f.imap),g=f.lmap,v=f.dmap,E=a(f.imap,(1<<b)-1,d+h,t,E,f.ttree),b=(1<<(_=o._copyOut(f.ttree,0,d,f.ltree)))-1,d=(1<<(h=o._copyOut(f.ttree,d,h,f.dtree)))-1,u(f.ltree,_),c(f.ltree,_,g),u(f.dtree,h),c(f.dtree,h,v)}for(;;)if(E+=15&(h=g[l(t,E)&b]),0==(_=h>>>4)>>>8)n[m++]=_;else{if(256==_)break;h=m+_-254,264<_&&(h=m+((_=f.ldef[_-257])>>>3)+s(t,E,7&_),E+=7&_),E+=15&(_=v[l(t,E)&d]);var w=((_=f.ddef[_>>>4])>>>4)+i(t,E,15&_);for(E+=15&_,p&&(n=X.F._check(n,m+131072));m<h;)n[m]=n[m++-w],n[m]=n[m++-w],n[m]=n[m++-w],n[m]=n[m++-w];m=h}}return n.length==m?n:n.slice(0,m)},X.F._check=function(t,n){var r=t.length;return n<=r?t:((n=new Uint8Array(Math.max(r<<1,n))).set(t,0),n)},X.F._decodeTiny=function(t,n,r,o,i,s){for(var a=X.F._bitsE,u=X.F._get17,c=0;c<r;){var l=t[u(o,i)&n];i+=15&l;var f=l>>>4;if(15>=f)s[c]=f,c++;else{var p=l=0;for(16==f?(p=3+a(o,i,2),i+=2,l=s[c-1]):17==f?(p=3+a(o,i,3),i+=3):18==f&&(p=11+a(o,i,7),i+=7),f=c+p;c<f;)s[c]=l,c++}}return i},X.F._copyOut=function(t,n,r,o){for(var i=0,s=0,a=o.length>>>1;s<r;){var u=t[s+n];o[s<<1]=0,o[1+(s<<1)]=u,u>i&&(i=u),s++}for(;s<a;)o[s<<1]=0,o[1+(s<<1)]=0,s++;return i},X.F.makeCodes=function(t,n){var r,o,i=X.F.U,s=t.length,a=i.bl_count;for(r=0;r<=n;r++)a[r]=0;for(r=1;r<s;r+=2)a[t[r]]++;for(i=i.next_code,r=0,a[0]=0,o=1;o<=n;o++)r=r+a[o-1]<<1,i[o]=r;for(n=0;n<s;n+=2)0!=(a=t[n+1])&&(t[n]=i[a],i[a]++)},X.F.codes2map=function(t,n,r){for(var o=t.length,i=X.F.U.rev15,s=0;s<o;s+=2)if(0!=t[s+1]){var a=t[s+1],u=s>>1<<4|a,c=n-a;for(c=(a=t[s]<<c)+(1<<c);a!=c;)r[i[a]>>>15-n]=u,a++}},X.F.revCodes=function(t,n){for(var r=X.F.U.rev15,o=15-n,i=0;i<t.length;i+=2)t[i]=r[t[i]<<n-t[i+1]]>>>o},X.F._putsE=function(t,n,r){r<<=7&n,t[n>>>=3]|=r,t[n+1]|=r>>>8},X.F._putsF=function(t,n,r){r<<=7&n,t[n>>>=3]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},X.F._bitsE=function(t,n,r){return(t[n>>>3]|t[1+(n>>>3)]<<8)>>>(7&n)&(1<<r)-1},X.F._bitsF=function(t,n,r){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16)>>>(7&n)&(1<<r)-1},X.F._get17=function(t,n){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16)>>>(7&n)},X.F._get25=function(t,n){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16|t[3+(n>>>3)]<<24)>>>(7&n)},X.F.U=function(){var t=Uint16Array,n=Uint32Array;return{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}}(),function(){function t(t,n,r){for(;0!=n--;)t.push(0,r)}for(var n=X.F.U,r=0;32768>r;r++){var o=r;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,n.rev15[r]=(o>>>16|o<<16)>>>17}for(r=0;32>r;r++)n.ldef[r]=n.of0[r]<<3|n.exb[r],n.ddef[r]=n.df0[r]<<4|n.dxb[r];t(n.fltree,144,8),t(n.fltree,112,9),t(n.fltree,24,7),t(n.fltree,8,8),X.F.makeCodes(n.fltree,9),X.F.codes2map(n.fltree,9,n.flmap),X.F.revCodes(n.fltree,9),t(n.fdtree,32,5),X.F.makeCodes(n.fdtree,5),X.F.codes2map(n.fdtree,5,n.fdmap),X.F.revCodes(n.fdtree,5),t(n.itree,19,0),t(n.ltree,286,0),t(n.dtree,30,0),t(n.ttree,320,0)}();var RO=Array.isArray||function(t){return t&&"number"==typeof t.length},SO=Object.defineProperty({isArray:RO},"__esModule",{value:!0}),TO=Object.defineProperty({isObject:function(t){return null!==t&&"object"===Ia(t)}},"__esModule",{value:!0}),UO=Object.defineProperty({isFunction:function(t){return"function"==typeof t}},"__esModule",{value:!0}),VO=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,n){return n+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),bk=Object.defineProperty({UnsubscriptionError:VO},"__esModule",{value:!0}),WO=function(){var t;function n(t){this.closed=!1,this._subscriptions=this._parentOrParents=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return n.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,r=this._ctorUnsubscribe,o=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof n)t.remove(this);else if(null!==t)for(var s=0;s<t.length;++s)t[s].remove(this);if(UO.isFunction(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(u){var a=u instanceof bk.UnsubscriptionError?Gs(u.errors):[u]}}if(SO.isArray(i)){for(s=-1,t=i.length;++s<t;)if(r=i[s],TO.isObject(r))try{r.unsubscribe()}catch(c){a=a||[],c instanceof bk.UnsubscriptionError?a=a.concat(Gs(c.errors)):a.push(c)}}if(a)throw new bk.UnsubscriptionError(a)}},n.prototype.add=function(t){var r=t;if(!t)return n.EMPTY;switch(Ia(t)){case"function":r=new n(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;r instanceof n||(t=r,(r=new n)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=r._parentOrParents))r._parentOrParents=this;else if(t instanceof n){if(t===this)return r;r._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return r;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[r]:t.push(r),r},n.prototype.remove=function(t){var n=this._subscriptions;n&&-1!==(t=n.indexOf(t))&&n.splice(t,1)},n.EMPTY=((t=new n).closed=!0,t),n}(),XO=Object.defineProperty({Subscription:WO},"__esModule",{value:!0}),YO=qb&&qb.__extends||function(){var t=function(n,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function o(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ZO=function(t){function n(n,r){return t.call(this)||this}return YO(n,t),n.prototype.schedule=function(t,n){return this},n}(XO.Subscription),$O=Object.defineProperty({Action:ZO},"__esModule",{value:!0}),aP=qb&&qb.__extends||function(){var t=function(n,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function o(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sz=function(t){function n(n,r){var o=t.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return aP(n,t),n.prototype.schedule=function(t,n){if(void 0===n&&(n=0),this.closed)return this;this.state=t,t=this.id;var r=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(r,t,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(r,this.id,n),this},n.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},n.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)},n.prototype.execute=function(t,n){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(t=this._execute(t,n))?t:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},n.prototype._execute=function(t,n){n=!1;var r=void 0;try{this.work(t)}catch(o){n=!0,r=!!o&&o||Error(o)}if(n)return this.unsubscribe(),r},n.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,r=n.actions,o=r.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==o&&r.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},n}($O.Action);Object.defineProperty({AsyncAction:Sz},"__esModule",{value:!0});var bP=function(){function t(n,r){void 0===r&&(r=t.now),this.SchedulerAction=n,this.now=r}return t.prototype.schedule=function(t,n,r){return void 0===n&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},t.now=function(){return Date.now()},t}(),Tz=Object.defineProperty({Scheduler:bP},"__esModule",{value:!0}),cP=qb&&qb.__extends||function(){var t=function(n,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function o(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Uz=function(t){function n(r,o){void 0===o&&(o=Tz.Scheduler.now);var i=t.call(this,r,function(){return n.delegate&&n.delegate!==i?n.delegate.now():o()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return cP(n,t),n.prototype.schedule=function(r,o,i){return void 0===o&&(o=0),n.delegate&&n.delegate!==this?n.delegate.schedule(r,o,i):t.prototype.schedule.call(this,r,o,i)},n.prototype.flush=function(t){var n,r=this.actions;if(this.active)r.push(t);else{this.active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=r.shift());if(this.active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}},n}(Tz.Scheduler);Object.defineProperty({AsyncScheduler:Uz},"__esModule",{value:!0});var dP=mb("iterator"),xq=!Ga(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,r="";return t.pathname="c%20d",n.forEach(function(t,o){n.delete("b"),r+=o+t}),!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[dP]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}),eP=/[^\0-\u007E]/,fP=/[.\u3002\uFF0E\uFF61]/g,Zh=Math.floor,yq=String.fromCharCode,Vz=function(t){var n=Gi(t);if("function"!=typeof n)throw TypeError(String(t)+" is not iterable");return ub(n.call(t))},Wz=me("fetch"),zq=me("Headers"),gP=mb("iterator"),Xz=Sb.set,od=Sb.getterFor("URLSearchParams"),hP=Sb.getterFor("URLSearchParamsIterator"),iP=/\+/g,Yz=[,,,,],jP=function(t){try{return decodeURIComponent(t)}catch(n){return t}},Zz=function(t){var n=t.replace(iP," ");t=4;try{return decodeURIComponent(n)}catch(i){for(;t;){var r=n.replace,o=t--;o=Yz[o-1]||(Yz[o-1]=RegExp("((?:%[\\da-f]{2}){"+o+"})","gi")),n=r.call(n,o,jP)}return n}},$z=/[!'()~]|%20/g,kP={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},aA=function(t){return kP[t]},bA=function(t,n){if(n){n=n.split("&");for(var r,o=0;o<n.length;)(r=n[o++]).length&&(r=r.split("="),t.push({key:Zz(r.shift()),value:Zz(r.join("="))}))}},lP=function(t){this.entries.length=0,bA(this.entries,t)},$h=function(t,n){if(t<n)throw TypeError("Not enough arguments")},Aq=yt(function(t,n){Xz(this,{type:"URLSearchParamsIterator",iterator:Vz(od(t).entries),kind:n})},"Iterator",function(){var t=hP(this),n=t.kind,r=(t=t.iterator.next()).value;return t.done||(t.value="keys"===n?r.key:"values"===n?r.value:[r.key,r.value]),t}),xj=function(){Ud(this,xj,"URLSearchParams");var t,n,r,o=0<arguments.length?arguments[0]:void 0,i=[];if(Xz(this,{type:"URLSearchParams",entries:i,updateURL:function(){},updateSearchParams:lP}),void 0!==o){if(fb(o)){var s=Gi(o);if("function"==typeof s)for(s=(o=s.call(o)).next;!(t=s.call(o)).done;){var a=(t=Vz(ub(t.value))).next;if((n=a.call(t)).done||(r=a.call(t)).done||!a.call(t).done)throw TypeError("Expected sequence with length 2");i.push({key:n.value+"",value:r.value+""})}else for(t in o)Fa(o,t)&&i.push({key:t,value:o[t]+""})}else bA(i,"string"==typeof o?"?"===o.charAt(0)?o.slice(1):o:o+"")}},Xl=xj.prototype;qh(Xl,{append:function(t,n){$h(arguments.length,2);var r=od(this);r.entries.push({key:t+"",value:n+""}),r.updateURL()},delete:function(t){$h(arguments.length,1);for(var n=od(this),r=n.entries,o=t+"",i=0;i<r.length;)r[i].key===o?r.splice(i,1):i++;n.updateURL()},get:function(t){$h(arguments.length,1);for(var n=od(this).entries,r=t+"",o=0;o<n.length;o++)if(n[o].key===r)return n[o].value;return null},getAll:function(t){$h(arguments.length,1);for(var n=od(this).entries,r=t+"",o=[],i=0;i<n.length;i++)n[i].key===r&&o.push(n[i].value);return o},has:function(t){$h(arguments.length,1);for(var n=od(this).entries,r=t+"",o=0;o<n.length;)if(n[o++].key===r)return!0;return!1},set:function(t,n){$h(arguments.length,1);for(var r,o=od(this),i=o.entries,s=!1,a=t+"",u=n+"",c=0;c<i.length;c++)(r=i[c]).key===a&&(s?i.splice(c--,1):(s=!0,r.value=u));s||i.push({key:a,value:u}),o.updateURL()},sort:function(){var t,n,r=od(this),o=r.entries,i=o.slice();for(n=o.length=0;n<i.length;n++){var s=i[n];for(t=0;t<n;t++)if(o[t].key>s.key){o.splice(t,0,s);break}t===n&&o.push(s)}r.updateURL()},forEach:function(t){for(var n,r=od(this).entries,o=tf(t,1<arguments.length?arguments[1]:void 0,3),i=0;i<r.length;)o((n=r[i++]).value,n.key,this)},keys:function(){return new Aq(this,"keys")},values:function(){return new Aq(this,"values")},entries:function(){return new Aq(this,"entries")}},{enumerable:!0}),Ob(Xl,gP,Xl.entries),Ob(Xl,"toString",function(){for(var t,n=od(this).entries,r=[],o=0;o<n.length;)r.push(encodeURIComponent((t=n[o++]).key).replace($z,aA)+"="+encodeURIComponent(t.value).replace($z,aA));return r.join("&")},{enumerable:!0}),Td(xj,"URLSearchParams"),wa({global:!0,forced:!xq},{URLSearchParams:xj}),xq||"function"!=typeof Wz||"function"!=typeof zq||wa({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var n=[t];if(1<arguments.length){var r=arguments[1];if(fb(r)){var o=r.body;if("URLSearchParams"===ph(o)){var i=r.headers?new zq(r.headers):new zq;i.has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),r=vd(r,{body:ke(0,String(o)),headers:ke(0,i)})}}n.push(r)}return Wz.apply(this,n)}});var yj=na.URL,mP=xj,nP=Sb.set,Tb=Sb.getterFor("URL"),oP=Math.floor,cA=Math.pow,dA=/[A-Za-z]/,pP=/[\d+-.A-Za-z]/,Bq=/\d/,qP=/^(0x|0X)/,rP=/^[0-7]+$/,sP=/^\d+$/,eA=/^[\dA-Fa-f]+$/,tP=/[\0\t\n\r #%/:?@[\\]]/,uP=/[\0\t\n\r #/:?@[\\]]/,vP=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,wP=/[\t\n\r]/g,Cq=function(t,n){var r;if("["==n.charAt(0)){if("]"!=n.charAt(n.length-1))return"Invalid host";var o=xP(n.slice(1,-1));if(!o)return"Invalid host"}else if(rc(t)){for(o=[],n=n.toLowerCase().replace(fP,".").split("."),r=0;r<n.length;r++){var i=n[r],s=o,a=s.push;if(eP.test(i)){var u=i;i=[];var c=u;u=[];for(var l=0,f=c.length;l<f;){var p=c.charCodeAt(l++);if(55296<=p&&56319>=p&&l<f){var h=c.charCodeAt(l++);56320==(64512&h)?u.push(((1023&p)<<10)+(1023&h)+65536):(u.push(p),l--)}else u.push(p)}l=u.length,f=128;var d=0,g=72;for(c=0;c<u.length;c++){var v=u[c];128>v&&i.push(yq(v))}for((h=p=i.length)&&i.push("-");h<l;){var y=2147483647;for(c=0;c<u.length;c++)(v=u[c])>=f&&v<y&&(y=v);var b=h+1;if(y-f>Zh((2147483647-d)/b))throw RangeError("Overflow: input needs wider integers to process");for(d+=(y-f)*b,f=y,c=0;c<u.length;c++){if((v=u[c])<f&&2147483647<++d)throw RangeError("Overflow: input needs wider integers to process");if(v==f){var m=d;for(v=36;!(m<(y=v<=g?1:v>=g+26?26:v-g));v+=36){var E=36-y,_=i;y+=(m-=y)%E,_.push.call(_,yq(y+22+75*(26>y))),m=Zh(m/E)}for(i.push(yq(m+22+75*(26>m))),g=b,v=0,d=h==p?Zh(d/700):d>>1,d+=Zh(d/g);455<d;v+=36)d=Zh(d/35);g=Zh(v+36*d/(d+38)),d=0,++h}}++d,++f}i="xn--"+i.join("")}a.call(s,i)}if(n=o.join("."),tP.test(n)||null===(o=yP(n)))return"Invalid host"}else{if(uP.test(n))return"Invalid host";for(o="",n=hg(n),r=0;r<n.length;r++)o+=Qf(n[r],Yl)}t.host=o},yP=function(t){var n,r=t.split(".");r.length&&""==r[r.length-1]&&r.pop();var o=r.length;if(4<o)return t;var i=[];for(n=0;n<o;n++){var s=r[n];if(""==s)return t;var a=10;if(1<s.length&&"0"==s.charAt(0)&&(a=qP.test(s)?16:8,s=s.slice(8==a?1:2)),""===s)s=0;else{if(!(10==a?sP:8==a?rP:eA).test(s))return t;s=parseInt(s,a)}i.push(s)}for(n=0;n<o;n++)if(s=i[n],n==o-1){if(s>=cA(256,5-o))return null}else if(255<s)return null;for(t=i.pop(),n=0;n<i.length;n++)t+=i[n]*cA(256,3-n);return t},xP=function(t){var n,r,o=[0,0,0,0,0,0,0,0],i=0,s=null,a=0,u=function(){return t.charAt(a)};if(":"==u()){if(":"!=t.charAt(1))return;a+=2,s=++i}for(;u();){if(8==i)return;if(":"==u()){if(null!==s)return;a++,s=++i}else{for(n=r=0;4>r&&eA.test(u());)n=16*n+parseInt(u(),16),a++,r++;if("."==u()){if(0==r||(a-=r,6<i))return;for(n=0;u();){if(r=null,0<n){if(!("."==u()&&4>n))return;a++}if(!Bq.test(u()))return;for(;Bq.test(u());){var c=parseInt(u(),10);if(null===r)r=c;else{if(0==r)return;r=10*r+c}if(255<r)return;a++}o[i]=256*o[i]+r,2!=++n&&4!=n||i++}if(4!=n)return;break}if(":"==u()){if(a++,!u())return}else if(u())return;o[i++]=n}}if(null!==s)for(u=i-s,i=7;0!=i&&0<u;)n=o[i],o[i--]=o[s+u-1],o[s+--u]=n;else if(8!=i)return;return o},zj=function(t){var n,r;if("number"==typeof t){var o=[];for(n=0;4>n;n++)o.unshift(t%256),t=oP(t/256);return o.join(".")}if("object"==typeof t){o="",n=null;for(var i=1,s=null,a=0,u=0;8>u;u++)0!==t[u]?(a>i&&(n=s,i=a),s=null,a=0):(null===s&&(s=u),++a);for(a>i&&(n=s),i=n,n=0;8>n;n++)r&&0===t[n]||(r&&(r=!1),i===n?(o+=n?":":"::",r=!0):(o+=t[n].toString(16),7>n&&(o+=":")));return"["+o+"]"}return t},Yl={},fA=Vi({},Yl,{" ":1,'"':1,"<":1,">":1,"`":1}),gA=Vi({},fA,{"#":1,"?":1,"{":1,"}":1}),Dq=Vi({},gA,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Qf=function(t,n){var r=fD(t,0);return 32<r&&127>r&&!Fa(n,t)?t:encodeURIComponent(t)},Zl={ftp:21,file:null,http:80,https:443,ws:80,wss:443},rc=function(t){return Fa(Zl,t.scheme)},Eq=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Aj=function(t,n){var r;return 2==t.length&&dA.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!n&&"|"==r)},hA=function(t){var n;return 1<t.length&&Aj(t.slice(0,2))&&(2==t.length||"/"===(n=t.charAt(2))||"\\"===n||"?"===n||"#"===n)},iA=function(t){var n=t.path,r=n.length;!r||"file"==t.scheme&&1==r&&Aj(n[0],!0)||n.pop()},Fq={},jA={},Gq={},kA={},lA={},Hq={},mA={},nA={},$l={},am={},Iq={},Jq={},Kq={},Lq={},oA={},Mq={},Bj={},ze={},pA={},Gg={},hf={},Ae=function(t,n,r,o){var i=r||Fq,s=0,a="",u=!1,c=!1,l=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,n=n.replace(vP,"")),n=n.replace(wP,""),n=hg(n);s<=n.length;){var f=n[s];switch(i){case Fq:if(!f||!dA.test(f)){if(r)return"Invalid scheme";i=Gq;continue}a+=f.toLowerCase(),i=jA;break;case jA:if(f&&(pP.test(f)||"+"==f||"-"==f||"."==f))a+=f.toLowerCase();else{if(":"!=f){if(r)return"Invalid scheme";a="",i=Gq,s=0;continue}if(r&&(rc(t)!=Fa(Zl,a)||"file"==a&&(""!=t.username||""!=t.password||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=a,r)return void(rc(t)&&Zl[t.scheme]==t.port&&(t.port=null));a="","file"==t.scheme?i=Lq:rc(t)&&o&&o.scheme==t.scheme?i=kA:rc(t)?i=nA:"/"==n[s+1]?(i=lA,s++):(t.cannotBeABaseURL=!0,t.path.push(""),i=pA)}break;case Gq:if(!o||o.cannotBeABaseURL&&"#"!=f)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==f){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,i=hf;break}i="file"==o.scheme?Lq:Hq;continue;case kA:if("/"!=f||"/"!=n[s+1]){i=Hq;continue}i=$l,s++;break;case lA:if("/"==f){i=am;break}i=ze;continue;case Hq:if(t.scheme=o.scheme,null==f)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==f||"\\"==f&&rc(t))i=mA;else if("?"==f)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",i=Gg;else{if("#"!=f){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),i=ze;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",i=hf}break;case mA:if(rc(t)&&("/"==f||"\\"==f))i=$l;else{if("/"!=f){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,i=ze;continue}i=am}break;case nA:if(i=$l,"/"!=f||"/"!=a.charAt(s+1))continue;s++;break;case $l:if("/"!=f&&"\\"!=f){i=am;continue}break;case am:if("@"==f){for(u&&(a="%40"+a),u=!0,a=hg(a),f=0;f<a.length;f++){var p=a[f];":"!=p||l?(p=Qf(p,Dq),l?t.password+=p:t.username+=p):l=!0}a=""}else if(null==f||"/"==f||"?"==f||"#"==f||"\\"==f&&rc(t)){if(u&&""==a)return"Invalid authority";s-=hg(a).length+1,a="",i=Iq}else a+=f;break;case Iq:case Jq:if(r&&"file"==t.scheme){i=Mq;continue}if(":"!=f||c){if(null==f||"/"==f||"?"==f||"#"==f||"\\"==f&&rc(t)){if(rc(t)&&""==a)return"Invalid host";if(r&&""==a&&(""!=t.username||""!=t.password||null!==t.port))return;if(i=Cq(t,a))return i;if(a="",i=Bj,r)return;continue}"["==f?c=!0:"]"==f&&(c=!1),a+=f}else{if(""==a)return"Invalid host";if(i=Cq(t,a))return i;if(a="",i=Kq,r==Jq)return}break;case Kq:if(!Bq.test(f)){if(null==f||"/"==f||"?"==f||"#"==f||"\\"==f&&rc(t)||r){if(""!=a){if(65535<(i=parseInt(a,10)))return"Invalid port";t.port=rc(t)&&i===Zl[t.scheme]?null:i,a=""}if(r)return;i=Bj;continue}return"Invalid port"}a+=f;break;case Lq:if(t.scheme="file","/"==f||"\\"==f)i=oA;else{if(!o||"file"!=o.scheme){i=ze;continue}if(null==f)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==f)t.host=o.host,t.path=o.path.slice(),t.query="",i=Gg;else{if("#"!=f){hA(n.slice(s).join(""))||(t.host=o.host,t.path=o.path.slice(),iA(t)),i=ze;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",i=hf}}break;case oA:if("/"==f||"\\"==f){i=Mq;break}o&&"file"==o.scheme&&!hA(n.slice(s).join(""))&&(Aj(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),i=ze;continue;case Mq:if(null==f||"/"==f||"\\"==f||"?"==f||"#"==f){if(!r&&Aj(a))i=ze;else{if(""==a){if(t.host="",r)return}else{if(i=Cq(t,a))return i;if("localhost"==t.host&&(t.host=""),r)return;a=""}i=Bj}continue}a+=f;break;case Bj:if(rc(t)){if(i=ze,"/"!=f&&"\\"!=f)continue}else if(r||"?"!=f){if(r||"#"!=f){if(null!=f&&(i=ze,"/"!=f))continue}else t.fragment="",i=hf}else t.query="",i=Gg;break;case ze:if(null==f||"/"==f||"\\"==f&&rc(t)||!r&&("?"==f||"#"==f)){if(".."===(p=(p=a).toLowerCase())||"%2e."===p||".%2e"===p||"%2e%2e"===p?(iA(t),"/"==f||"\\"==f&&rc(t)||t.path.push("")):"."===a||"%2e"===a.toLowerCase()?"/"==f||"\\"==f&&rc(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Aj(a)&&(t.host&&(t.host=""),a=a.charAt(0)+":"),t.path.push(a)),a="","file"==t.scheme&&(null==f||"?"==f||"#"==f))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==f?(t.query="",i=Gg):"#"==f&&(t.fragment="",i=hf)}else a+=Qf(f,gA);break;case pA:"?"==f?(t.query="",i=Gg):"#"==f?(t.fragment="",i=hf):null!=f&&(t.path[0]+=Qf(f,Yl));break;case Gg:r||"#"!=f?null!=f&&("'"==f&&rc(t)?t.query+="%27":t.query="#"==f?t.query+"%23":t.query+Qf(f,Yl)):(t.fragment="",i=hf);break;case hf:null!=f&&(t.fragment+=Qf(f,fA))}s++}},Rf=function(t){var n=Ud(this,Rf,"URL"),r=1<arguments.length?arguments[1]:void 0,o=String(t),i=nP(n,{type:"URL"});if(void 0!==r){if(r instanceof Rf)var s=Tb(r);else if(r=Ae(s={},String(r)))throw TypeError(r)}if(r=Ae(i,o,null,s))throw TypeError(r);var a=i.searchParams=new mP;(o=od(a)).updateSearchParams(i.query),o.updateURL=function(){i.query=String(a)||null},cb||(n.href=bm.call(n),n.origin=qA.call(n),n.protocol=rA.call(n),n.username=sA.call(n),n.password=tA.call(n),n.host=uA.call(n),n.hostname=vA.call(n),n.port=wA.call(n),n.pathname=xA.call(n),n.search=yA.call(n),n.searchParams=zA.call(n),n.hash=AA.call(n))},Nq=Rf.prototype,bm=function(){var t=Tb(this),n=t.scheme,r=t.username,o=t.password,i=t.host,s=t.port,a=t.path,u=t.query,c=t.fragment,l=n+":";return null!==i?(l+="//",""==t.username&&""==t.password||(l+=r+(o?":"+o:"")+"@"),l+=zj(i),null!==s&&(l+=":"+s)):"file"==n&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(l+="?"+u),null!==c&&(l+="#"+c),l},qA=function(){var t=Tb(this),n=t.scheme,r=t.port;if("blob"==n)try{return new Rf(n.path[0]).origin}catch(o){return"null"}return"file"!=n&&rc(t)?n+"://"+zj(t.host)+(null!==r?":"+r:""):"null"},rA=function(){return Tb(this).scheme+":"},sA=function(){return Tb(this).username},tA=function(){return Tb(this).password},uA=function(){var t=Tb(this),n=t.host;return t=t.port,null===n?"":null===t?zj(n):zj(n)+":"+t},vA=function(){var t=Tb(this).host;return null===t?"":zj(t)},wA=function(){var t=Tb(this).port;return null===t?"":String(t)},xA=function(){var t=Tb(this),n=t.path;return t.cannotBeABaseURL?n[0]:n.length?"/"+n.join("/"):""},yA=function(){var t=Tb(this).query;return t?"?"+t:""},zA=function(){return Tb(this).searchParams},AA=function(){var t=Tb(this).fragment;return t?"#"+t:""},Kd=function(t,n){return{get:t,set:n,configurable:!0,enumerable:!0}};if(cb&&vt(Nq,{href:Kd(bm,function(t){var n=Tb(this);if(t=Ae(n,String(t)))throw TypeError(t);od(n.searchParams).updateSearchParams(n.query)}),origin:Kd(qA),protocol:Kd(rA,function(t){Ae(Tb(this),String(t)+":",Fq)}),username:Kd(sA,function(t){var n=Tb(this);if(t=hg(String(t)),!Eq(n)){n.username="";for(var r=0;r<t.length;r++)n.username+=Qf(t[r],Dq)}}),password:Kd(tA,function(t){var n=Tb(this);if(t=hg(String(t)),!Eq(n)){n.password="";for(var r=0;r<t.length;r++)n.password+=Qf(t[r],Dq)}}),host:Kd(uA,function(t){var n=Tb(this);n.cannotBeABaseURL||Ae(n,String(t),Iq)}),hostname:Kd(vA,function(t){var n=Tb(this);n.cannotBeABaseURL||Ae(n,String(t),Jq)}),port:Kd(wA,function(t){var n=Tb(this);Eq(n)||(""==(t=String(t))?n.port=null:Ae(n,t,Kq))}),pathname:Kd(xA,function(t){var n=Tb(this);n.cannotBeABaseURL||(n.path=[],Ae(n,t+"",Bj))}),search:Kd(yA,function(t){var n=Tb(this);""==(t=String(t))?n.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),n.query="",Ae(n,t,Gg)),od(n.searchParams).updateSearchParams(n.query)}),searchParams:Kd(zA),hash:Kd(AA,function(t){var n=Tb(this);""==(t=String(t))?n.fragment=null:("#"==t.charAt(0)&&(t=t.slice(1)),n.fragment="",Ae(n,t,hf))})}),Ob(Nq,"toJSON",function(){return bm.call(this)},{enumerable:!0}),Ob(Nq,"toString",function(){return bm.call(this)},{enumerable:!0}),yj){var BA=yj.createObjectURL,CA=yj.revokeObjectURL;BA&&Ob(Rf,"createObjectURL",function(t){return BA.apply(yj,arguments)}),CA&&Ob(Rf,"revokeObjectURL",function(t){return CA.apply(yj,arguments)})}Td(Rf,"URL"),wa({global:!0,forced:!xq,sham:!cb},{URL:Rf});var zP=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]),AP=window.URL.createObjectURL(zP),gh={},xi=0,Xm=new Worker(AP);Xm.onmessage=function(t){if(t=t.data.fakeId,gh.hasOwnProperty(t)){var n=gh[t];t=n.callback,n=n.parameters,t.apply(window,n)}};var BP=function(t){function n(){return ab(this,n),r.apply(this,arguments)}nb(n,t);var r=ob(n);return Qb(n,[{key:"requestAsyncId",value:function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return BC(t.flush.bind(t,this),r)}},{key:"recycleAsyncId",value:function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&this.delay===r&&!1===this.pending)return n;gh.hasOwnProperty(n)&&(delete gh[n],Xm.postMessage({name:"clearInterval",fakeId:n}))}}]),n}(Sz),CP=new Uz(BP),DP=["group"],Oq=X.inflate,DA=X.deflate,Pq=function(t){function n(t,r,i,s){ab(this,n);var a=o.call(this,s,"Session");return E(L(a),"lastNoticeTicket",""),E(L(a),"chatManager",void 0),E(L(a),"usedChannelIds",[]),E(L(a),"lastUserMeteUpdateRecord",{}),E(L(a),"lastChannelMetaUpdateRecord",{}),E(L(a),"msgDedupLru",new ue(void 0,{maxlen:200})),E(L(a),"startTime",Date.now()),E(L(a),"seq",D.fromNumber(1,!0)),E(L(a),"userJoinOptions",new Pz(!1)),E(L(a),"seqSentStatuses",[!1,!1]),E(L(a),"dialogueSequenceLru",new ue(void 0,{maxlen:1e4})),E(L(a),"loggedOut",!1),E(L(a),"messageSentTimes",[]),E(L(a),"curLoginSockets",[void 0,void 0]),E(L(a),"loginSocketSubs",[{channels:new Map,receivers:[]},{channels:new Map,receivers:[]}]),E(L(a),"lastLoginSockets",[new ah(1),new ah(1)]),E(L(a),"dialPendingMsgSubjectMap",new Map),E(L(a),"context",void 0),E(L(a),"connection",void 0),E(L(a),"instanceId",void 0),E(L(a),"lastPingTime",void 0),E(L(a),"chanelStringMessageReport",void 0),E(L(a),"chanelRawMessageReport",void 0),E(L(a),"p2pSMsgNoOfflineReport",void 0),E(L(a),"p2pRMsgNoOfflineReport",void 0),E(L(a),"registerSocketsFailureListener",function(){a.connection.once("socketsFailure",function(){a.log("socketsFailure, creating a new connection"),lf(function(){return a.connection.removeAllListeners(),a.connection=new Gx(a.context,a.logger,!0),a.loginHandler(15e3,!0)}).pipe(Zg(function(t){return t.pipe(mf(wg.getParameter("RECONNECTING_AP_INTERVAL")))}),he(a.connection.apClient.apFinish$)).subscribe(function(){a.log("new connection connected")})}),0===a.connection.listenerCount("tokenExpired")&&a.connection.on("tokenExpired",function(){a.emit("tokenExpired")})}),a.context=t,a.context.startTime=a.startTime,a.connection=r,a.instanceId=i,a.chatManager=new QO(s),a.lastPingTime=[0,0],a.setMaxListeners(512),a.log("The instanceId is %s",a.instanceId.toString()),a.chanelStringMessageReport=new Wl(t,s,vb.ChannelSMsg),a.chanelRawMessageReport=new Wl(t,s,vb.ChannelRMsg),a.p2pSMsgNoOfflineReport=new Wl(t,s,vb.P2pSMsgNoOfflineFlag),a.p2pRMsgNoOfflineReport=new Wl(t,s,vb.P2pRMsgNoOfflineFlag),a}nb(n,t);var r,o=ob(n);return Qb(n,[{key:"loginHandler",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12e3,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.loggedOut&&r)throw new ia("Already logged out, request ignored");r&&this.registerSocketsFailureListener(),this.connection.initConnection();var o=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),i=Date.now();return o.forEach(function(n,o){var s=t.loginSocketSubs[o].login;void 0!==s&&s.unsubscribe(),t.loginSocketSubs[o].login=n.pipe(Ka(function(n){t.curLoginSockets[o]=n;var s,a=Date.now();$a("Link",{ackedServerIp:n.address,destServerIp:n.ip,ec:0,sc:0,elapse:Nb(t.startTime),lts:D.fromNumber(a),responseTime:a-i,sid:fc(t.instanceId),userId:t.context.uid},null!==(s=t.context.config.enableCloudProxy)&&void 0!==s&&s),t.emit("userJoined",n.env),r&&t.connection.apClient.apFinish$.next(void 0)})).subscribe(t.lastLoginSockets[o])}),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),Nc.apply(void 0,ra(o).concat([Bc(this.connection,"connectionInitFailure").pipe(Ka(function(t){if(Sa(t)||uc(t))throw t;throw new Pa("Login failure",{code:Ew,originalError:t})}))])).pipe(Xb(1),Oc(n),Rb(function(n){return n instanceof ad&&t.warn("Client login timeout"),n&&n.code===bl&&(t.connection.emit("tokenExpired"),t.connection.apClient.apFinish$.next(void 0)),t.clearSockets(0,r),Va(n)}),Ka(function(){r||t.registerSocketsFailureListener()}),Mj(function(){r||t.connection.apClient.apFinish$.next(void 0)}))}},{key:"logoutHandler",value:(r=za(W.mark(function t(){var n,r,o,i,s=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),n=this.incGetSeq(),o=(r=this.getLoginSockets()).map(function(t){var r,o;return t.sendPacket("StateUnsubscribe",{sequence:n,target:s.context.uid,subTarget:"",flags:D.fromNumber(0)}),delete s.lastUserMeteUpdateRecord[s.context.sid],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:s.context.uid,vid:null!==(r=s.context)&&void 0!==r&&r.vid?D.fromString(s.context.vid):D.fromNumber(0),sid:"",usersid:s.context.sid,target:s.context.uid,requestts:D.fromNumber(Date.now()),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:n,index:{index1:s.context.uid,index2:s.context.appId,index3:"enableLogUpload=".concat(s.context.config.enableLogUpload)},subtarget:s.context.uid},null!==(o=s.context.config.enableCloudProxy)&&void 0!==o&&o),t.sendPacket("UserQuit",{}),s.connection.waitClosing(t)}),this.clearSockets(5e3),i=r.map(function(t){return t.env}),[0,1].filter(function(t){return!i.includes(t)}).forEach(function(t){s.connection.closeSocket(t,0)}),t.abrupt("return",Nc.apply(void 0,ra(o)).toPromise());case 10:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var t=za(W.mark(function t(n){var r,o,i,s=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.getLoginSockets().length){t.next=2;break}throw new ia("Client is not logged in. Cannot join the channel",Aw);case 2:return r=Bc(this,"channelLeft").pipe(sc(function(t){return n===t}),Xb(1)),o=this.incGetSeq(),(i=this.lastLoginSockets.map(function(t){return t.pipe(Cc(function(t,r){0!==r&&s.incSeqIfNeeded(t.env);var i=0===r?o:s.seq;return t.sendPacket("GroupEnter",{account:n,seq:i}),t.fromReceived("GroupReply").pipe(La(function(t){return i.eq(t.seq)}),Ka(function(t){if(0!==(t=t.code))throw new Pa(["Channel join failure. The response code is %d",t],ww)}))}),he(r),$g())})).forEach(function(t,r){var o=function(){return s.loginSocketSubs[r].channels.delete(n)};s.loginSocketSubs[r].channels.set(n,t.subscribe({error:o,complete:o}))}),t.next=8,Nc.apply(void 0,ra(i)).pipe(Xb(1),Oc(1e4),Rb(function(t){return t instanceof ad&&s.warn("Channel join timeout"),Va(t)})).toPromise();case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(t){this.getLoginSockets().forEach(function(n){n.sendPacket("GroupLeave",{account:t})})}},{key:"requestUpdateEdgeTicket",value:function(t){var r=this,o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in. Cannot renew token",Mw);var i=this.incGetSeq();return o.forEach(function(n){n.sendPacket("UserRenewTokenReq",{instance:r.instanceId,seq:i,account:r.context.uid,ticket:t})}),bb.apply(void 0,[n.genTimeoutError(jp)].concat(ra(o.map(function(t){return t.fromReceived("UserRenewTokenResp").pipe(La(function(t){var n=t.code;return i.eq(t.seq)&&0===n}))}))))}},{key:"requestChannelMemberList",value:function(t){var r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in. Cannot get the channel members",wI);var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("GroupAllUsersList",{group:t,pageNumber:0,pageSize:200,seq:o})}),bb.apply(void 0,[n.genTimeoutError(uw)].concat(ra(r.map(function(n){return n.fromReceived("GroupAllUsersResult").pipe(La(function(n){var r=n.seq;return n.group===t&&o.eq(r)}))}))))}},{key:"requestPeersOnlineStatus",value:function(t){var r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in");var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("UserStatusList",{users:t,seq:o})}),bb.apply(void 0,[n.genTimeoutError(II)].concat(ra(r.map(function(t){return t.fromReceived("UserStatusResult").pipe(La(function(t){return o.eq(t.seq)}))}))))}},{key:"requestSetLocalUserAttributes",value:function(t,r){var o=this,i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(n,i){void 0!==r&&i!==r||n.sendPacket("UserAttributeSet",{account:o.context.uid,attributeInfos:Object.entries(t).map(function(t){return{key:(t=Lb(t,2))[0],value:t[1]}}),seq:s})}),bb.apply(void 0,ra(i.map(function(t){return t.fromReceived("UserAttributeErr").pipe(La(function(t){return s.eq(t.seq)}),Wa(function(t){throw new Pa(["The user attributes set failure, code %d",t.code],Ad)}))})).concat([n.genTimeoutError(Bd)],ra(i.map(function(t){return t.fromReceived("UserAttributeRsp").pipe(La(function(t){return s.eq(t.seq)}))}))))}},{key:"requestSetChannelAttributes",value:function(t,r,o){var i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(n){n.sendPacket("GroupAttributeSet",{broadcast:o,group:t,attributeInfos:Object.entries(r).map(function(t){return{key:(t=Lb(t,2))[0],value:t[1]}}),seq:s})}),bb.apply(void 0,ra(i.map(function(t){return t.fromReceived("GroupAttributeErr").pipe(La(function(t){return s.eq(t.seq)}),Wa(function(t){throw new Pa(["The group attributes set failure, code %d",t.code],Ad)}))})).concat([n.genTimeoutError(Bd)],ra(i.map(function(t){return t.fromReceived("GroupAttributeRsp").pipe(La(function(t){return s.eq(t.seq)}))}))))}},{key:"requestAddOrUpdateLocalUserAttributes",value:function(t){var r=this,o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in");var i=this.incGetSeq();return o.forEach(function(n){n.sendPacket("UserAttributeMod",{account:r.context.uid,attributeInfos:Object.entries(t).map(function(t){return{key:(t=Lb(t,2))[0],value:t[1]}}),seq:i})}),bb.apply(void 0,ra(o.map(function(t){return t.fromReceived("UserAttributeErr").pipe(La(function(t){return i.eq(t.seq)}),Wa(function(t){throw new Pa(["The user attributes add or update failure, code %d",t.code],Ad)}))})).concat([n.genTimeoutError(Bd)],ra(o.map(function(t){return t.fromReceived("UserAttributeRsp").pipe(La(function(t){return i.eq(t.seq)}))}))))}},{key:"requestAddOrUpdateChannelAttributes",value:function(t,r,o){var i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(n){n.sendPacket("GroupAttributeMod",{broadcast:o,group:t,attributeInfos:Object.entries(r).map(function(t){return{key:(t=Lb(t,2))[0],value:t[1]}}),seq:s})}),bb.apply(void 0,ra(i.map(function(t){return t.fromReceived("GroupAttributeErr").pipe(La(function(t){return s.eq(t.seq)}),Wa(function(t){throw new Pa(["The group attributes add or update failure, code %d",t.code],Ad)}))})).concat([n.genTimeoutError(Bd)],ra(i.map(function(t){return t.fromReceived("GroupAttributeRsp").pipe(La(function(t){return s.eq(t.seq)}))}))))}},{key:"requestDeleteLocalUserAttributesByKeys",value:function(t){var r=this,o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in");var i=this.incGetSeq();return o.forEach(function(n){n.sendPacket("UserAttributeDel",{account:r.context.uid,attributes:t,seq:i})}),bb.apply(void 0,ra(o.map(function(t){return t.fromReceived("UserAttributeErr").pipe(La(function(t){return i.eq(t.seq)}),Wa(function(t){throw new Pa(["The user attributes delete failure, code %d",t.code],Ad)}))})).concat([n.genTimeoutError(Bd)],ra(o.map(function(t){return t.fromReceived("UserAttributeRsp").pipe(La(function(t){return i.eq(t.seq)}))}))))}},{key:"requestGetChannelMetaData",value:function(t){var r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in. Cannot get the channel metadata",oc);if(void 0!==this.context.lastGetMetaDataTime&&250>Date.now()-this.context.lastGetMetaDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastGetMetaDataTime=Date.now();var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("StateGet",{target:t,subTarget:"",lock:"",sequence:o,flags:new D(1,0,!0),lockRev:D.fromNumber(0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(r.map(function(t){return t.fromReceived("StateGetResult").pipe(La(function(t){return o.eq(t.sequence)}),Wa(function(t){var n=t.code;if(t=t.allStates,ud(n)!==bd)throw new Pa(["Get metaData failure. The response code from the RTM service is %d",n],He);return t}))}))))}},{key:"requestGetLocalMetaData",value:function(t){var r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in. Cannot get the local metaData",oc);if(void 0!==this.context.lastGetMetaDataTime&&250>Date.now()-this.context.lastGetMetaDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastGetMetaDataTime=Date.now();var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("StateGet",{target:t,subTarget:"",lock:"",sequence:o,flags:D.fromNumber(0),lockRev:D.fromNumber(0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(r.map(function(t){return t.fromReceived("StateGetResult").pipe(La(function(t){return o.eq(t.sequence)}),Wa(function(t){var n=t.code;if(t=t.allStates,ud(n)!==bd)throw new Pa(["Get metaData failure. The response code from the RTM service is %d",n],He);return t}))}))))}},{key:"requestDeleteChannelAttributesByKeys",value:function(t,r,o){var i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(n){n.sendPacket("GroupAttributeDel",{group:t,broadcast:o,attributes:r,seq:s})}),bb.apply(void 0,ra(i.map(function(t){return t.fromReceived("GroupAttributeErr").pipe(La(function(t){return s.eq(t.seq)}),Wa(function(t){throw new Pa(["The channel attributes delete failure, code %d",t.code],Ad)}))})).concat([n.genTimeoutError(Bd)],ra(i.map(function(t){return t.fromReceived("GroupAttributeRsp").pipe(La(function(t){return s.eq(t.seq)}))}))))}},{key:"requestClearLocalUserAttributes",value:function(){var t=this,r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in");var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("UserAttributeSet",{account:t.context.uid,seq:o,attributeInfos:[]})}),bb.apply(void 0,ra(r.map(function(t){return t.fromReceived("UserAttributeErr").pipe(La(function(t){return o.eq(t.seq)}),Wa(function(t){throw new Pa(["The user attributes clear failure, code %d",t.code],Ad)}))})).concat([n.genTimeoutError(Bd)],ra(r.map(function(t){return t.fromReceived("UserAttributeRsp").pipe(La(function(t){return o.eq(t.seq)}))}))))}},{key:"requestClearChannelAttributes",value:function(t,r){var o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in");var i=this.incGetSeq();return o.forEach(function(n){n.sendPacket("GroupAttributeSet",{group:t,seq:i,attributeInfos:[],broadcast:r})}),bb.apply(void 0,ra(o.map(function(t){return t.fromReceived("GroupAttributeErr").pipe(La(function(t){return i.eq(t.seq)}),Wa(function(t){throw new Pa(["The channel attributes clear failure, code %d",t.code],Ad)}))})).concat([n.genTimeoutError(Bd)],ra(o.map(function(t){return t.fromReceived("GroupAttributeRsp").pipe(La(function(t){return i.eq(t.seq)}))}))))}},{key:"requestAddChannelMetadata",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},i=2<arguments.length?arguments[2]:void 0,s=this.getLoginSockets();if(0===s.length)throw new ia("Client is not logged in");if(o.majorRevision&&(-1>o.majorRevision||0!=o.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:t,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Add"}),void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var a=this.incGetSeq(),u=JSON.stringify(pf(Pd.cloneDeep(t).map(function(t){return t.setRevision(0),t}),o.majorRevision)),c=Date.now();return s.forEach(function(t){t.sendPacket("StateModify",{sequence:a,target:i,requestUuid:"".concat(a,"_").concat(r.instanceId),lock:"",lockRev:D.fromNumber(0),value:u,baseRevision:D.fromNumber(0),author:o.enableRecordUserId?r.context.uid:"",flags:o.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(s.map(function(t){return t.fromReceived("StateRequestResult").pipe(La(function(t){return a.eq(t.sequence)}),Wa(function(t){var n,s,u=ud(t=t.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:r.context.uid,vid:D.fromString(null!==(n=r.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:r.context.sid,requestts:D.fromNumber(c),replyts:D.fromNumber(Date.now()),target:i,eventtype:"Add",revision:D.fromNumber(0),uuid:"".concat(a,"_").concat(r.instanceId),sdktype:3,flags:o.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:u,seq:a,index:{index1:i,index2:r.context.appId,index3:"enableLogUpload=".concat(r.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:r.context.uid},null!==(s=r.context.config.enableCloudProxy)&&void 0!==s&&s),u!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",t],u)}))}))))}},{key:"requestUpdateChannelMetadata",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},i=2<arguments.length?arguments[2]:void 0,s=this.getLoginSockets();if(0===s.length)throw new ia("Client is not logged in");if(o.majorRevision&&(-1>o.majorRevision||0!=o.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(0===o.majorRevision)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:t,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Update"}),void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var a=this.incGetSeq(),u=JSON.stringify(pf(Pd.cloneDeep(t).map(function(t){return -1===t.getRevision()&&t.setRevision(-2),t}),o.majorRevision)),c=Date.now();return s.forEach(function(t){t.sendPacket("StateModify",{sequence:a,target:i,requestUuid:"".concat(a,"_").concat(r.instanceId),lock:"",lockRev:D.fromNumber(0),value:u,baseRevision:D.fromNumber(0),author:o.enableRecordUserId?r.context.uid:"",flags:o.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(s.map(function(t){return t.fromReceived("StateRequestResult").pipe(La(function(t){return a.eq(t.sequence)}),Wa(function(t){var n,s,u=ud(t=t.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:r.context.uid,vid:D.fromString(null!==(n=r.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:r.context.sid,requestts:D.fromNumber(c),replyts:D.fromNumber(Date.now()),target:i,eventtype:"Update",revision:D.fromNumber(0),uuid:"".concat(a,"_").concat(r.instanceId),sdktype:3,flags:o.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:u,seq:a,index:{index1:r.context.uid,index2:r.context.appId,index3:"enableLogUpload=".concat(r.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:r.context.uid},null!==(s=r.context.config.enableCloudProxy)&&void 0!==s&&s),u!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",t],u)}))}))))}},{key:"requestDeleteChannelMetadata",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},i=2<arguments.length?arguments[2]:void 0,s=this.getLoginSockets();if(0===s.length)throw new ia("Client is not logged in");if(o.majorRevision&&(-1>o.majorRevision||0!=o.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(0===o.majorRevision)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:t,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Delete"}),void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var a=this.incGetSeq(),u=JSON.stringify(pf(Pd.cloneDeep(t).map(function(t){return t.setValue(null),t}),o.majorRevision)),c=Date.now();return s.forEach(function(t){t.sendPacket("StateModify",{sequence:a,target:i,requestUuid:"".concat(a,"_").concat(r.instanceId),lock:"",lockRev:D.fromNumber(0),value:u,baseRevision:D.fromNumber(0),author:o.enableRecordUserId?r.context.uid:"",flags:o.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(s.map(function(t){return t.fromReceived("StateRequestResult").pipe(La(function(t){return a.eq(t.sequence)}),Wa(function(t){var n,s,u=ud(t=t.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:r.context.uid,vid:D.fromString(null!==(n=r.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:r.context.sid,requestts:D.fromNumber(c),replyts:D.fromNumber(Date.now()),target:i,eventtype:"Delete",revision:D.fromNumber(0),uuid:"".concat(a,"_").concat(r.instanceId),sdktype:3,flags:o.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:u,seq:a,index:{index1:r.context.uid,index2:r.context.appId,index3:"enableLogUpload=".concat(r.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:r.context.uid},null!==(s=r.context.config.enableCloudProxy)&&void 0!==s&&s),u!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",t],He)}))}))))}},{key:"requestSetChannelMetadata",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},i=2<arguments.length?arguments[2]:void 0,s=this.getLoginSockets();if(0===s.length)throw new ia("Client is not logged in");if(o.majorRevision&&(-1>o.majorRevision||0!=o.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:t,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Set"}),void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var a=this.incGetSeq(),u=Date.now();return s.forEach(function(n){n.sendPacket("StateSet",{sequence:a,target:i,requestUuid:"".concat(a,"_").concat(r.instanceId),value:JSON.stringify(pf(t,o.majorRevision)),lock:"",lockRev:D.fromNumber(0),baseRevision:D.fromNumber(0),author:o.enableRecordUserId?r.context.uid:"",flags:o.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(s.map(function(t){return t.fromReceived("StateRequestResult").pipe(La(function(t){return a.eq(t.sequence)}),Wa(function(t){var n,s,c=ud(t=t.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:r.context.uid,vid:D.fromString(null!==(n=r.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:r.context.sid,requestts:D.fromNumber(u),replyts:D.fromNumber(Date.now()),target:i,eventtype:"Set",revision:D.fromNumber(0),uuid:"".concat(a,"_").concat(r.instanceId),sdktype:3,flags:o.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:c,seq:a,index:{index1:r.context.uid,index2:r.context.appId,index3:"enableLogUpload=".concat(r.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:r.context.uid},null!==(s=r.context.config.enableCloudProxy)&&void 0!==s&&s),c!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",t],c)}))}))))}},{key:"requestClearChannelMetadata",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},o=1<arguments.length?arguments[1]:void 0,i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");if(r.majorRevision&&-1>r.majorRevision&&0==r.majorRevision%1)throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(0===r.majorRevision)throw new ja("MajorRevision can not be set to 0",of);if(void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var s=this.incGetSeq(),a=Date.now();return i.forEach(function(n){n.sendPacket("StateSet",{sequence:s,target:o,requestUuid:"".concat(s,"_").concat(t.instanceId),lock:"",lockRev:D.fromNumber(0),value:JSON.stringify({}),baseRevision:D.fromNumber(0),author:r.enableRecordUserId?t.context.uid:"",flags:r.enableRecordTs?new D(589825,0,!0):new D(65537,0,!0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(i.map(function(n){return n.fromReceived("StateRequestResult").pipe(La(function(t){return s.eq(t.sequence)}),Wa(function(n){var i,u,c=ud(n=n.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:t.context.uid,vid:D.fromString(null!==(i=t.context.vid)&&void 0!==i?i:"0"),sid:"",usersid:t.context.sid,requestts:D.fromNumber(a),replyts:D.fromNumber(Date.now()),target:o,eventtype:"Clear",revision:D.fromNumber(0),uuid:"".concat(s,"_").concat(t.instanceId),sdktype:3,flags:r.enableRecordTs?new D(589825,0,!0):new D(65537,0,!0),code:c,seq:s,index:{index1:t.context.uid,index2:t.context.appId,index3:"enableLogUpload=".concat(t.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:t.context.uid},null!==(u=t.context.config.enableCloudProxy)&&void 0!==u&&u),c!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",n],c)}))}))))}},{key:"requestAddLocalMetadata",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");if(o.majorRevision&&(-1>o.majorRevision||0!=o.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:t,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Add"}),void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var s=this.incGetSeq(),a=JSON.stringify(pf(Pd.cloneDeep(t).map(function(t){return t.setRevision(0),t}),o.majorRevision)),u=Date.now();return i.forEach(function(t){t.sendPacket("StateModify",{sequence:s,target:r.context.uid,requestUuid:"".concat(s,"_").concat(r.instanceId),lock:"",lockRev:D.fromNumber(0),value:a,baseRevision:D.fromNumber(0),author:o.enableRecordUserId?r.context.uid:"",flags:o.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(i.map(function(t){return t.fromReceived("StateRequestResult").pipe(La(function(t){return s.eq(t.sequence)}),Ka(function(t){var n,i,a=ud(t=t.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:r.context.uid,vid:D.fromString(null!==(n=r.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:r.context.sid,requestts:D.fromNumber(u),replyts:D.fromNumber(Date.now()),target:r.context.uid,eventtype:"Add",revision:D.fromNumber(0),uuid:"".concat(s,"_").concat(r.instanceId),sdktype:3,flags:o.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:a,seq:s,index:{index1:r.context.uid,index2:r.context.appId,index3:"enableLogUpload=".concat(r.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:r.context.uid},null!==(i=r.context.config.enableCloudProxy)&&void 0!==i&&i),a!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",t],a)}))}))))}},{key:"requestUpdateLocalMetadata",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");if(o.majorRevision&&(-1>o.majorRevision||0!=o.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(0===o.majorRevision)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:t,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Update"}),void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var s=this.incGetSeq(),a=JSON.stringify(pf(Pd.cloneDeep(t).map(function(t){return -1===t.getRevision()&&t.setRevision(-2),t}),o.majorRevision)),u=Date.now();return i.forEach(function(t){t.sendPacket("StateModify",{sequence:s,target:r.context.uid,requestUuid:"".concat(s,"_").concat(r.instanceId),lock:"",lockRev:D.fromNumber(0),value:a,baseRevision:D.fromNumber(0),author:o.enableRecordUserId?r.context.uid:"",flags:o.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(i.map(function(t){return t.fromReceived("StateRequestResult").pipe(La(function(t){return s.eq(t.sequence)}),Ka(function(t){var n,i,a=ud(t=t.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:r.context.uid,vid:D.fromString(null!==(n=r.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:r.context.sid,requestts:D.fromNumber(u),replyts:D.fromNumber(Date.now()),target:r.context.uid,eventtype:"Update",revision:D.fromNumber(0),uuid:"".concat(s,"_").concat(r.instanceId),sdktype:3,flags:o.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:a,seq:s,index:{index1:r.context.uid,index2:r.context.appId,index3:"enableLogUpload=".concat(r.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:r.context.uid},null!==(i=r.context.config.enableCloudProxy)&&void 0!==i&&i),a!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",t],a)}))}))))}},{key:"requestDeleteLocalMetadata",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");if(o.majorRevision&&(-1>o.majorRevision||0!=o.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(0===o.majorRevision)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:t,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Delete"}),void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var s=this.incGetSeq(),a=JSON.stringify(pf(Pd.cloneDeep(t).map(function(t){return t.setValue(null),t}),o.majorRevision)),u=Date.now();return i.forEach(function(t){t.sendPacket("StateModify",{sequence:s,target:r.context.uid,requestUuid:"".concat(s,"_").concat(r.instanceId),lock:"",lockRev:D.fromNumber(0),value:a,baseRevision:D.fromNumber(0),author:o.enableRecordUserId?r.context.uid:"",flags:o.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(i.map(function(t){return t.fromReceived("StateRequestResult").pipe(La(function(t){return s.eq(t.sequence)}),Ka(function(t){var n,i,a=ud(t=t.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:r.context.uid,vid:D.fromString(null!==(n=r.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:r.context.sid,requestts:D.fromNumber(u),replyts:D.fromNumber(Date.now()),target:r.context.uid,eventtype:"Delete",revision:D.fromNumber(0),uuid:"".concat(s,"_").concat(r.instanceId),sdktype:3,flags:o.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:a,seq:s,index:{index1:r.context.uid,index2:r.context.appId,index3:"enableLogUpload=".concat(r.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:r.context.uid},null!==(i=r.context.config.enableCloudProxy)&&void 0!==i&&i),a!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",t],a)}))}))))}},{key:"requestSetLocalMetadata",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");if(o.majorRevision&&(-1>o.majorRevision||0!=o.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:t,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Set"}),void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var s=this.incGetSeq(),a=Date.now();return i.forEach(function(n){n.sendPacket("StateSet",{sequence:s,target:r.context.uid,requestUuid:"".concat(s,"_").concat(r.instanceId),value:JSON.stringify(pf(t,o.majorRevision)),lock:"",lockRev:D.fromNumber(0),baseRevision:D.fromNumber(0),author:o.enableRecordUserId?r.context.uid:"",flags:o.enableRecordTs?new D(524288,0,!0):new D(0,0,!0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(i.map(function(t){return t.fromReceived("StateRequestResult").pipe(La(function(t){return s.eq(t.sequence)}),Ka(function(t){var n,i,u=ud(t=t.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:r.context.uid,vid:D.fromString(null!==(n=r.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:r.context.sid,requestts:D.fromNumber(a),replyts:D.fromNumber(Date.now()),target:r.context.uid,eventtype:"Set",revision:D.fromNumber(0),uuid:"".concat(s,"_").concat(r.instanceId),sdktype:3,flags:o.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:u,seq:s,index:{index1:r.context.uid,index2:r.context.appId,index3:"enableLogUpload=".concat(r.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:r.context.uid},null!==(i=r.context.config.enableCloudProxy)&&void 0!==i&&i),u!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",t],u)}))}))))}},{key:"requestClearLocalMetadata",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in");if(r.majorRevision&&(-1>r.majorRevision||0!=r.majorRevision%1))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(0===r.majorRevision)throw new ja("MajorRevision can not be set to 0",of);if(void 0!==this.context.lastModifyMeteDataTime&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var i=this.incGetSeq(),s=Date.now();return o.forEach(function(n){n.sendPacket("StateSet",{sequence:i,target:t.context.uid,requestUuid:"".concat(i,"_").concat(t.instanceId),lock:"",lockRev:D.fromNumber(0),value:JSON.stringify({}),baseRevision:D.fromNumber(0),author:r.enableRecordUserId?t.context.uid:"",flags:r.enableRecordTs?new D(589824,0,!0):new D(65536,0,!0)})}),bb.apply(void 0,[n.genTimeoutError(cd)].concat(ra(o.map(function(n){return n.fromReceived("StateRequestResult").pipe(La(function(t){return i.eq(t.sequence)}),Ka(function(n){var o,a,u=ud(n=n.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:t.context.uid,vid:D.fromString(null!==(o=t.context.vid)&&void 0!==o?o:"0"),sid:"",usersid:t.context.sid,requestts:D.fromNumber(s),replyts:D.fromNumber(Date.now()),target:t.context.uid,eventtype:"Clear",revision:D.fromNumber(0),uuid:"".concat(i,"_").concat(t.instanceId),sdktype:3,flags:r.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:u,seq:i,index:{index1:t.context.uid,index2:t.context.appId,index3:"enableLogUpload=".concat(t.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:t.context.uid},null!==(a=t.context.config.enableCloudProxy)&&void 0!==a&&a),u!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",n],u)}))}))))}},{key:"requestSubscribeUserMetadata",value:function(t,r){var o=this,i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");if(void 0!==this.context.lastSubscribeMetaDataTime&&500>Date.now()-this.context.lastSubscribeMetaDataTime)throw new Fc(["The frequency of subscription metedata exceeded the limit of %d queries per %d second",10,5e3],Vc);this.context.lastSubscribeMetaDataTime=Date.now();var s=this.incGetSeq(),a=Date.now();return i.forEach(function(n){n.sendPacket("StateSubscribe",{sequence:s,target:t,subTarget:"",flags:D.fromNumber(0)})}),bb.apply(void 0,[n.genTimeoutErrorWithoutNotice(cl,void 0,r)].concat(ra(i.map(function(n){return n.fromReceived("StateSubscribeResult").pipe(La(function(t){return s.eq(t.sequence)}),Ka(function(n){n=n.code;var i,u,c=Pw;if(0!==n&&1!==n&&(c=100===n?cl:lp),c!==Pw)throw new Pa(["User metaData Subscribe failure. The response code from the RTM service is %d",n],c);"RECONNECTED"!==r&&void 0===o.lastUserMeteUpdateRecord[t]&&(o.lastUserMeteUpdateRecord[t]=-1),$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:o.context.uid,vid:D.fromString(null!==(i=o.context.vid)&&void 0!==i?i:"0"),sid:"",usersid:o.context.sid,target:t,requestts:D.fromNumber(a),replyts:D.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:s,index:{index1:o.context.uid,index2:o.context.appId,index3:"enableLogUpload=".concat(o.context.config.enableLogUpload)},subtarget:o.context.uid},null!==(u=o.context.config.enableCloudProxy)&&void 0!==u&&u)}))}))))}},{key:"requestUnsubscribeUserMetadata",value:function(t){var n,r,o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in");var i=this.incGetSeq(),s=Date.now();o.forEach(function(n){n.sendPacket("StateUnsubscribe",{sequence:i,target:t,subTarget:"",flags:D.fromNumber(0)})}),delete this.lastUserMeteUpdateRecord[t],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:this.context.uid,vid:D.fromString(null!==(n=this.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:this.context.sid,target:t,requestts:D.fromNumber(s),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:i,index:{index1:this.context.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},subtarget:this.context.uid},null!==(r=this.context.config.enableCloudProxy)&&void 0!==r&&r)}},{key:"requestUnsubscribeChannelMetadata",value:function(t){var n,r,o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in");var i=this.incGetSeq();o.forEach(function(n){n.sendPacket("StateUnsubscribe",{sequence:i,target:t,subTarget:"",flags:new D(1,0,!0)})}),delete this.lastChannelMetaUpdateRecord[t],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:this.context.uid,vid:D.fromString(null!==(n=this.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:this.context.sid,target:t,requestts:D.fromNumber(Date.now()),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:new D(1,0,!0),code:0,seq:i,index:{index1:this.context.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},subtarget:this.context.uid},null!==(r=this.context.config.enableCloudProxy)&&void 0!==r&&r)}},{key:"requestSubscribeChannelMetadata",value:function(t,r){var o=this,i=this.getLoginSockets();if(0===i.length)throw new ia("Client is not logged in");if(void 0!==this.context.lastSubscribeMetaDataTime&&500>Date.now()-this.context.lastSubscribeMetaDataTime)throw new Fc(["The frequency of subscription metedata exceeded the limit of %d queries per %d second",10,5e3],Vc);var s=this.incGetSeq(),a=Date.now();return i.forEach(function(n){n.sendPacket("StateSubscribe",{sequence:s,target:t,subTarget:"",flags:new D(1,0,!0)})}),bb.apply(void 0,[n.genTimeoutError(cl)].concat(ra(i.map(function(n){return n.fromReceived("StateSubscribeResult").pipe(La(function(t){return s.eq(t.sequence)}),Ka(function(n){var i,u;if(0!==(n=n.code)&&1!==n){if(100===n)throw new Pa(["MetaData Subscribe failure. The response code from the RTM service is %d",n],cl);throw new Pa(["MetaData Subscribe failure. The response code from the RTM service is %d",n],lp)}"JOIN"===r&&(o.lastChannelMetaUpdateRecord[t]=-1),$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:o.context.uid,vid:D.fromString(null!==(i=o.context.vid)&&void 0!==i?i:"0"),sid:"",usersid:o.context.sid,target:t,requestts:D.fromNumber(a),replyts:D.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:D.fromNumber(0),code:n,seq:s,index:{index1:o.context.uid,index2:o.context.appId,index3:"enableLogUpload=".concat(o.context.config.enableLogUpload)},subtarget:o.context.uid},null!==(u=o.context.config.enableCloudProxy)&&void 0!==u&&u)}))}))))}},{key:"requestGetUserAttributesByKeys",value:function(t,r){var o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in");var i=this.incGetSeq();return o.forEach(function(n){n.sendPacket("UserAttributeGet",{account:t,seq:i,attributes:r})}),bb.apply(void 0,[n.genTimeoutError(Bd)].concat(ra(o.map(function(t){return t.fromReceived("UserAttributeErr").pipe(La(function(t){return i.eq(t.seq)}),Wa(function(t){if(10008===(t=t.code))throw new Pa("The user requested is not online",qw);throw new id(["User attribute operation unknown error code: %d",t],Ad)}))})),ra(o.map(function(t){return t.fromReceived("UserAttributeRet").pipe(La(function(t){return i.eq(t.seq)}))}))))}},{key:"requestGetChannelAttributesByKeys",value:function(t,r){var o=this.getLoginSockets();if(0===o.length)throw new ia("Client is not logged in");var i=this.incGetSeq();return o.forEach(function(n){n.sendPacket("GroupAttributeGet",{group:t,seq:i,attributes:r})}),bb.apply(void 0,[n.genTimeoutError(Bd)].concat(ra(o.map(function(t){return t.fromReceived("GroupAttributeErr").pipe(La(function(t){return i.eq(t.seq)}),Wa(function(t){throw new Pa(["The channel attributes get failure, code %d",t.code],Ad)}))})),ra(o.map(function(t){return t.fromReceived("GroupAttributeRet").pipe(La(function(t){return i.eq(t.seq)}))}))))}},{key:"requestGetUserAttributeKeys",value:function(t){var r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in");var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("UserAttributeKeysGet",{account:t,seq:o})}),bb.apply(void 0,[n.genTimeoutError(Bd)].concat(ra(r.map(function(t){return t.fromReceived("UserAttributeErr").pipe(La(function(t){return o.eq(t.seq)}),Wa(function(t){if(10008===(t=t.code))throw new Pa("The user requested is not online",qw);throw new id(["User attribute operation unknown error code: %d",t],Ad)}))})),ra(r.map(function(t){return t.fromReceived("UserAttributeKeysRet").pipe(La(function(t){return o.eq(t.seq)}))}))))}},{key:"requestGetChannelAttributesKeys",value:function(t){var r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in");var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("GroupAttributeKeysGet",{group:t,seq:o})}),bb.apply(void 0,[n.genTimeoutError(Bd)].concat(ra(r.map(function(t){return t.fromReceived("GroupAttributeErr").pipe(La(function(t){return o.eq(t.seq)}),Wa(function(t){throw new id(["Channel attribute operation unknown error code: %d",t.code],Ad)}))})),ra(r.map(function(t){return t.fromReceived("GroupAttributeKeysRet").pipe(La(function(t){return o.eq(t.seq)}))}))))}},{key:"requestGetChannelMemberCount",value:function(t){var r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in");var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("GroupStatusList",{groups:t,seq:o})}),bb.apply(void 0,[n.genTimeoutError(uw)].concat(ra(r.map(function(t){return t.fromReceived("GroupStatusResult").pipe(La(function(t){return o.eq(t.seq)}))}))))}},{key:"requestSubscribePeersOnlineStatus",value:function(t){var r=this.getLoginSockets();if(0===r.length)throw new ia("Client is not logged in");var o=this.incGetSeq();return r.forEach(function(n){n.sendPacket("SubscribeUserStatus",{seq:o,users:t})}),bb.apply(void 0,[n.genTimeoutError(NI)].concat(ra(r.map(function(t){return t.fromReceived("SubscribeResponse").pipe(La(function(t){return o.eq(t.seq)}))}))))}},{key:"requestUnsubscribePeersOnlineStatus",value:function(t){var n=this.getLoginSockets();if(0===n.length)throw new ia("Client is not logged in");var r=this.incGetSeq();n.forEach(function(n){n.sendPacket("UnsubscribeUserStatus",{seq:r,users:t})})}},{key:"sendInvitationMessage",value:function(){var t=za(W.mark(function t(n){var r,o,i,s,a,u,c,l,f,p,h,d,g=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.peerId,o=n.callId,i=n.extra,s=n.isAcceptAck,a=n.channelId,u=n.type,c={callId:o},void 0===s){t.next=6;break}if("CallAccept"===u){t.next=5;break}throw Error("invalid invitation type");case 5:c.type=s?"ack":"request";case 6:return c.channel=a,("CallInvite"===u||"CallCancel"===u||"CallReject"===u||"CallAccept"===u&&!1===s)&&void 0!==i&&(c.extra=i),l=Rj(),this.log("The sent invitation body is %o",c),f=function(t){return{MiscMap:{},sequence:D.fromNumber(1),dialogue:l,instance:g.instanceId,dst:r,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:t,MessageType:u}).toLong(),payload:(new TextEncoder).encode(JSON.stringify(c)),src:g.context.uid}},t.next=14,ge(this.sendMessageToRetry(f,!0)).pipe(Oc(1e4),Rb(function(t){return t instanceof ad&&g.warn("Send invitation timeout"),Va(t)})).toPromise();case 14:return h=(p=t.sent).code,d=p.retryTimes,t.abrupt("return",{hasPeerReceived:0===h,hasReSent:0!==d});case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"sendRawMessage",value:function(){var t=za(W.mark(function t(n,r,o,i,s){var a,u,c,l,f,p,h,d,g,v=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Date.now(),u=i?vb.P2pRMsgNoOfflineFlag:vb.ChannelRMsg,yb(o)&&n instanceof Uint8Array&&"string"==typeof r){t.next=4;break}throw new ja("The send message arguments are not valid",i?Kw:Zk);case 4:if(!(32768<n.byteLength+new Blob([r]).size)){t.next=8;break}throw this.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:u,type:"common",key:"invalidmessagecount"}),new Dc("The message size is over the 32KB limit",i?si:fp);case 8:return c=!wg.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=n.byteLength,f=(l=this.chatManager.getChatInfo(o)).dialogue,p=l.sequence,h=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(h,"-").concat(f,"#").concat(p,'"'),c?" compressed":"",i?"peer":"channel",wb(o)),d=function(t){return{MiscMap:{description:(new TextEncoder).encode(r)},sequence:p,dialogue:f,instance:h,dst:o,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:t,CompressionMethod:c?"Zlib":"Uncompressed",MessageType:i?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:c?DA(n):n,src:v.context.uid}},t.next=15,ge(this.sendMessageToRetry(d,!0)).pipe(Oc(void 0===s?1e4:s),Rb(function(t){return t instanceof ad&&v.warn("Send message timeout"),Va(t)})).toPromise();case 15:return g=0===t.sent.code,this.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),g&&(this.emit("messageCount",{messageCategory:u,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:u,type:i?"peer":"recipient",delay:Nb(a).toNumber()})),t.abrupt("return",{hasPeerReceived:g});case 21:case"end":return t.stop()}},t,this)}));return function(n,r,o,i,s){return t.apply(this,arguments)}}()},{key:"sendTextMessage",value:function(){var t=za(W.mark(function t(n,r,o,i){var s,a,u,c,l,f,p,h,d,g,v=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=Date.now(),a=o?vb.P2pSMsgNoOfflineFlag:vb.ChannelSMsg,yb(r)){t.next=4;break}throw new ja("The send message arguments are not valid",o?Kw:Zk);case 4:if(!(32768<new Blob([n]).size)){t.next=8;break}throw this.emit("messageCount",{messageCategory:a,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:a,type:"common",key:"invalidmessagecount"}),new Dc("The message size is over the 32KB limit",o?si:fp);case 8:return u=!wg.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=new Blob([n]).size,l=(c=this.chatManager.getChatInfo(r)).dialogue,f=c.sequence,p=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(p,"-").concat(l,"#").concat(f,'"'),u?" compressed":"",o?"peer":"channel",wb(r)),h=(new TextEncoder).encode(n),d=function(t){return{MiscMap:{},sequence:f,dialogue:l,instance:p,dst:r,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:t,CompressionMethod:u?"Zlib":"Uncompressed",MessageType:o?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:u?DA(h):h,src:v.context.uid}},t.next=16,ge(this.sendMessageToRetry(d,!0)).pipe(Oc(void 0===i?1e4:i),Rb(function(t){return t instanceof ad&&(v.emit("messageCount",{messageCategory:a,type:"common",key:"sentcount"}),v.emit("messageCount",{messageCategory:a,type:"common",key:"timeoutcount"}),v.warn("Send message timeout")),Va(t)})).toPromise();case 16:return g=0===t.sent.code,this.emit("messageCount",{messageCategory:a,type:"common",key:"sentcount"}),g&&(this.emit("messageCount",{messageCategory:a,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:a,type:o?"peer":"recipient",delay:Nb(s).toNumber()})),t.abrupt("return",{hasPeerReceived:g});case 22:case"end":return t.stop()}},t,this)}));return function(n,r,o,i){return t.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(t,n){Object.entries(this.loginSocketSubs[t]).forEach(function(t){var r=(t=Lb(t,2))[1];"channels"===t[0]&&n||(Array.isArray(r)||r instanceof Map?r.forEach(function(t){return t.unsubscribe()}):r&&r.unsubscribe())}),this.loginSocketSubs[t]={channels:n?this.loginSocketSubs[t].channels:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var t=za(W.mark(function t(n,r){var o,i,s,a,u,c,l,f,p=this,h=arguments;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=2<h.length&&void 0!==h[2]?h[2]:0,this.log("Attempt to send the message ".concat(r?" with retrying, %o":"without retrying"),{retryTimes:o}),0!==(i=this.getLoginSockets()).length){t.next=5;break}throw Error("no logged-in sockets");case 5:return s=n(o),i.forEach(function(t){t.sendPacket("Message",s)}),a=s.dialogue,u=s.sequence,c=s.instance,l=i.map(function(t){return t.fromReceived("Ack").pipe(sc(function(t){return a.eq(t.dialogue)&&u.eq(t.sequence)&&c.eq(t.instance)}))}),t.prev=9,t.next=12,Nc.apply(void 0,ra(l)).pipe(Oc(6e3),Rb(function(t){return uc(t)&&p.warn("Message send timeout, retry times %d",o),Va(t)}),Xb(1)).toPromise();case 12:return f=t.sent.code,this.log("The message has been acked, %o",{code:f}),t.abrupt("return",{code:f,retryTimes:o});case 18:if(t.prev=18,t.t0=t.catch(9),!(t.t0 instanceof ad&&r)){t.next=22;break}return t.abrupt("return",this.sendMessageToRetry(n,!1,o+1));case 22:throw t.t0;case 23:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var t=this;this.lastLoginSockets.map(function(n){return n.pipe(Cc(function(n){return Fe(0,2500,Kg()?void 0:CP).pipe(Ka(function(){t.sendPing(n)}))}))}).forEach(function(n,r){var o=t.loginSocketSubs[r].keepAlive;void 0!==o&&o.unsubscribe(),t.loginSocketSubs[r].keepAlive=n.subscribe({error:function(){}})})}},{key:"initKeepAliveReconnector",value:function(){var t=this;this.lastLoginSockets.map(function(t){return t.pipe(Cc(function(t){var n,r=!1,o=t.userJoin$.pipe(Ka(function(){r=!0})),i=t.input$.pipe(Ka(function(t){"Ping"!==Tm[t.uri].slice(0,-3)&&(r=!1)}));return Nc(Fe(6e3,1e4).pipe(iC(t.receivedPacket),Ka(function(o){o=Lb(o,2),n!==(o=Lb(o[1],2)[1])||r||t.forceReconnect(),n=o})),o,i)}))}).forEach(function(n,r){var o=t.loginSocketSubs[r].keepAliveReconnector;void 0!==o&&o.unsubscribe(),t.loginSocketSubs[r].keepAliveReconnector=n.subscribe({error:function(){}})})}},{key:"initLoginReceiver",value:function(){var t=this;bb.apply(void 0,ra(this.lastLoginSockets.map(function(n){return n.pipe(Cc(function(n){return n.fromReceived("UserTicketNearlyExpire").pipe(cC(5e3),Ka(t.onUserTicketNearlyExpire(n)))}))}))).subscribe(),bb.apply(void 0,ra(this.lastLoginSockets.map(function(n){return n.pipe(Cc(function(n){return n.fromReceived("StateUpdate").pipe(Ka(t.onStateUpdate()))}))}))).subscribe();var n=Bc(this,"messageCount"),r=n.pipe(sc(function(t){return t.messageCategory===vb.ChannelSMsg}));r.subscribe(function(n){return t.updateMessageCount(n)}),r.pipe(Kj(6e3)).subscribe(function(n){n.length&&t.chanelStringMessageReport.report()}),Nc(Wb(void 0),r).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){t.chanelStringMessageReport.report()}),(r=n.pipe(sc(function(t){return t.messageCategory===vb.ChannelRMsg}))).subscribe(function(n){return t.updateMessageCount(n)}),r.pipe(Kj(6e3)).subscribe(function(n){n.length&&t.chanelRawMessageReport.report()}),Nc(Wb(void 0),r).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){t.chanelRawMessageReport.report()}),(r=n.pipe(sc(function(t){return t.messageCategory===vb.P2pSMsgNoOfflineFlag}))).subscribe(function(n){return t.updateMessageCount(n)}),r.pipe(Kj(6e3)).subscribe(function(n){n.length&&t.p2pSMsgNoOfflineReport.report()}),Nc(Wb(void 0),r).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){t.p2pSMsgNoOfflineReport.report()}),(n=n.pipe(sc(function(t){return t.messageCategory===vb.P2pRMsgNoOfflineFlag}))).subscribe(function(n){return t.updateMessageCount(n)}),n.pipe(Kj(6e3)).subscribe(function(n){n.length&&t.p2pRMsgNoOfflineReport.report()}),Nc(Wb(void 0),n).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){t.p2pSMsgNoOfflineReport.report()}),this.lastLoginSockets.map(function(n){return n.pipe(Cc(function(n){return Nc(Bc(n,"reconnect").pipe(Ka(t.onSocketReconnect(n))),n.fromReceived("Message").pipe(Ka(t.onMessage(n))),n.fromReceived("GroupEnterNotice").pipe(Ka(t.onGroupEnterNotice())),n.fromReceived("GroupLeaveNotice").pipe(Ka(t.onGroupLeaveNotice())),n.fromReceived("GroupCountNotice").pipe(Ka(t.onGroupCountNotice())),n.fromReceived("GroupAttributeAlt").pipe(Ka(t.onGroupAttributeAlt())),n.fromReceived("UserJoinNotice").pipe(Ka(t.onUserNotice(Oa.PeerOnlineState.ONLINE))),n.fromReceived("UserQuitNotice").pipe(Ka(t.onUserNotice(Oa.PeerOnlineState.OFFLINE))),n.fromReceived("UserWaitNotice").pipe(Ka(t.onUserNotice(Oa.PeerOnlineState.UNREACHABLE))),n.fromReceived("Pong").pipe(Ka(t.onPong())),n.fromReceived("UserDrop").pipe(Ka(t.onUserDrop(n))),n.fromReceived("GroupDrop").pipe(Ka(t.onGroupDrop()))).pipe(ni(void 0))}))}).forEach(function(n,r){t.loginSocketSubs[r].receivers.push(n.subscribe({error:function(){}}))})}},{key:"requestSocketLogin",value:function(t,n,r){var o=this;return Pr(lf(function(){o.userJoinOptions=new Pz(n),t.sendPacket("UserJoin",{account:o.context.uid,instance:o.instanceId,opt:o.userJoinOptions.toLong(),seq:r,ticket:t.ticket})}),t.fromReceived("UserResp").pipe(La(function(t){return r.eq(t.seq)}),Ka(function(n){if(0!==(n=n.code))throw o.clearSockets(),o.logError("Connected to gateway success but the Rtm server rejected login"),new Pa(["Login failure. The response code from the RTM service is %d",n],ij);t.attemptsSinceLastError=0,t.loggedIn=!0,o.log("ENV_%d logged in",t.env)}),ni(t),Oc(6e3))).pipe(sc(function(t){return void 0!==t}),Rb(function(r){r instanceof ad&&o.warn("Login response timeout, rejoin: %s",n);var i=o.getLoginSockets();if(0<i.length){var s=i.map(function(t){return t.env});[0,1].filter(function(t){return!s.includes(t)}).forEach(function(t){o.cleanLoginSubs(t,!1),o.connection.closeSocket(t,0)})}return r.name="loginRespTimeout",o.emit("banEdgeIP",t.ip),Va(r)}))}},{key:"getSocketLoginObservables",value:function(t,n){var r=this;return t.map(function(t){return t.pipe(Cc(function(t,o){return r.incSeqIfNeeded(t.env),r.requestSocketLogin(t,0!==o,0===o?n:r.seq)}),$g())})}},{key:"incSeqIfNeeded",value:function(t){if(![0,1].includes(t))throw new rb({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[t]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[t]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){for(var t=this.curLoginSockets,n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];s&&(i[o++]=s)}return i}},{key:"emitMessage",value:function(t,r){var o,i=t.options,s=t.payload,a=t.src,u=t.dst,c=t.instance,l=t.dialogue,f=t.sequence,p=t.ms,h=t.MiscMap;this.dialogueSequenceLru.set(l.toString(),f),c="".concat(c,"-").concat(l,"#").concat(f),this.msgDedupLru.has(c)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",r,c):(this.msgDedupLru.set(c,void 0),i=new Yh(i),this.lastLoginSockets.forEach((o=za(W.mark(function r(o){var i;return W.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.pipe(Xb(1)).toPromise();case 2:i=r.sent,n.sendMessageAck(t,i);case 4:case"end":return r.stop()}},r)})),function(t){return o.apply(this,arguments)})),r=i.isZlibCompressed(),i.isInvitation()?(u=JSON.parse(u=ti(r?Oq(zs(s,Uint8Array.of(0,0,0,0))):s)),this.log("The received invitation body is %o",u),this.emit("invitationMessage",{body:u,type:i.getInvitationType(),peerId:a,serverReceivedTs:p.toNumber()})):i.isTextMessage()?(h=i.isPeerTextMessage(),s=ti(r?Oq(zs(s,Uint8Array.of(0,0,0,0))):s),this.info("Received a %s %s text message from %s to %s, %s",r?" compressed":"",h?"peer":"channel",wb(a),wb(u),c),h?(a={text:s,peerId:a,properties:{serverReceivedTs:p.toNumber()}},this.emit("peerTextMessage",a),this.emit("messageCount",{messageCategory:vb.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelTextMessage",{channelId:u,memberId:a,text:s,properties:{serverReceivedTs:p.toNumber()}}),this.emit("messageCount",{messageCategory:vb.ChannelSMsg,type:"common",key:"receivedcount"}))):i.isRawMessage()&&(i=i.isRawPeerMessage(),h=void 0===(h=h.description)?"":ti(h),s=r?Oq(s):s,this.info("Received a %s %s raw message from %s to %s, %s",r?" compressed":"",i?"peer":"channel",wb(a),wb(u),c),i?(a={desc:h,raw:s,peerId:a,properties:{serverReceivedTs:p.toNumber()}},this.emit("peerRawMessage",a),this.emit("messageCount",{messageCategory:vb.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelRawMessage",{desc:h,raw:s,channelId:u,memberId:a,properties:{serverReceivedTs:p.toNumber()}}),this.emit("messageCount",{messageCategory:vb.ChannelRMsg,type:"common",key:"receivedcount"}))))}},{key:"onSocketReconnect",value:function(t){var n=this;return function(){var r=[0,1].filter(function(n){return n!==t.env})[0];(r=n.connection.curOpenSockets[r])&&!r.loggedIn&&n.emit("connectionLost")}}},{key:"onUserTicketNearlyExpire",value:function(t){var n=this;return function(r){(r=r.ticket)!==n.lastNoticeTicket&&r===t.ticket?(n.lastNoticeTicket=r,n.emit("tokenPrivilegeWillExpire")):n.requestUpdateEdgeTicket(t.ticket).toPromise()}}},{key:"onGroupDrop",value:function(){var t=this;return function(n){var r,o=n.account;$a("ChnLeave",{cname:o,lts:D.fromNumber(Date.now()),elapse:Nb(t.startTime),errCode:EI,sid:fc(t.instanceId),userId:t.context.uid},null!==(r=t.context.config.enableCloudProxy)&&void 0!==r&&r),[0,1].forEach(function(n){return t.loginSocketSubs[n].channels.delete(o)}),t.logError("the user is kicked out of the current channel")}}},{key:"onStateUpdate",value:function(){var t=this;return function(n){var r=n.flags,o=n.target;n=Wm(n.allStates),r.and(new D(1,0,!0)).isZero()?void 0!==t.lastUserMeteUpdateRecord[o]&&n.majorRevision>t.lastUserMeteUpdateRecord[o]&&(t.emit("userMetaDataUpdated",{uid:o,data:r.and(new D(0,2,!0)).isZero()?n:tb(tb({},n),{},{majorRevision:0})}),t.lastUserMeteUpdateRecord[o]=n.majorRevision):void 0!==t.lastChannelMetaUpdateRecord[o]&&n.majorRevision>t.lastChannelMetaUpdateRecord[o]&&(t.emit("channelMetaDataUpdated",{channelId:o,data:r.and(new D(0,2,!0)).isZero()?n:tb(tb({},n),{},{majorRevision:0})}),t.lastChannelMetaUpdateRecord[o]=n.majorRevision)}}},{key:"onUserDrop",value:function(t){var n=this;return function(r){var o;r=r.code,$a("KickedOff",{code:0,elapse:Nb(n.startTime),linkId:parseInt(t.name.split("-")[1],10),lts:D.fromNumber(Date.now()),server:t.address,serverCode:r,sid:fc(n.instanceId),userId:n.context.uid},null!==(o=n.context.config.enableCloudProxy)&&void 0!==o&&o),10006===r||10001===r?n.warn("Login too often and kicked off, reconnect and login"):10009===r?(n.warn("The instance ID conflicts, reconnecting"),n.instanceId=Rj(),n.context.sid=fc(n.instanceId),n.emit("instanceChanged",n.instanceId)):[2,11,14,15,16,10019].includes(r)&&(n.emit("userDrop",r),n.clearSockets())}}},{key:"clearSockets",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];[0,1].forEach(function(o){t.cleanLoginSubs(o,r),t.connection.closeSocket(o,n)})}},{key:"onMessage",value:function(t){var n=this;return function(r){var o=r.dialogue,i=r.instance,s=r.sequence,a=r.options;if(r.src===n.context.uid)n.log("The message is from the local account, ignored");else{var u=o.toString(),c=n.dialPendingMsgSubjectMap.get(u);if(o="".concat(i,"-").concat(o,"#").concat(s),c)c.next(r),n.log("Env_%d: The dialogue has pending messages, next: %s",t.env,o);else{var l=n.dialogueSequenceLru.get(u);if(c=!l&&s.eq(1),i=void 0!==l&&s.sub(l).eq(1),c||i)n.emitMessage(r,t.env);else{if(l){if(s.lte(l))return;n.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",t.env,o)}else n.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",t.env,o);s=new ec,n.dialPendingMsgSubjectMap.set(u,s);var f=s.pipe(kB(Xo),Nj(function(t,n){return[].concat(ra(t),[n])},[]),Wa(function(t){return ra(t).sort(function(t,n){return t=t.sequence,n=n.sequence,t.eq(n)?0:t.gt(n)?1:-1})}),Yr(1));a=!(a=new Yh(a)).isFromCache()&&!a.isBufferedMessage(),f.pipe(he(Fe(a?750:1500)),La(function(t){if(2>t.length)return!1;for(var n=void 0===l?D.fromNumber(1,!0):l.add(1),r=0;r<t.length;n=n.add(1),r++)if(!t[r].sequence.eq(n))return!1;return!0}),Mj(function(){n.dialPendingMsgSubjectMap.delete(u)})).subscribe(function(r){r.forEach(function(r){n.emitMessage(r,t.env),n.log("Env_%d: The message queue has fully ordered, emitting: %s",t.env,"".concat(r.instance,"-").concat(r.dialogue,"#").concat(r.sequence))})},function(r){r instanceof Lj&&f.pipe(Xb(1)).subscribe(function(r){return r.forEach(function(r){n.log("Env_%d: The message pending queue expired, emitting: %s",t.env,"".concat(r.instance,"-").concat(r.dialogue,"#").concat(r.sequence)),n.emitMessage(r,t.env)})})}),s.next(r)}}}}}},{key:"onPong",value:function(){var t=this;return function(){document.hidden&&t.getLoginSockets().forEach(function(n){t.sendPing(n)})}}},{key:"onGroupEnterNotice",value:function(){var t=this;return function(n){t.emit("memberNotice",{channelId:n.group,seq:n.seq,instance:n.instance,memberId:n.user,type:"MemberJoined",size:n.size})}}},{key:"onGroupLeaveNotice",value:function(){var t=this;return function(n){t.emit("memberNotice",{channelId:n.group,seq:n.seq,instance:n.instance,memberId:n.user,type:"MemberLeft",size:n.size})}}},{key:"onGroupCountNotice",value:function(){var t=this;return function(n){t.emit("memberNotice",{channelId:n.group,seq:n.seq,instance:n.instance,type:"MemberCountUpdated",size:n.size})}}},{key:"onGroupAttributeAlt",value:function(){var t=this;return function(n){var r=n.group;n=em(n,DP),t.emit("channelAttributesUpdated",tb({channelId:r},n))}}},{key:"onUserNotice",value:function(t){var n=this;return function(r){n.emit("peerOnlineStatusChanged",{peerId:r.user,instance:r.instance,seq:r.seq,state:t})}}},{key:"sendPing",value:function(t){2500>=Date.now()-this.lastPingTime[t.env]||(this.incSeqIfNeeded(t.env),t.sendPacket("Ping",{ms:D.fromNumber(Date.now(),!0),seq:this.seq}),this.lastPingTime[t.env]=Date.now())}},{key:"updateMessageCount",value:function(t){var n,r=(E(n={},vb.ChannelRMsg,this.chanelRawMessageReport),E(n,vb.ChannelSMsg,this.chanelStringMessageReport),E(n,vb.P2pRMsgNoOfflineFlag,this.p2pRMsgNoOfflineReport),E(n,vb.P2pSMsgNoOfflineFlag,this.p2pSMsgNoOfflineReport),E(n,3,void 0),E(n,4,void 0),E(n,7,void 0),E(n,8,void 0),E(n,9,void 0),E(n,10,void 0),n)[t.messageCategory];"common"===t.type?null==r||r.updateCommonCount(t.key):"peer"===t.type?null==r||r.updatePeerAckCount(t.delay):null==r||r.updateNorecipientackCount(t.delay)}}],[{key:"sendMessageAck",value:function(t,n){var r=new Yh(t.options);(r.isInvitation()||r.isPeerMessage())&&n.sendPacket("Ack",{code:0,dialogue:t.dialogue,instance:t.instance,sequence:t.sequence})}}]),n}(Dd());E(Pq,"genTimeoutErrorWithoutNotice",function(t,n,r){return Wb(void 0).pipe(mf(void 0===n?1e4:n),Wa(function(){if("JOIN"!==r)throw new Pc(["Request timed out after %ds",(void 0===n?1e4:n)/1e3],t)}))}),E(Pq,"genTimeoutError",function(t,n){return Wb(void 0).pipe(mf(void 0===n?1e4:n),Wa(function(){throw new Pc(["Request timed out after %ds",(void 0===n?1e4:n)/1e3],t)}))});var EA,Qq,Rq=0,Sq=0;gj.v1=function(t,n,r){r=n&&r||0;var o=n||[],i=(t=t||{}).node||EA,s=void 0!==t.clockseq?t.clockseq:Qq;if(null==i||null==s){var a=ow();null==i&&(i=EA=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=Qq=16383&(a[6]<<8|a[7]))}a=void 0!==t.msecs?t.msecs:(new Date).getTime();var u=void 0!==t.nsecs?t.nsecs:Sq+1,c=a-Rq+(u-Sq)/1e4;if(0>c&&void 0===t.clockseq&&(s=s+1&16383),(0>c||a>Rq)&&void 0===t.nsecs&&(u=0),1e4<=u)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Rq=a,Sq=u,Qq=s,t=(1e4*(268435455&(a+=122192928e5))+u)%4294967296,o[r++]=t>>>24&255,o[r++]=t>>>16&255,o[r++]=t>>>8&255,o[r++]=255&t,t=a/4294967296*1e4&268435455,o[r++]=t>>>8&255,o[r++]=255&t,o[r++]=t>>>24&15|16,o[r++]=t>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s,s=0;6>s;++s)o[r+s]=i[s];return n||pw(o)},gj.v4=gj;var Sf,lb,bi,Tq=il(),ai=Oa.LocalInvitationFailureReason,Fb=Oa.LocalInvitationState,EP=(Sf=function(t){function n(t,o,i){ab(this,n);var s=r.call(this,i,"RtmLocalInvitation",!0);return E(L(s),"state",Fb.IDLE),E(L(s),"localInvitationEnd$",bb(Bc(L(s),"LocalInvitationAccepted"),Bc(L(s),"LocalInvitationRefused"),Bc(L(s),"LocalInvitationFailure"),Bc(L(s),"LocalInvitationCanceled")).pipe(Xb(1))),E(L(s),"callId",gj.v4()),E(L(s),"_content",""),E(L(s),"_channelId",""),E(L(s),"_response",""),E(L(s),"calleeId",void 0),E(L(s),"logger",void 0),E(L(s),"getSession",void 0),s.calleeId=t,s.getSession=o,s.logger=i,s}nb(n,t);var r=ob(n);return Qb(n,[{key:"channelId",get:function(){return this._channelId},set:function(t){this.state!==Fb.IDLE?this.info("set channelId only allow before invitation sent to remote"):(this.log("set channelId for %s",this.callId),this._channelId=t)}},{key:"content",get:function(){return this._content},set:function(t){this.log("set content for %s",this.callId),this._content=t}},{key:"response",get:function(){return this._response},set:function(t){throw new ja('Cannot set the "response" of the LocalInvitation instance.',ve)}},{key:"send",value:function(){var t,n=this;if(this.state===Fb.SENT_TO_REMOTE||this.state===Fb.RECEIVED_BY_REMOTE)throw new ia("The local invitation send failure. The call invitation has already been sent.",AI);if(this.isLocalInvitationEnd())throw new ia("The local invitation send failure. The call invitation has ended.",$k);if(0<this._channelId.length&&!yb(this._channelId))throw new ja("Illegal invitation channel ID",ve);if(!yb(this.calleeId))throw new ja("Illegal invitation callee user ID",ve);if(8192<Wj(this._content))throw new ja('The length of the "content" overflows. The number of bytes representing content must not exceed 8 \xd7 1024 if encoded in UTF-8.',ve);this.state=Fb.SENT_TO_REMOTE,lf(za(W.mark(function r(){var o,i,s;return W.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getSession().sendInvitationMessage({peerId:n.calleeId,callId:n.callId,extra:n._content,type:"CallInvite",channelId:n._channelId});case 2:if(i=(o=r.sent).hasPeerReceived,s=o.hasReSent,!n.isLocalInvitationEnd()){r.next=7;break}throw new Pc("send invitation timeout");case 7:if(n.log("The local invitation has sent to the callee"),i||s){r.next=11;break}throw t=new Tq({PEER_NOT_ONLINE:"The peer of the invitation is not online"});case 11:if(i){r.next=14;break}throw t=new Tq({RESENT_AND_OFFLINE:"Resent and the peer of the invitation is not online"});case 14:case"end":return r.stop()}},r)}))).pipe(Zg(function(t){return t.pipe(Ka(function(t){if(!(t instanceof Tq))throw t}),mf(2e3))}),Oc(3e4),Rb(function(t){return uc(t)&&n.warn("local invitation ack timed out"),Va(t)}),he(this.localInvitationEnd$)).subscribe({next:function(){n.state===Fb.RECEIVED_BY_REMOTE?n.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"'):n.state!==Fb.SENT_TO_REMOTE?n.log("The invitation has ended, skipped emitting the %s event","LocalInvitationReceivedByPeer"):(n.info("The peer received the local invitation %s.",n.callId),n.state=Fb.RECEIVED_BY_REMOTE,n.emit("LocalInvitationReceivedByPeer"),n.localInvitationEnd$.pipe(Oc(6e4),Rb(function(t){return uc(t)&&n.warn("local invitation expired"),Va(t)})).subscribe({error:function(){n.state=Fb.FAILURE,n.emit("LocalInvitationFailure",ai.INVITATION_EXPIRE)}}))},error:function(r){n.isLocalInvitationEnd()?n.log("The invitation has ended, skipped emitting the %s event","LocalInvitationFailure"):(n.state=Fb.FAILURE,uc(r)&&t?"PEER_NOT_ONLINE"===t.code?n.emit("LocalInvitationFailure",ai.PEER_OFFLINE):"RESENT_AND_OFFLINE"===t.code&&n.emit("LocalInvitationFailure",ai.PEER_NO_RESPONSE):uc(r)?n.emit("LocalInvitationFailure",ai.PEER_NO_RESPONSE):"RtmInvalidStatusError"===r.name?n.emit("LocalInvitationFailure",ai.NOT_LOGGEDIN):n.emit("LocalInvitationFailure",ai.UNKNOWN))}})}},{key:"cancel",value:function(){if(this.isLocalInvitationEnd())throw new ia("The local invitation cancel failure",$k);if(this.state===Fb.IDLE)throw new ia("The local invitation has not been sent",zI);if(8192<Wj(this._content))throw new ja('The length of the "content" overflows. The number of bytes representing content must not exceed 8 \xd7 1024 if encoded in UTF-8.',ve);this.getSession().sendInvitationMessage({callId:this.callId,peerId:this.calleeId,type:"CallCancel",channelId:this._channelId,extra:this._content}),this.state=Fb.CANCELED,this.emit("LocalInvitationCanceled")}},{key:"onAcceptReceived",value:function(t){if(this.isLocalInvitationEnd()&&this.state!==Fb.ACCEPTED_BY_REMOTE)this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationAccepted");else{if(this.state===Fb.IDLE)throw new ia("the local have not sent the invitation, how can remote accept it?");this.getSession().sendInvitationMessage({callId:this.callId,isAcceptAck:!0,type:"CallAccept",peerId:this.calleeId,channelId:this.channelId}),this.state===Fb.ACCEPTED_BY_REMOTE?this.log("already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE"):(this.state===Fb.SENT_TO_REMOTE&&(this.log("receive LocalInvitationAccepted before remote response to the invitation"),this.state=Fb.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this.state=Fb.ACCEPTED_BY_REMOTE,this._response=t,this.emit("LocalInvitationAccepted",t))}}},{key:"onRefuseReceived",value:function(t){if(this.isLocalInvitationEnd())this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationRefused");else{if(this.state===Fb.IDLE)throw new ia("the local have not sent the invitation, how can remote refuse it?");this.state===Fb.SENT_TO_REMOTE&&(this.log("receive LocalInvitationRefused before remote response to the invitation"),this.state=Fb.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this._response=t,this.state=Fb.REFUSED_BY_REMOTE,this.emit("LocalInvitationRefused",t)}}},{key:"isLocalInvitationEnd",value:function(){return[Fb.CANCELED,Fb.FAILURE,Fb.ACCEPTED_BY_REMOTE,Fb.REFUSED_BY_REMOTE].includes(this.state)}}]),n}(Dd()),Na(Sf.prototype,"send",[je],Object.getOwnPropertyDescriptor(Sf.prototype,"send"),Sf.prototype),Na(Sf.prototype,"cancel",[je],Object.getOwnPropertyDescriptor(Sf.prototype,"cancel"),Sf.prototype),Sf),cm=Oa.RemoteInvitationFailureReason,Ic=Oa.RemoteInvitationState,FP=function(t){function n(t){var o=t.invitationChannel,i=t.extraContent,s=t.callId,a=t.callerId,u=t.logger;t=t.getSession,ab(this,n);var c=r.call(this,u,"RtmRemoteInvitation",!0);return E(L(c),"state",Ic.INVITATION_RECEIVED),E(L(c),"remoteInvitationEnd$",bb(Bc(L(c),"RemoteInvitationCanceled"),Bc(L(c),"RemoteInvitationRefused"),Bc(L(c),"RemoteInvitationAccepted"),Bc(L(c),"RemoteInvitationFailure")).pipe(Xb(1))),E(L(c),"callerId",void 0),E(L(c),"callId",void 0),E(L(c),"_getSession",void 0),E(L(c),"logger",void 0),E(L(c),"_content",void 0),E(L(c),"_channelId",void 0),E(L(c),"_response",""),c._channelId=o,c._content=i,c.callId=s,c.callerId=a,c._getSession=t,c.logger=u,c.remoteInvitationEnd$.pipe(Oc(6e4),Rb(function(t){return uc(t)&&c.warn("Remote invitation expired"),Va(t)})).subscribe({error:function(){c.state=Ic.FAILURE,c.emit("RemoteInvitationFailure",cm.INVITATION_EXPIRE)}}),c}nb(n,t);var r=ob(n);return Qb(n,[{key:"channelId",get:function(){return this._channelId},set:function(t){throw new ja('Cannot set the "response" of the RemoteInvitation instance.',ve)}},{key:"content",get:function(){return this._content},set:function(t){throw new ja('Cannot set the "content" of the RemoteInvitation instance.',ve)}},{key:"response",get:function(){return this._response},set:function(t){this._response=t}},{key:"accept",value:function(){var t,n=this;if(this.isRemoteInvitationEnd())throw new ia("The local invitation has ended. Cannot accept.",$k);if(this.state===Ic.ACCEPT_SENT_TO_LOCAL)throw new ia("The remote invitation is accepting. Cannot do the operation.",vw);if(8192<Wj(this._response))throw new ja('The length of the "response" overflows. The number of bytes representing content must not exceed 8 \xd7 1024 if encoded in UTF-8.',ve);this.state=Ic.ACCEPT_SENT_TO_LOCAL,Nc(Yg(1e3).pipe(Ac(function(){return lf(za(W.mark(function t(){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n._getSession().sendInvitationMessage({peerId:n.callerId,callId:n.callId,extra:n.response,type:"CallAccept",isAcceptAck:!1,channelId:n.channelId}));case 1:case"end":return t.stop()}},t)})))}),sc(function(n){return t=n.hasPeerReceived}),Xb(1)),Bc(this,"RemoteInvitationAccepted")).pipe(Oc(5e3),he(this.remoteInvitationEnd$)).subscribe({error:function(r){if(n.logError(r),n.state=Ic.FAILURE,uc(r))switch(t){case void 0:case!0:return void n.emit("RemoteInvitationFailure",cm.ACCEPT_FAILURE);case!1:return void n.emit("RemoteInvitationFailure",cm.PEER_OFFLINE)}n.emit("RemoteInvitationFailure",cm.UNKNOWN)}})}},{key:"refuse",value:function(){if(this.state===Ic.ACCEPT_SENT_TO_LOCAL)throw new ia("The remote invitation is accepting. Cannot do the operation.",vw);if(this.isRemoteInvitationEnd())throw new ia("The invitation is end. Cannot refuse",$k);if(8192<Wj(this._response))throw new ja('The length of the "response" overflows. The number of bytes representing content must not exceed 8 \xd7 1024 if encoded in UTF-8.',ve);this._getSession().sendInvitationMessage({peerId:this.callerId,callId:this.callId,extra:this.response,type:"CallReject",channelId:this.channelId}),this.state=Ic.REFUSED,this.emit("RemoteInvitationRefused")}},{key:"onCancelReceived",value:function(t){this.isRemoteInvitationEnd()?this.log("The invitation has ended, skipped emitting the %s event","RemoteInvitationCanceled"):(this.state===Ic.ACCEPT_SENT_TO_LOCAL&&this.log("caller canceled before receive accept"),this._content=t,this.state=Ic.CANCELED,this.emit("RemoteInvitationCanceled",t))}},{key:"onAcceptAckReceived",value:function(){this.state!==Ic.ACCEPT_SENT_TO_LOCAL?this.log("The invitation has ended, skipped emitting the %s event","ori:".concat(this.state,", to: RemoteInvitationAccepted")):(this.state=Ic.ACCEPTED,this.emit("RemoteInvitationAccepted"))}},{key:"isRemoteInvitationEnd",value:function(){return[Ic.ACCEPTED,Ic.REFUSED,Ic.CANCELED,Ic.FAILURE].includes(this.state)}}]),n}(Dd()),GP=function(t){function n(t,o){ab(this,n);var i=r.call(this,o,"InvitationManager");return E(L(i),"getSession",void 0),E(L(i),"invitationDispatcher",new kb.EventEmitter),E(L(i),"outgoingLocalInvitations",new Map),E(L(i),"receivedRemoteInvitations",new ue(void 0,{maxlen:1e4})),E(L(i),"logger",void 0),i.getSession=Hs(t),i.logger=o,i.invitationDispatcher.on("remoteInvitationToManager",function(t){var n=t.callId,r=t.extra,s=t.callerId;t=t.channelId,i.receivedRemoteInvitations.has(n)||((r=new FP({callerId:s,callId:n,getSession:i.getSession,logger:o,extraContent:r,invitationChannel:t})).remoteInvitationEnd$.subscribe(function(){i.receivedRemoteInvitations.delete(n)}),i.receivedRemoteInvitations.set(n,r),i.emit("remoteInvitationInstance",r))}),i.invitationDispatcher.on("acceptAckToRemoteInvitation",function(t){(t=i.receivedRemoteInvitations.get(t.callId))&&t.onAcceptAckReceived()}),i.invitationDispatcher.on("cancelToRemoteInvitation",function(t){var n=t.extra;(t=i.receivedRemoteInvitations.get(t.callId))&&t.onCancelReceived(n)}),i.invitationDispatcher.on("acceptToLocalInvitation",function(t){var n=t.extra;(t=i.outgoingLocalInvitations.get(t.callId))&&t.onAcceptReceived(n)}),i.invitationDispatcher.on("refuseToLocalInvitation",function(t){var n=t.extra;(t=i.outgoingLocalInvitations.get(t.callId))&&t.onRefuseReceived(n)}),i}nb(n,t);var r=ob(n);return Qb(n,[{key:"invitationMessageHandler",value:function(t){var n=t.body,r=n.callId,o=n.extra;o=void 0===o?"":o;var i=n.type,s=void 0===(n=n.channel)?"":n,a=t.type;switch(n=t.peerId,t=t.serverReceivedTs,a){case"CallAccept":"ack"===i?this.invitationDispatcher.emit("acceptAckToRemoteInvitation",{callId:r}):"request"===i&&this.invitationDispatcher.emit("acceptToLocalInvitation",{callId:r,extra:o});break;case"CallInvite":this.invitationDispatcher.emit("remoteInvitationToManager",{callId:r,callerId:n,extra:o,channelId:s});break;case"CallCancel":if("0"===r){r="".concat("AgoraRTMLegacyEndcallCompatibleMessagePrefix","_").concat(s,"_").concat(o),this.getSession().emit("peerTextMessage",{peerId:n,properties:{serverReceivedTs:t},text:r});break}this.invitationDispatcher.emit("cancelToRemoteInvitation",{callId:r,extra:o});break;case"CallReject":this.invitationDispatcher.emit("refuseToLocalInvitation",{callId:r,extra:o});break;default:throw ps("invitationType",a)}}},{key:"genLocalInvitation",value:function(t){var n=this,r=new EP(t,this.getSession,this.logger);return r.localInvitationEnd$.subscribe(function(){n.outgoingLocalInvitations.delete(r.callId)}),this.outgoingLocalInvitations.set(r.callId,r),r}}]),n}(Dd()),HP=function(t,n,r){var o=!0,i=!0;if("function"!=typeof t)throw TypeError("Expected a function");return Kc(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),LK(t,n,{leading:o,maxWait:n,trailing:i})};!function(t){t[t.JOINED=0]="JOINED",t[t.LEFT=1]="LEFT"}(bi||(bi={}));var ka,Uq,Vq,Wq,Xq,Ld=Oa.ConnectionState,IP=(lb=function(t){function n(t,r,i,s){ab(this,n);var a=o.call(this,s,"RtmChannel",!0);return E(L(a),"onMemberCountUpdated",HP(function(t){t!==a.memberCount&&(a.memberCount=t,a.emit("MemberCountUpdated",t))},1e3)),E(L(a),"onMetadataUpdated",function(t){a.emit("MetaDataUpdated",t)}),E(L(a),"getSession",void 0),E(L(a),"memberCount",0),E(L(a),"joinState","LEFT"),E(L(a),"joinPromise",void 0),E(L(a),"memberJoinedLru",new ue(void 0,{maxlen:1e4})),E(L(a),"memberLeftLru",new ue(void 0,{maxlen:1e4})),E(L(a),"memberJoinStateLru",new ue(void 0,{maxlen:1e4})),E(L(a),"attributesSeqLru",new ue(void 0,{maxlen:1e4})),E(L(a),"channelId",void 0),E(L(a),"client",void 0),E(L(a),"onChannelMetaDataUpdated",function(t){var n=t.data;a.channelId===t.channelId&&a.onMetadataUpdated(n)}),E(L(a),"onChannelMemberCountUpdated",function(t,n){a.channelId===t&&a.onMemberCountUpdated(n)}),E(L(a),"onLogout",function(){try{a.clearChannel(a.getSession())}catch(t){}}),E(L(a),"onAttributesUpdated",function(t){var n=t.channelId,r=t.attributeMaps,o=t.seq;t=t.instance.toString();var i=a.attributesSeqLru.get(t);if((!i||o.greaterThan(i))&&(a.attributesSeqLru.set(t,o),n===a.channelId)){for(n={},o=0;o<r.length;o++){var s=r[o];t=s.key,i=s.ms;var u=s.value;if(s=s.origin,"string"!=typeof t||!D.isLong(i)||"string"!=typeof u||!yb(s))break;n[t]={value:u,lastUpdateUserId:s,lastUpdateTs:i.toNumber()}}a.emit("AttributesUpdated",n)}}),E(L(a),"onChannelTextMessage",function(t){var n=t.memberId,r=t.text,o=t.properties;t.channelId===a.channelId&&a.emit("ChannelMessage",{text:r,messageType:Oa.MessageType.TEXT},n,o)}),E(L(a),"onChannelRawMessage",function(t){var n=t.desc,r=t.raw,o=t.memberId,i=t.properties;t.channelId===a.channelId&&a.emit("ChannelMessage",{messageType:Oa.MessageType.RAW,rawMessage:r,description:n},o,i)}),E(L(a),"onMemberNotice",function(t){var n=t.memberId,r=t.type,o=t.size;if(t.channelId===a.channelId){var i=t.instance.toString();t=t.seq.toString();var s={MemberLeft:a.memberLeftLru,MemberJoined:a.memberJoinedLru,MemberCountUpdated:void 0}[r];if(s){if(s.has(i+t))return void a.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",r,t,wb(a.channelId),wb(n||""));if(s.set(i+t,void 0),"string"!=typeof n)return;if(n!==a.getSession().context.uid&&((i=a.memberJoinStateLru.get(n))===bi.JOINED&&"MemberJoined"===r||i===bi.LEFT&&"MemberLeft"===r))return void a.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",r,t,wb(a.channelId),wb(n||""));a.memberJoinStateLru.set(n,"MemberJoined"===r?bi.JOINED:bi.LEFT)}a.info("Channel %s - %s, memberId: %s",r,wb(a.channelId),"MemberCountUpdated"===r?"[unknown]":wb(n||"")),i=n===a.getSession().context.uid,"MemberLeft"===r&&yb(n)||"MemberJoined"===r&&yb(n)?(i||a.emit(r,n),a.onMemberCountUpdated(o)):"MemberCountUpdated"===r&&"number"==typeof o&&a.onMemberCountUpdated(o)}}),a.getSession=Hs(r),a.channelId=t,a.client=i,a.info("A channel created, id %s",wb(t)),a}nb(n,t);var r,o=ob(n);return Qb(n,[{key:"join",value:(r=za(W.mark(function t(){var n,r,o,i,s,a,u,c=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.connectionState===Ld.CONNECTED){t.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:t.prev=2,n=this.getSession(),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new ia("The client is not logged in. Cannot do the operation",Aw);case 9:if(t.prev=9,yb(this.channelId)){t.next=12;break}throw new ja(["The %s in the arguments is invalid","channelId"],BI);case 12:if("LEFT"===this.joinState){t.next=15;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:n.context.uid,elapse:Nb(n.startTime),errCode:zw,sid:fc(n.instanceId)},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),new ia("The channel has joined. Cannot rejoin",zw);case 15:if(!n.usedChannelIds.includes(this.channelId)){t.next=18;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:n.context.uid,elapse:Nb(n.startTime),errCode:Bw,sid:fc(n.instanceId)},null!==(s=this.client.context.config.enableCloudProxy)&&void 0!==s&&s),new ia("A channel of the same channel ID has already joined. Cannot rejoin",Bw);case 18:if(!(20<=n.usedChannelIds.length)){t.next=21;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:n.context.uid,elapse:Nb(n.startTime),errCode:yw,sid:fc(n.instanceId)},null!==(a=this.client.context.config.enableCloudProxy)&&void 0!==a&&a),new Dc("The joined channels has exceeded the limit of 20",yw);case 21:return $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:n.context.uid,elapse:Nb(n.startTime),errCode:0,sid:fc(n.instanceId)},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),this.log("Joining the channel %s",wb(this.channelId)),this.joinState="JOINING",n.usedChannelIds.push(this.channelId),this.joinPromise=n.requestChannelJoin(this.channelId).then(function(){c.joinState="JOINED",n.requestSubscribeChannelMetadata(c.channelId,"JOIN").toPromise()}),t.next=28,this.joinPromise;case 28:$a("ChnJoinRes",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(n.startTime),errCode:0,sid:fc(n.instanceId),serverErrCode:0,userId:n.context.uid},null!==(o=this.client.context.config.enableCloudProxy)&&void 0!==o&&o),this.info("The channel %s joined successfully",wb(this.channelId)),n.on("channelTextMessage",this.onChannelTextMessage),n.on("channelRawMessage",this.onChannelRawMessage),n.on("memberNotice",this.onMemberNotice),n.on("channelAttributesUpdated",this.onAttributesUpdated),n.on("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.client.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.once("LOGOUT",this.onLogout),t.next=49;break;case 39:if(t.prev=39,t.t1=t.catch(9),"JOINING"===this.joinState&&(this.joinState="LEFT"),this.logError(t.t1),!Sa(t.t1)){t.next=45;break}throw t.t1;case 45:if(!uc(t.t1)){t.next=48;break}throw $a("ChnJoinRes",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(n.startTime),errCode:xw,sid:fc(n.instanceId),serverErrCode:0,userId:n.context.uid},null!==(u=this.client.context.config.enableCloudProxy)&&void 0!==u&&u),new Pc(["Join channel %s timed out",wb(this.channelId)],xw);case 48:throw new id(["The channel %s join failure",wb(this.channelId)],{code:ww,originalError:t.t1});case 49:case"end":return t.stop()}},t,this,[[2,6],[9,39]])})),function(){return r.apply(this,arguments)})},{key:"leave",value:function(){var t=za(W.mark(function t(){var n,r,o,i;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.connectionState===Ld.CONNECTED){t.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:t.prev=2,r=this.getSession(),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new ia("The client is not logged in. Cannot do the operation",DI);case 9:if("LEFT"!==this.joinState){t.next=11;break}throw new ia("The channel does not join. Cannot do the operation",CI);case 11:return t.prev=11,r.requestChannelLeave(this.channelId),t.next=15,r.requestUnsubscribeChannelMetadata(this.channelId);case 15:return t.next=17,this.clearChannel(r);case 17:t.next=28;break;case 19:if(t.prev=19,t.t1=t.catch(11),this.logError(t.t1),!Sa(t.t1)){t.next=26;break}throw void 0===t.t1.code&&(t.t1.code=Dw),$a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(r.startTime),errCode:Dw,sid:fc(r.instanceId),userId:r.context.uid},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),t.t1;case 26:throw $a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(r.startTime),errCode:Cw,sid:fc(r.instanceId),userId:r.context.uid},null!==(o=this.client.context.config.enableCloudProxy)&&void 0!==o&&o),new id("The channel leave failure",{code:Cw,originalError:t.t1});case 28:$a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(r.startTime),errCode:0,sid:fc(r.instanceId),userId:r.context.uid},null!==(n=this.client.context.config.enableCloudProxy)&&void 0!==n&&n);case 29:case"end":return t.stop()}},t,this,[[2,6],[11,19]])}));return function(){return t.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var t=za(W.mark(function t(n){var r,o=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(vs(n,fp),this.client.connectionState!==Ld.CONNECTED||"JOINED"===this.joinState){t.next=3;break}throw new ia("The channel does not join. Cannot do the operation",rI);case 3:if(this.client.connectionState!==Ld.RECONNECTING){t.next=8;break}return r=Date.now(),t.next=7,new Promise(function(t,i){var s,a=(s=za(W.mark(function s(){var a;return W.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=Date.now()-r,s.prev=1,s.next=4,Uj({message:n,peerId:o.channelId,toPeer:!1,session:o.getSession(),errorCodes:{NOT_LOGGED_IN:gp,TOO_OFTEN:rw},diff:a,logger:o.logger});case 4:t(),s.next=12;break;case 7:s.prev=7,s.t0=s.catch(1),uc(s.t0)&&i(new Pc(vg(o.name,"sendMessageToPeer",1e4),ep)),Sa(s.t0)&&i(s.t0),i(new Pa("Channel message send failure",{code:Zk,originalError:s.t0}));case 12:return s.prev=12,clearTimeout(u),s.finish(12);case 15:case"end":return s.stop()}},s,null,[[1,7,12,15]])})),function(){return s.apply(this,arguments)});o.client.internalEmitter.once("RECONNECTED",a);var u=setTimeout(function(){o.client.internalEmitter.off("RECONNECTED",a),i(new Pc(vg(o.name,"sendMessageToPeer",1e4),ep))},9e3)});case 7:return t.abrupt("return");case 8:if(this.client.connectionState===Ld.CONNECTED){t.next=10;break}throw new ia("The client is not logged in. Cannot do the operation",gp);case 10:return t.prev=10,t.next=13,Uj({message:n,peerId:this.channelId,toPeer:!1,session:this.getSession(),errorCodes:{NOT_LOGGED_IN:gp,TOO_OFTEN:rw},diff:0,logger:this.logger});case 13:t.next=23;break;case 15:if(t.prev=15,t.t0=t.catch(10),!uc(t.t0)){t.next=19;break}throw new Pc(vg(this.name,"sendMessage",1e4),ep);case 19:if(!Sa(t.t0)){t.next=22;break}throw this.logError(t.t0),t.t0;case 22:throw new id("The channel message send failure",Zk);case 23:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n){return t.apply(this,arguments)}}()},{key:"getChannelMetadata",value:function(){var t=za(W.mark(function t(){var n,r;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.connectionState===Ld.CONNECTED){t.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:return t.prev=2,n=this.getSession().requestGetChannelMetaData(this.channelId),t.next=6,n.pipe(Wa(function(t){return Wm(t)})).toPromise();case 6:return r=t.sent,t.abrupt("return",r);case 10:if(t.prev=10,t.t0=t.catch(2),!Sa(t.t0)){t.next=15;break}throw this.logError(t.t0),t.t0;case 15:throw new id("The channel metadata get failure",lp);case 16:case"end":return t.stop()}},t,this,[[2,10]])}));return function(){return t.apply(this,arguments)}}()},{key:"setChannelMetadata",value:function(){var t=za(W.mark(function t(n,r){var o;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.connectionState===Ld.CONNECTED){t.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if("JOINED"===this.joinState){t.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return t.prev=4,o=this.getSession().requestSetChannelMetadata(n,r,this.channelId).toPromise(),t.next=8,o;case 8:t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(4),!Sa(t.t0)){t.next=15;break}throw this.logError(t.t0),t.t0;case 15:throw new id("The channel metadata set failure",He);case 16:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"clearChannelMetadata",value:function(){var t=za(W.mark(function t(n){var r;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.connectionState===Ld.CONNECTED){t.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if("JOINED"===this.joinState){t.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return t.prev=4,r=this.getSession().requestClearChannelMetadata(n,this.channelId).toPromise(),t.next=8,r;case 8:t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(4),!Sa(t.t0)){t.next=15;break}throw this.logError(t.t0),t.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n){return t.apply(this,arguments)}}()},{key:"addChannelMetadata",value:function(){var t=za(W.mark(function t(n,r){var o;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.connectionState===Ld.CONNECTED){t.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if("JOINED"===this.joinState){t.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return t.prev=4,o=this.getSession().requestAddChannelMetadata(n,r,this.channelId).toPromise(),t.next=8,o;case 8:t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(4),!Sa(t.t0)){t.next=15;break}throw this.logError(t.t0),t.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"updateChannelMetadata",value:function(){var t=za(W.mark(function t(n,r){var o;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.connectionState===Ld.CONNECTED){t.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if("JOINED"===this.joinState){t.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return t.prev=4,o=this.getSession().requestUpdateChannelMetadata(n,r,this.channelId).toPromise(),t.next=8,o;case 8:t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(4),!Sa(t.t0)){t.next=15;break}throw this.logError(t.t0),t.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"deleteChannelMetadata",value:function(){var t=za(W.mark(function t(n,r){var o;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.connectionState===Ld.CONNECTED){t.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if("JOINED"===this.joinState){t.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return t.prev=4,o=this.getSession().requestDeleteChannelMetadata(n,r,this.channelId).toPromise(),t.next=8,o;case 8:t.next=16;break;case 10:if(t.prev=10,t.t0=t.catch(4),!Sa(t.t0)){t.next=15;break}throw this.logError(t.t0),t.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"getMembers",value:function(){var t=za(W.mark(function t(){var n,r;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.client.connectionState===Ld.CONNECTED){t.next=3;break}throw new ia("The client is not logged in. Cannot do the operation",yI);case 3:if("JOINED"===this.joinState){t.next=5;break}throw new ia("The channel does not join. Cannot do the operation",xI);case 5:return n=this.getSession().requestChannelMemberList(this.channelId),t.next=8,n.pipe(Wa(function(t){return t.memberInfos.map(function(t){return t.account})})).toPromise();case 8:return r=t.sent,this.info("Channel %s - get members success, %o",wb(this.channelId),r.map(wb)),t.abrupt("return",r);case 13:if(t.prev=13,t.t0=t.catch(0),!Sa(t.t0)){t.next=18;break}throw this.logError(t.t0),t.t0;case 18:throw new id("The channel members get failure",vI);case 19:case"end":return t.stop()}},t,this,[[0,13]])}));return function(){return t.apply(this,arguments)}}()},{key:"clearChannel",value:function(){var t=za(W.mark(function t(n){var r=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.emit("channelLeft",this.channelId),"JOINING"!==this.joinState){t.next=4;break}return t.next=4,this.joinPromise;case 4:this.joinState="LEFT",this.memberLeftLru.empty(),this.memberJoinedLru.empty(),this.attributesSeqLru.empty(),this.memberJoinStateLru.empty(),this.memberCount=0,n.removeListener("channelTextMessage",this.onChannelTextMessage),n.removeListener("channelRawMessage",this.onChannelRawMessage),n.removeListener("memberNotice",this.onMemberNotice),n.removeListener("channelAttributesUpdated",this.onAttributesUpdated),n.removeListener("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.client.internalEmitter.removeListener("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.removeListener("LOGOUT",this.onLogout),n.usedChannelIds=n.usedChannelIds.filter(function(t){return t!==r.channelId});case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()}]),n}(Dd()),Na(lb.prototype,"join",[je],Object.getOwnPropertyDescriptor(lb.prototype,"join"),lb.prototype),Na(lb.prototype,"leave",[je],Object.getOwnPropertyDescriptor(lb.prototype,"leave"),lb.prototype),Na(lb.prototype,"sendMessage",[je],Object.getOwnPropertyDescriptor(lb.prototype,"sendMessage"),lb.prototype),Na(lb.prototype,"getChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"getChannelMetadata"),lb.prototype),Na(lb.prototype,"setChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"setChannelMetadata"),lb.prototype),Na(lb.prototype,"clearChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"clearChannelMetadata"),lb.prototype),Na(lb.prototype,"addChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"addChannelMetadata"),lb.prototype),Na(lb.prototype,"updateChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"updateChannelMetadata"),lb.prototype),Na(lb.prototype,"deleteChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"deleteChannelMetadata"),lb.prototype),Na(lb.prototype,"getMembers",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"getMembers"),lb.prototype),lb),Jc=Oa.ConnectionChangeReason,Ea=Oa.ConnectionState,FA={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,ABORTED:5},JP={LOGIN:1,LOGIN_SUCCESS:2,LOGIN_FAILURE:3,LOGIN_TIMEOUT:4,INTERRUPTED:5,LOGOUT:6,BANNED_BY_SERVER:7,REMOTE_LOGIN:8,TOKEN_EXPIRED:9},KP=(ka=function(t){function n(t,r,i,s){ab(this,n);var a=o.call(this,r,"RtmClient",!0);return E(L(a),"connectionState",Ea.DISCONNECTED),E(L(a),"internalEmitter",new kb),E(L(a),"context",void 0),E(L(a),"attributes",{}),E(L(a),"loginPromise",void 0),E(L(a),"attributeDrafts",new Set),E(L(a),"session",void 0),E(L(a),"lastLoginTime",void 0),E(L(a),"reconnId",0),E(L(a),"channelAttributesCacheLru",new ue(void 0,{maxlen:1e4})),E(L(a),"invitationManager",void 0),E(L(a),"subscribedPeerStatusCache",{}),E(L(a),"subscribedUserMetaCache",{}),E(L(a),"pendingPeerStatusSubCount",0),E(L(a),"peerStatusSeqLru",new ue(void 0,{maxlen:1e4})),E(L(a),"peerUnreachableTimers",{}),E(L(a),"setParameters",void 0),E(L(a),"updateConfig",void 0),E(L(a),"blacklistedIP",{}),E(L(a),"TokenPrivilegeWillExpireHandler",function(){a.emit("TokenPrivilegeWillExpire")}),E(L(a),"userMetaDataUpdatedHandler",function(t){var n=t.uid;t=t.data,a.subscribedUserMetaCache[n]&&a.emit("UserMetaDataUpdated",n,t)}),E(L(a),"userDropHandler",function(t){if(a.connectionState!==Ea.ABORTED)switch(t){case 2:a.logError("Server banned because of token is expired"),a.onConnectionStateChanged(Ea.ABORTED,Jc.TOKEN_EXPIRED),a.emit("TokenExpired");break;case 11:a.logError("Kicked off by remote session"),a.onConnectionStateChanged(Ea.ABORTED,Jc.REMOTE_LOGIN);break;case 14:case 15:case 16:a.logError("Server banned because of illegal ".concat({14:"User ID",15:"IP",16:"Channel Name"}[t])),a.onConnectionStateChanged(Ea.ABORTED,Jc.BANNED_BY_SERVER);break;case 10019:a.logError("Kicked off by authorization"),a.onConnectionStateChanged(Ea.ABORTED,Jc.BANNED_BY_SERVER);break;default:a.logError("User kicked off for unknown code: ".concat(t)),a.onConnectionStateChanged(Ea.ABORTED,Jc.INTERRUPTED)}}),a.context=new yL(t,i,r),a.context.config=i,a.setParameters=s.bind(L(a)),a.updateConfig=s.bind(L(a)),a.invitationManager=new GP(function(){return a.session},r),a.invitationManager.on("remoteInvitationInstance",function(t){a.emit("RemoteInvitationReceived",t)}),a.setMaxListeners(512),a.internalEmitter.setMaxListeners(512),a}nb(n,t);var r,o=ob(n);return Qb(n,[{key:"renewToken",value:(r=za(W.mark(function t(n){var r,o,i,s=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof n&&0!==n.length){t.next=2;break}throw new ja("Invalid argument",KI);case 2:if(this.connectionState!==Ea.ABORTED){t.next=5;break}return t.next=5,new Promise(function(){});case 5:if(this.connectionState===Ea.CONNECTED||this.connectionState===Ea.RECONNECTING){t.next=7;break}throw new ia("The client is not logged in",Mw);case 7:if(void 0!==this.session){t.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return t.prev=9,r=this.context.token,this.context.token=n,t.next=14,this.session.connection.apClient.getApEdgeInfo$(!1).pipe(Zf(function(){return Error("No available edge address to connect")}),Zg(function(t){return t.pipe(Ka(function(t){if(Sa(t))throw t}),mf(2500),Xb(4))}),Xb(1),Oc(2e4),Rb(function(t){return uc(t)&&s.warn("renewToken timed out"),Va(t)})).toPromise();case 14:o=t.sent.ticket,t.next=27;break;case 18:if(t.prev=18,t.t0=t.catch(9),this.context.token=r,t.t0.code!==Fw&&t.t0.code!==Gw){t.next=23;break}throw new Gh("Invalid token",MI);case 23:if(t.t0.code!==bl){t.next=25;break}throw new Gh("The token expired",LI);case 25:if(!uc(t.t0)){t.next=27;break}throw new Pc("Renew token timed out",jp);case 27:i=this.session,this.session.requestUpdateEdgeTicket(o).toPromise().then(function(t){if(0!==t.code)throw new Pa(["RenewToken failure. The response code is %d",t.code],jp);i.curLoginSockets.filter(function(t){return void 0!==t}).forEach(function(t){return t.ticket=o})});case 29:case"end":return t.stop()}},t,this,[[9,18]])})),function(t){return r.apply(this,arguments)})},{key:"queryPeersOnlineStatus",value:function(){var t=za(W.mark(function t(n){var r,o=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",JI);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!(!Array.isArray(n)||0===n.length||n.some(function(t){return!yb(t)})||256<n.length)){t.next=6;break}throw new ja("invalid arguments",Lw);case 6:return t.next=8,this.session.requestPeersOnlineStatus(n).toPromise();case 8:return Object.keys(r=Pe(Ro(t.sent.userInfos,"account"),function(t){return!!t.ts})).forEach(function(t){if(t in o.subscribedPeerStatusCache&&o.subscribedPeerStatusCache[t]!==Oa.PeerOnlineState.UNREACHABLE){var n=r[t]?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE;o.emit("PeersOnlineStatusChanged",E({},t,n)),o.subscribedPeerStatusCache[t]=n}}),t.abrupt("return",r);case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"getChannelMemberCount",value:function(){var t=za(W.mark(function t(n){var r,o,i,s,a,u,c,l;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",uI);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(n)&&n.every(function(t){return"string"==typeof t})&&0!==n.length){t.next=6;break}throw new ja("Invalid arguments: channelIds",tw);case 6:if(!(32<n.length)){t.next=8;break}throw new ja("getChannelMemberCount exceed limit of 32 channelIds",tI);case 8:r=0;case 9:if(!(r<n.length)){t.next=16;break}if(yb(o=n[r])){t.next=13;break}throw new ja(["getChannelMemberCount channel id %s is invalid",o],tw);case 13:r++,t.next=9;break;case 16:return t.next=18,this.session.requestGetChannelMemberCount(n).toPromise();case 18:for(i=t.sent.groupInfos,s={},a=0;a<i.length;a++)c=(u=i[a]).group,l=u.memberCount,yb(c)&&"number"==typeof l&&(this.internalEmitter.emit("channelMemberCountUpdated",c,l),s[c]=l);return t.abrupt("return",s);case 23:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"setLocalUserAttributes",value:function(){var t=za(W.mark(function t(n){var r,o;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ri({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===Ea.CONNECTED){t.next=3;break}throw new ia("The client is not logged in",Cd);case 3:if(void 0!==this.session){t.next=5;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return r=this.session.requestSetLocalUserAttributes(n).toPromise(),o={attribute:n,promise:r},this.attributeDrafts.add(o),t.prev=8,t.next=11,r;case 11:this.attributes=n,t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(8),!Sa(t.t0)){t.next=18;break}throw t.t0;case 18:throw new ja("arguments is not valid",Ub);case 19:return t.prev=19,this.attributeDrafts.delete(o),t.finish(19);case 22:case"end":return t.stop()}},t,this,[[8,14,19,22]])}));return function(n){return t.apply(this,arguments)}}()},{key:"setChannelAttributes",value:function(){var t=za(W.mark(function t(n,r){var o,i,s,a,u=arguments;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=void 0!==(o=(2<u.length&&void 0!==u[2]?u[2]:{}).enableNotificationToChannelMembers)&&o,ri({attributes:r,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===Ea.CONNECTED){t.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(void 0!==this.session){t.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return s=this.session.requestSetChannelAttributes(n,r,i).toPromise(),t.prev=7,t.next=10,s;case 10:a=Pe(r,function(t){return new Blob([t]).size}),this.channelAttributesCacheLru.set(n,a),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(7),!Sa(t.t0)){t.next=18;break}throw t.t0;case 18:throw new ja("arguments is not valid",Ub);case 19:case"end":return t.stop()}},t,this,[[7,14]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"addOrUpdateLocalUserAttributes",value:function(){var t=za(W.mark(function t(n){var r,o,i;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=tb(tb({},this.attributes),n),ri({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),ri({attributes:r,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===Ea.CONNECTED){t.next=5;break}throw new ia("The client is not logged in",Cd);case 5:if(void 0!==this.session){t.next=7;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return i={attribute:r,promise:o=this.session.requestAddOrUpdateLocalUserAttributes(n).toPromise()},this.attributeDrafts.add(i),t.prev=10,t.next=13,o;case 13:this.attributes=r,t.next=21;break;case 16:if(t.prev=16,t.t0=t.catch(10),!Sa(t.t0)){t.next=20;break}throw t.t0;case 20:throw new ja("arguments is not valid",Lw);case 21:return t.prev=21,this.attributeDrafts.delete(i),t.finish(21);case 24:case"end":return t.stop()}},t,this,[[10,16,21,24]])}));return function(n){return t.apply(this,arguments)}}()},{key:"addOrUpdateChannelAttributes",value:function(){var t=za(W.mark(function t(n,r){var o,i,s,a,u,c,l=arguments;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=void 0!==(o=(2<l.length&&void 0!==l[2]?l[2]:{}).enableNotificationToChannelMembers)&&o,s=this.channelAttributesCacheLru.get(n,{}),a=Pe(r,function(t){return new Blob([t]).size}),u=tb(tb({},s),a),ri({attributes:r,attrSizeMap:u,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===Ea.CONNECTED){t.next=7;break}throw new ia("The client is not logged in",Cd);case 7:if(void 0!==this.session){t.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return c=this.session.requestAddOrUpdateChannelAttributes(n,r,i).toPromise(),t.prev=10,t.next=13,c;case 13:this.channelAttributesCacheLru.set(n,u),t.next=21;break;case 16:if(t.prev=16,t.t0=t.catch(10),!Sa(t.t0)){t.next=20;break}throw t.t0;case 20:throw new ja("arguments is not valid",Ub);case 21:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"deleteLocalUserAttributesByKeys",value:function(){var t=za(W.mark(function t(n){var r,o,i,s;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Array.isArray(n)&&0!==n.length&&!n.some(function(t){return 0===t.length})){t.next=2;break}throw new ia("arguments is not valid",Ub);case 2:if(this.connectionState===Ea.CONNECTED){t.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(void 0!==this.session){t.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return r=this.session.requestDeleteLocalUserAttributesByKeys(n).toPromise(),o={attribute:Oo(this.attributes,n),promise:r},this.attributeDrafts.add(o),t.prev=9,t.next=12,r;case 12:for(i=0;i<n.length;i++)s=n[i],delete this.attributes[s];t.next=20;break;case 15:if(t.prev=15,t.t0=t.catch(9),!Sa(t.t0)){t.next=19;break}throw t.t0;case 19:throw new ja("arguments is not valid",Ub);case 20:return t.prev=20,this.attributeDrafts.delete(o),t.finish(20);case 23:case"end":return t.stop()}},t,this,[[9,15,20,23]])}));return function(n){return t.apply(this,arguments)}}()},{key:"deleteChannelAttributesByKeys",value:function(){var t=za(W.mark(function t(n,r){var o,i,s,a,u,c=arguments;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=void 0!==(o=(2<c.length&&void 0!==c[2]?c[2]:{}).enableNotificationToChannelMembers)&&o,Array.isArray(r)&&0!==r.length&&yb(n)&&!r.some(function(t){return 0===t.length||512<t.length})){t.next=3;break}throw new ia("arguments is not valid",Ub);case 3:if(this.connectionState===Ea.CONNECTED){t.next=5;break}throw new ia("The client is not logged in",Cd);case 5:if(void 0!==this.session){t.next=7;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return s=this.session.requestDeleteChannelAttributesByKeys(n,r,i).toPromise(),t.prev=8,t.next=11,s;case 11:if(a=this.channelAttributesCacheLru.get(n))for(u=0;u<r.length;u++)delete a[r[u]];t.next=20;break;case 15:if(t.prev=15,t.t0=t.catch(8),!Sa(t.t0)){t.next=19;break}throw t.t0;case 19:throw new ja("arguments is not valid",Ub);case 20:case"end":return t.stop()}},t,this,[[8,15]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"clearLocalUserAttributes",value:function(){var t=za(W.mark(function t(){var n,r;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return r={attribute:{},promise:n=this.session.requestClearLocalUserAttributes().toPromise()},this.attributeDrafts.add(r),t.prev=7,t.next=10,n;case 10:this.attributes={},t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(7),!Sa(t.t0)){t.next=17;break}throw t.t0;case 17:throw new ja("arguments is not valid",Ub);case 18:return t.prev=18,this.attributeDrafts.delete(r),t.finish(18);case 21:case"end":return t.stop()}},t,this,[[7,13,18,21]])}));return function(){return t.apply(this,arguments)}}()},{key:"clearChannelAttributes",value:function(){var t=za(W.mark(function t(n){var r,o,i,s=arguments;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=void 0!==(r=(1<s.length&&void 0!==s[1]?s[1]:{}).enableNotificationToChannelMembers)&&r,this.connectionState===Ea.CONNECTED){t.next=3;break}throw new ia("The client is not logged in",Cd);case 3:if(void 0!==this.session){t.next=5;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return i=this.session.requestClearChannelAttributes(n,o).toPromise(),t.prev=6,t.next=9,i;case 9:this.channelAttributesCacheLru.delete(n),t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(6),!Sa(t.t0)){t.next=16;break}throw t.t0;case 16:throw new ja("arguments is not valid",Ub);case 17:case"end":return t.stop()}},t,this,[[6,12]])}));return function(n){return t.apply(this,arguments)}}()},{key:"getUserAttributes",value:function(){var t=za(W.mark(function t(n){var r,o;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(yb(n)){t.next=2;break}throw new ja("Not a valid user ID",Ub);case 2:if(this.connectionState===Ea.CONNECTED){t.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(void 0!==this.session){t.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return t.prev=6,t.next=9,this.session.requestGetUserAttributeKeys(n).toPromise();case 9:return r=t.sent.keys,t.next=13,this.session.requestGetUserAttributesByKeys(n,r.slice(0,512)).toPromise();case 13:o=t.sent,t.next=21;break;case 16:if(t.prev=16,t.t0=t.catch(6),!Sa(t.t0)){t.next=20;break}throw t.t0;case 20:throw new ja("arguments is not valid",Ub);case 21:return t.abrupt("return",Dv(o.attributeInfos.map(function(t){return[t.key,t.value]})));case 22:case"end":return t.stop()}},t,this,[[6,16]])}));return function(n){return t.apply(this,arguments)}}()},{key:"getChannelAttributes",value:function(){var t=za(W.mark(function t(n){var r,o,i,s,a,u,c,l,f;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(yb(n)){t.next=2;break}throw new ja("Not a valid channel ID",Ub);case 2:if(this.connectionState===Ea.CONNECTED){t.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(void 0!==this.session){t.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return t.prev=6,t.next=9,this.session.requestGetChannelAttributesKeys(n).toPromise();case 9:return r=t.sent.keys,t.next=13,this.session.requestGetChannelAttributesByKeys(n,r).toPromise();case 13:o=t.sent.attributeMaps,t.next=22;break;case 17:if(t.prev=17,t.t0=t.catch(6),!Sa(t.t0)){t.next=21;break}throw t.t0;case 21:throw new ja("arguments is not valid",Ub);case 22:i={},s=0;case 24:if(!(s<o.length)){t.next=32;break}if(u=(a=o[s]).key,c=a.ms,l=a.value,f=a.origin,"string"==typeof u&&D.isLong(c)&&"string"==typeof l&&yb(f)){t.next=28;break}return t.abrupt("break",32);case 28:i[u]={value:l,lastUpdateUserId:f,lastUpdateTs:c.toNumber()};case 29:s++,t.next=24;break;case 32:return this.channelAttributesCacheLru.set(n,Pe(i,function(t){return new Blob([t.value]).size})),t.abrupt("return",i);case 34:case"end":return t.stop()}},t,this,[[6,17]])}));return function(n){return t.apply(this,arguments)}}()},{key:"getChannelAttributesByKeys",value:function(){var t=za(W.mark(function t(n,r){var o,i,s,a,u,c,l,f,p;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return os(n,r),t.prev=5,t.next=8,this.session.requestGetChannelAttributesByKeys(n,r).toPromise();case 8:o=t.sent.attributeMaps,t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(5),!Sa(t.t0)){t.next=16;break}throw t.t0;case 16:throw new ja("arguments is not valid",Ub);case 17:i={},s=this.channelAttributesCacheLru.get(n,{}),a=0;case 20:if(!(a<o.length)){t.next=29;break}if(c=(u=o[a]).key,l=u.ms,f=u.value,p=u.origin,"string"==typeof c&&D.isLong(l)&&"string"==typeof f&&yb(p)){t.next=24;break}return t.abrupt("break",29);case 24:s[c]=new Blob([f]).size,i[c]={value:f,lastUpdateUserId:p,lastUpdateTs:l.toNumber()};case 26:a++,t.next=20;break;case 29:return this.channelAttributesCacheLru.set(n,s),t.abrupt("return",i);case 31:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"getUserAttributesByKeys",value:function(){var t=za(W.mark(function t(n,r){var o;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return os(n,r),t.prev=5,t.next=8,this.session.requestGetUserAttributesByKeys(n,r).toPromise();case 8:o=t.sent,t.next=16;break;case 11:if(t.prev=11,t.t0=t.catch(5),!Sa(t.t0)){t.next=15;break}throw t.t0;case 15:throw new ja("arguments is not valid",Ub);case 16:return t.abrupt("return",Dv(o.attributeInfos.map(function(t){return[t.key,t.value]})));case 17:case"end":return t.stop()}},t,this,[[5,11]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"getUserMetadata",value:function(){var t=za(W.mark(function t(n){var r;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!n.split("").includes(".")){t.next=6;break}throw new ja("The uid cannot contain the character .",Mb);case 6:return t.prev=6,t.next=9,this.session.requestGetLocalMetaData(n).toPromise();case 9:return r=Wm(t.sent),t.abrupt("return",r);case 14:if(t.prev=14,t.t0=t.catch(6),!Sa(t.t0)){t.next=18;break}throw t.t0;case 18:throw new ja("arguments is not valid",Mb);case 19:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n){return t.apply(this,arguments)}}()},{key:"setLocalUserMetadata",value:function(){var t=za(W.mark(function t(n,r){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t.prev=4,t.next=7,this.session.requestSetLocalMetadata(n,r).toPromise();case 7:t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(4),!Sa(t.t0)){t.next=13;break}throw t.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return t.stop()}},t,this,[[4,9]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"clearLocalUserMetadata",value:function(){var t=za(W.mark(function t(n){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t.prev=4,t.next=7,this.session.requestClearLocalMetadata(n).toPromise();case 7:t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(4),!Sa(t.t0)){t.next=13;break}throw t.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return t.stop()}},t,this,[[4,9]])}));return function(n){return t.apply(this,arguments)}}()},{key:"addLocalUserMetadata",value:function(){var t=za(W.mark(function t(n,r){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t.prev=4,t.next=7,this.session.requestAddLocalMetadata(n,r).toPromise();case 7:t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(4),!Sa(t.t0)){t.next=13;break}throw t.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return t.stop()}},t,this,[[4,9]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"updateLocalUserMetadata",value:function(){var t=za(W.mark(function t(n,r){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t.prev=4,t.next=7,this.session.requestUpdateLocalMetadata(n,r).toPromise();case 7:t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(4),!Sa(t.t0)){t.next=13;break}throw t.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return t.stop()}},t,this,[[4,9]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"deleteLocalUserMetadata",value:function(){var t=za(W.mark(function t(n,r){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t.prev=4,t.next=7,this.session.requestDeleteLocalMetadata(n,r).toPromise();case 7:t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(4),!Sa(t.t0)){t.next=13;break}throw t.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return t.stop()}},t,this,[[4,9]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"subscribeUserMetadata",value:function(){var t=za(W.mark(function t(n){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(yb(n)){t.next=6;break}throw new ja("Not a valid user ID",dl);case 6:if(!n.split("").includes(".")){t.next=8;break}throw new ja("The uid cannot contain the character .",dl);case 8:if(!(51<=Object.values(this.subscribedUserMetaCache).filter(function(t){return t===Oa.subscribedState.SUBSCRIBED}).length)){t.next=10;break}throw new Dc("Subscribed user metadata overflows",OI);case 10:return t.prev=10,t.next=13,this.session.requestSubscribeUserMetadata(n,"NORMAL").toPromise();case 13:this.subscribedUserMetaCache[n]=Oa.subscribedState.SUBSCRIBED,t.next=21;break;case 16:if(t.prev=16,t.t0=t.catch(10),!Sa(t.t0)){t.next=20;break}throw t.t0;case 20:throw new ja("arguments is not valid",Mb);case 21:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}()},{key:"unsubscribeUserMetadata",value:function(){var t=za(W.mark(function t(n){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(yb(n)){t.next=6;break}throw new ja("Not a valid user ID",dl);case 6:if(!n.split("").includes(".")){t.next=8;break}throw new ja("The uid cannot contain the character .",dl);case 8:if(this.subscribedUserMetaCache[n]&&this.subscribedUserMetaCache[n]!==Oa.subscribedState.UNSUBSCRIBED){t.next=10;break}throw new ia("The user can not be unsubscribed",PI);case 10:return t.prev=10,t.next=13,this.session.requestUnsubscribeUserMetadata(n);case 13:this.subscribedUserMetaCache[n]=Oa.subscribedState.UNSUBSCRIBED,t.next=21;break;case 16:if(t.prev=16,t.t0=t.catch(10),!Sa(t.t0)){t.next=20;break}throw t.t0;case 20:throw new ja("arguments is not valid",Mb);case 21:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}()},{key:"login",value:function(){var t=za(W.mark(function t(n){var r,o,i,s,a,u;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Zr(!0),o=Rj(),i=n.token,n.token===this.context.appId&&(i=void 0),$a("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:Nb(this.session&&this.session.startTime),index:{index1:n.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},installId:hj,lts:D.fromNumber(Date.now()),os:7,sid:fc(o),token:i||"",userId:n.uid,ver:"1.6.0-205",buildno:928,subVersion:228,version:7},null!==(r=this.context.config.enableCloudProxy)&&void 0!==r&&r,!0),Lg(n)&&yb(n.uid)){t.next=7;break}throw new ja("not a valid user id",al);case 7:if("string"!=typeof i||!i){t.next=11;break}this.context.token=i,t.next=13;break;case 11:if("string"==typeof i||null==i){t.next=13;break}throw new ja('The "token" is not a valid string.',al);case 13:return s=Date.now(),this.context.sid=fc(o),this.loginPromise=this.loginImpl({uid:n.uid,instanceId:o}),this.info("RTM Client logging in as ".concat(wb(n.uid))),t.prev=17,t.next=20,this.loginPromise;case 20:return t.next=22,null===(a=this.session)||void 0===a?void 0:a.requestSubscribeUserMetadata(n.uid,"JOIN").toPromise();case 22:this.subscribedUserMetaCache[n.uid]=Oa.subscribedState.SUBSCRIBED,t.next=31;break;case 25:throw t.prev=25,t.t0=t.catch(17),Sa(t.t0)&&$a("Link",{ackedServerIp:"",destServerIp:"",ec:t.t0.code||1,sc:t.t0.serverCode,elapse:Nb(this.session&&this.session.startTime),lts:D.fromNumber(Date.now()),responseTime:Date.now()-s,sid:fc(o),userId:n.uid},null!==(u=this.context.config.enableCloudProxy)&&void 0!==u&&u),this.context.token=void 0,this.context.socketUseProxy=!1,t.t0;case 31:return t.prev=31,this.loginPromise=void 0,t.finish(31);case 34:this.context.socketUseProxy&&this.emit("FallbackProxyConnected"),Zr(!1);case 36:case"end":return t.stop()}},t,this,[[17,25,31,34]])}));return function(n){return t.apply(this,arguments)}}()},{key:"logout",value:function(){var t=za(W.mark(function t(){var n;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loginPromise){t.next=3;break}return t.next=3,this.loginPromise;case 3:if(this.connectionState!==Ea.DISCONNECTED){t.next=6;break}throw this.logError("Already in logout state"),new ia("Logout failure. The client has already been logged out",Hw);case 6:if(this.internalEmitter.emit("LOGOUT"),this.connectionState!==Ea.ABORTED){t.next=11;break}return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'),this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),t.abrupt("return");case 11:if(void 0!==this.session){t.next=14;break}return this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),t.abrupt("return");case 14:return $a("Logout",{elapse:Nb(this.session.startTime),lts:D.fromNumber(Date.now()),sid:fc(this.session.instanceId),userId:this.context.uid},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n),t.next=17,this.session.logoutHandler();case 17:this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),this.log("Log out success");case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var t,n=this;if(this.connectionState===Ea.DISCONNECTED)throw this.logError("Already in logout state"),new ia("Logout failure. The client has already been logged out",Hw);this.connectionState===Ea.ABORTED?this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'):void 0!==this.session&&($a("Logout",{elapse:Nb(this.session.startTime),lts:D.fromNumber(Date.now()),sid:fc(this.session.instanceId),userId:this.context.uid},null!==(t=this.context.config.enableCloudProxy)&&void 0!==t&&t),this.session.logoutHandler().then(function(){n.log("Log out success")})),this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT)}},{key:"sendMessageToPeer",value:function(){var t=za(W.mark(function t(n,r){var o,i,s=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(vs(n,si),o="TEXT"===n.messageType?vb.P2pSMsgNoOfflineFlag:vb.P2pRMsgNoOfflineFlag,this.connectionState!==Ea.RECONNECTING){t.next=5;break}return i=Date.now(),t.abrupt("return",new Promise(function(t,a){var u,c=(u=za(W.mark(function u(){var c;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0!==s.session){u.next=2;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 2:return c=Date.now()-i,u.prev=3,u.t0=t,u.next=7,Uj({message:n,peerId:r,toPeer:!0,session:s.session,errorCodes:{NOT_LOGGED_IN:ip,TOO_OFTEN:Jw},diff:c,logger:s.logger});case 7:u.t1=u.sent,(0,u.t0)(u.t1),u.next=18;break;case 11:u.prev=11,u.t2=u.catch(3),uc(u.t2)&&(s.session.emit("messageCount",{messageCategory:o,type:"common",key:"sentcount"}),s.session.emit("messageCount",{messageCategory:o,type:"common",key:"timeoutcount"}),a(new Pc(vg(s.name,"sendMessageToPeer",1e4),hp))),Sa(u.t2)&&a(u.t2),s.session.emit("messageCount",{messageCategory:o,type:"common",key:"sentcount"}),s.session.emit("messageCount",{messageCategory:o,type:"common",key:"unknowerrorcount"}),a(new Pa("Peer-to-peer message send failure",{code:Iw,originalError:u.t2}));case 18:return u.prev=18,clearTimeout(l),u.finish(18);case 21:case"end":return u.stop()}},u,null,[[3,11,18,21]])})),function(){return u.apply(this,arguments)});s.internalEmitter.once("RECONNECTED",c);var l=setTimeout(function(){s.internalEmitter.off("RECONNECTED",c),a(new Pc(vg(s.name,"sendMessageToPeer",1e4),hp))},9e3)}));case 5:if(this.connectionState===Ea.CONNECTED){t.next=7;break}throw new ia("Failed to send the peer-to-peer message. The client is not logged in",ip);case 7:if(void 0!==this.session){t.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return t.prev=9,t.next=12,Uj({message:n,peerId:r,toPeer:!0,session:this.session,errorCodes:{NOT_LOGGED_IN:ip,TOO_OFTEN:Jw},diff:0,logger:this.logger});case 12:return t.abrupt("return",t.sent);case 15:if(t.prev=15,t.t0=t.catch(9),!uc(t.t0)){t.next=21;break}throw this.session.emit("messageCount",{messageCategory:o,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:o,type:"common",key:"timeoutcount"}),new Pc(vg(this.name,"sendMessageToPeer",1e4),hp);case 21:if(!Sa(t.t0)){t.next=23;break}throw t.t0;case 23:throw this.session.emit("messageCount",{messageCategory:o,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:o,type:"common",key:"unknowerrorcount"}),new Pa("Peer-to-peer message send failure",{code:Iw,originalError:t.t0});case 26:case"end":return t.stop()}},t,this,[[9,15]])}));return function(n,r){return t.apply(this,arguments)}}()},{key:"createChannel",value:function(t){var n=this;if(!yb(t))throw new ja(["The %s in the arguments is invalid","channelId"],sI);return new IP(t,function(){return n.session},this,this.logger)}},{key:"createMetadataItem",value:function(){return new Fs}},{key:"createLocalInvitation",value:function(t){if(!yb(t))throw new ja(["The %s in the arguments is invalid","calleeId"],ve);return this.invitationManager.genLocalInvitation(t)}},{key:"subscribePeersOnlineStatus",value:function(){var t=za(W.mark(function t(n){var r,o,i,s,a,u,c,l,f,p,h,d,g=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(n)&&0!==n.length){t.next=6;break}throw new ja("Invalid arguments: peerIds",jj);case 6:r=0;case 7:if(!(r<n.length)){t.next=14;break}if(yb(o=n[r])){t.next=11;break}throw new ja(["subscribePeersOnlineStatus peer id %s is invalid",o],jj);case 11:r++,t.next=7;break;case 14:if(!(512<(i=n&&n.length?Do(n):[]).length+Object.keys(this.subscribedPeerStatusCache).length+this.pendingPeerStatusSubCount)){t.next=17;break}throw new Dc("Subscribed peers overflows",Ow);case 17:return this.pendingPeerStatusSubCount+=i.length,t.next=20,this.session.requestSubscribePeersOnlineStatus(i).toPromise();case 20:s=t.sent.errors,this.pendingPeerStatusSubCount-=i.length,a=[],u=[],c=0;case 26:if(!(c<s.length)){t.next=34;break}if(f=(l=s[c]).code,"string"==typeof(p=l.account)){t.next=30;break}throw new Pa("Returned account is invalid",Nw);case 30:0!==f&&a.push(p);case 31:c++,t.next=26;break;case 34:for(h=0;h<i.length;h++)d=i[h],a.includes(d)||(u.push(d),this.subscribedPeerStatusCache[d]=void 0);if(this.session.requestPeersOnlineStatus(u).pipe(Wa(function(t){return Pe(Ro(t.userInfos,"account"),function(t){return!!t.ts})})).subscribe(function(t){t=Pe(t,function(t,n){return t=t?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE,g.subscribedPeerStatusCache[n]=t}),g.emit("PeersOnlineStatusChanged",t)}),0===a.length){t.next=38;break}throw new Pa("Subscription failed",Nw);case 38:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"unsubscribePeersOnlineStatus",value:function(){var t=za(W.mark(function t(n){var r,o,i,s,a;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(void 0!==this.session){t.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(n)&&0!==n.length){t.next=6;break}throw new ja("Invalid arguments: peerIds",jj);case 6:r=0;case 7:if(!(r<n.length)){t.next=14;break}if(yb(o=n[r])){t.next=11;break}throw new ja(["subscribePeersOnlineStatus peer id %s is invalid",o],jj);case 11:r++,t.next=7;break;case 14:if(!(512<n.length)){t.next=16;break}throw new Dc("Unsubscribed peers overflows",Ow);case 16:for(i=n&&n.length?Do(n):[],this.session.requestUnsubscribePeersOnlineStatus(i),s=0;s<i.length;s++)a=i[s],delete this.subscribedPeerStatusCache[a];case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"queryPeersBySubscriptionOption",value:function(){var t=za(W.mark(function t(n){return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connectionState===Ea.CONNECTED){t.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(n!==Oa.PeerSubscriptionOption.ONLINE_STATUS){t.next=4;break}return t.abrupt("return",Object.keys(this.subscribedPeerStatusCache));case 4:throw new ja("Subscription option not supported",jj);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"createMessage",value:function(t){return t}},{key:"loginImpl",value:function(){var t=za(W.mark(function t(n){var r,o,i,s,a,u,c,l,f=this;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.uid,o=n.instanceId,s=void 0===(i=n.forceLoginTime)?0:i,a=o,!(void 0!==this.lastLoginTime&&500>Date.now()-this.lastLoginTime)){t.next=4;break}throw new Fc(["The frequency of login exceeded the limit of %d queries per second",2],HI);case 4:if(this.connectionState===Ea.DISCONNECTED||0!==s){t.next=6;break}throw new ia("The SDK is either logging in or has logged in the Agora RTM system",FI);case 6:t.prev=6,this.context.uid=r,t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(6),new ja(["The %s in the arguments is invalid","uid"],al);case 13:return 0===s&&this.onConnectionStateChanged(Ea.CONNECTING,Jc.LOGIN),(u=new Gx(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=c=new Pq(this.context,u,a,this.logger),l=function(){f.connectionState===Ea.CONNECTED&&(f.onConnectionStateChanged(Ea.RECONNECTING,Jc.INTERRUPTED),f.session)&&f.session.once("userJoined",function(){f.onConnectionStateChanged(Ea.CONNECTED,Jc.LOGIN_SUCCESS)})},c.on("connectionLost",l),c.on("tokenExpired",function(){f.emit("TokenExpired")}),c.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),c.once("userDrop",this.userDropHandler),this.session.on("peerTextMessage",function(t){f.emit("MessageFromPeer",{text:t.text,messageType:Oa.MessageType.TEXT},t.peerId,t.properties)}),this.session.on("peerRawMessage",function(t){f.emit("MessageFromPeer",{rawMessage:t.raw,description:t.desc,messageType:Oa.MessageType.RAW},t.peerId,t.properties)}),c.on("instanceChanged",function(t){return a=t}),c.on("peerOnlineStatusChanged",function(t){var n=t.instance.toString()+t.state,r=f.peerStatusSeqLru.get(n);!r||t.seq.greaterThan(r)?(f.peerStatusSeqLru.set(n,t.seq),t.state!==f.subscribedPeerStatusCache[t.peerId]&&f.emit("PeersOnlineStatusChanged",E({},t.peerId,t.state)),f.subscribedPeerStatusCache[t.peerId]=t.state,clearTimeout(f.peerUnreachableTimers[n]),t.state===Oa.PeerOnlineState.UNREACHABLE&&(f.peerUnreachableTimers[n]=setTimeout(function(){f.subscribedPeerStatusCache[t.peerId]===Oa.PeerOnlineState.UNREACHABLE&&(f.subscribedPeerStatusCache[t.peerId]=Oa.PeerOnlineState.ONLINE,f.emit("PeersOnlineStatusChanged",E({},t.peerId,Oa.PeerOnlineState.ONLINE)))},3e4))):f.log("peerOnlineStatusChanged dedup for %s, %d",n,t.seq.toNumber())}),c.on("invitationMessage",this.invitationManager.invitationMessageHandler.bind(this.invitationManager)),c.on("channelAttributesUpdated",function(t){var n=t.channelId;t=t.attributeMaps;for(var r={},o=0;o<t.length;o++){var i=t[o],s=i.key,a=i.ms,u=i.value;if(i=i.origin,"string"!=typeof s||!D.isLong(a)||"string"!=typeof u||!yb(i))break;r[s]=new Blob([u]).size}f.channelAttributesCacheLru.set(n,r)}),c.on("userJoined",function(t){if(0!==Object.keys(f.attributes).length){if(void 0===f.session)return;f.session.requestSetLocalUserAttributes(f.attributes,t).toPromise()}if(0!==f.attributeDrafts.size)for(var n=function(n,r){var o=(n=r[n]).attribute;n.promise.then(function(){void 0!==f.session&&f.session.requestSetLocalUserAttributes(o,t).toPromise()})},r=0,o=Array.from(f.attributeDrafts);r<o.length;r++)n(r,o);0!==Object.keys(f.subscribedPeerStatusCache).length&&c.requestSubscribePeersOnlineStatus(Object.keys(f.subscribedPeerStatusCache))}),c.on("banEdgeIP",function(t){f.banIP(t)}),c.on("userMetaDataUpdated",this.userMetaDataUpdatedHandler),this.lastLoginTime=Date.now(),t.prev=33,t.next=36,c.loginHandler().toPromise();case 36:t.next=54;break;case 38:if(t.prev=38,t.t1=t.catch(33),!("loginRespTimeout"===t.t1.name&&2>s)){t.next=47;break}return c.removeAllListeners(),t.next=44,this.loginImpl({uid:r,instanceId:o,forceLoginTime:s+1});case 44:return t.abrupt("return");case 47:if(!uc(t.t1)){t.next=50;break}throw this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGIN_TIMEOUT),new Pc(vg(this.name,"login",12e3),GI);case 50:if(this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGIN_FAILURE),!Sa(t.t1)){t.next=53;break}throw t.t1;case 53:throw new Pa("Login failure",{code:Ew,originalError:t.t1});case 54:this.onConnectionStateChanged(Ea.CONNECTED,Jc.LOGIN_SUCCESS);case 55:case"end":return t.stop()}},t,this,[[6,10],[33,38]])}));return function(n){return t.apply(this,arguments)}}()},{key:"rennectSubscribeduserMetadata",value:function(){var t=za(W.mark(function t(n){var r,o;return W.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=10;break}if(o=n[r],!this.session){t.next=7;break}return t.next=6,this.session.requestSubscribeUserMetadata(o,"RECONNECTED").toPromise();case 6:this.subscribedUserMetaCache[o]=Oa.subscribedState.SUBSCRIBED;case 7:r++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"onConnectionStateChanged",value:function(t,n){var r,o,i,s=this;t===Ea.RECONNECTING&&(this.reconnId+=1),$a("ConnectionStateChange",{elapse:Nb(this.session&&this.session.startTime),lts:D.fromNumber(Date.now()),newState:FA[t],oldState:FA[this.connectionState],reason:JP[n],sid:fc(this.session&&this.session.instanceId||D.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},null!==(r=this.context.config.enableCloudProxy)&&void 0!==r&&r),this.connectionState===Ea.RECONNECTING&&t===Ea.CONNECTED&&(0!==Object.keys(this.subscribedPeerStatusCache).length&&void 0!==this.session&&this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(Wa(function(t){return Pe(Ro(t.userInfos,"account"),function(t){return!!t.ts})})).subscribe(function(t){t=Pe(t,function(t,n){return t=t?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE,s.subscribedPeerStatusCache[n]=t}),s.emit("PeersOnlineStatusChanged",t)}),0!==Object.keys(this.subscribedUserMetaCache).length&&void 0!==this.session&&this.rennectSubscribeduserMetadata(Object.keys(this.subscribedUserMetaCache)),null!==(o=this.session)&&void 0!==o&&o.usedChannelIds&&0<(null===(i=this.session)||void 0===i?void 0:i.usedChannelIds.length)&&this.session.usedChannelIds.map(function(t){var n;return null===(n=s.session)||void 0===n?void 0:n.requestSubscribeChannelMetadata(t,"RECONNECTED")}),this.internalEmitter.emit("RECONNECTED")),this.connectionState=t,t!==Ea.ABORTED&&t!==Ea.DISCONNECTED||(this.pendingPeerStatusSubCount=this.reconnId=0,this.attributes={},this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.peerStatusSeqLru.empty(),this.peerUnreachableTimers={},this.subscribedPeerStatusCache={},this.subscribedUserMetaCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.emit("ConnectionStateChanged",t,n)}},{key:"banIP",value:function(t){this.log("ip banned",t);var n,r=null!==(n=this.blacklistedIP[t])&&void 0!==n?n:0;this.blacklistedIP[t]=r+1}}]),n}(Dd()),Na(ka.prototype,"renewToken",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"renewToken"),ka.prototype),Na(ka.prototype,"queryPeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"queryPeersOnlineStatus"),ka.prototype),Na(ka.prototype,"getChannelMemberCount",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelMemberCount"),ka.prototype),Na(ka.prototype,"setLocalUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setLocalUserAttributes"),ka.prototype),Na(ka.prototype,"setChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setChannelAttributes"),ka.prototype),Na(ka.prototype,"addOrUpdateLocalUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addOrUpdateLocalUserAttributes"),ka.prototype),Na(ka.prototype,"addOrUpdateChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addOrUpdateChannelAttributes"),ka.prototype),Na(ka.prototype,"deleteLocalUserAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteLocalUserAttributesByKeys"),ka.prototype),Na(ka.prototype,"deleteChannelAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteChannelAttributesByKeys"),ka.prototype),Na(ka.prototype,"clearLocalUserAttributes",[je],Object.getOwnPropertyDescriptor(ka.prototype,"clearLocalUserAttributes"),ka.prototype),Na(ka.prototype,"clearChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"clearChannelAttributes"),ka.prototype),Na(ka.prototype,"getUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserAttributes"),ka.prototype),Na(ka.prototype,"getChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelAttributes"),ka.prototype),Na(ka.prototype,"getChannelAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelAttributesByKeys"),ka.prototype),Na(ka.prototype,"getUserAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserAttributesByKeys"),ka.prototype),Na(ka.prototype,"getUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserMetadata"),ka.prototype),Na(ka.prototype,"setLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setLocalUserMetadata"),ka.prototype),Na(ka.prototype,"clearLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"clearLocalUserMetadata"),ka.prototype),Na(ka.prototype,"addLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addLocalUserMetadata"),ka.prototype),Na(ka.prototype,"updateLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"updateLocalUserMetadata"),ka.prototype),Na(ka.prototype,"deleteLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteLocalUserMetadata"),ka.prototype),Na(ka.prototype,"subscribeUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"subscribeUserMetadata"),ka.prototype),Na(ka.prototype,"login",[je],Object.getOwnPropertyDescriptor(ka.prototype,"login"),ka.prototype),Na(ka.prototype,"logout",[je],Object.getOwnPropertyDescriptor(ka.prototype,"logout"),ka.prototype),Na(ka.prototype,"logoutSync",[je],Object.getOwnPropertyDescriptor(ka.prototype,"logoutSync"),ka.prototype),Na(ka.prototype,"sendMessageToPeer",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"sendMessageToPeer"),ka.prototype),Na(ka.prototype,"createChannel",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createChannel"),ka.prototype),Na(ka.prototype,"createMetadataItem",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createMetadataItem"),ka.prototype),Na(ka.prototype,"createLocalInvitation",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createLocalInvitation"),ka.prototype),Na(ka.prototype,"subscribePeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"subscribePeersOnlineStatus"),ka.prototype),Na(ka.prototype,"unsubscribePeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"unsubscribePeersOnlineStatus"),ka.prototype),Na(ka.prototype,"queryPeersBySubscriptionOption",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"queryPeersBySubscriptionOption"),ka.prototype),Na(ka.prototype,"createMessage",[je],Object.getOwnPropertyDescriptor(ka.prototype,"createMessage"),ka.prototype),ka),GA=null===(Uq=/Chrome\/([0-9.]+)/.exec(null===(Wq=window)||void 0===Wq||null===(Xq=Wq.navigator)||void 0===Xq?void 0:Xq.userAgent))||void 0===Uq||null===(Vq=Uq[1])||void 0===Vq?void 0:Vq.split(".")[0];if(GA&&88<=parseInt(GA,10)&&!Kg()){var Yq,Hg=document.createElement("video"),Ig=document.createElement("canvas");Hg.setAttribute("style","display:none"),Hg.setAttribute("muted",""),Hg.muted=!0,Hg.setAttribute("autoplay",""),Hg.autoplay=!0,Hg.setAttribute("playsinline",""),Ig.setAttribute("style","display:none"),Ig.setAttribute("width","2"),Ig.setAttribute("height","2"),null===(Yq=Ig.getContext("2d"))||void 0===Yq||Yq.fillRect(0,0,1,1),Hg.srcObject=null==Ig?void 0:Ig.captureStream()}var HA={LOG_FILTER_OFF:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARNING:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},IA={enableLogUpload:!1,logFilter:HA.LOG_FILTER_INFO,enableCloudProxy:!1},wg=tb(tb({createInstance:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0;if(!/^[\dA-Za-z]{32}$/.test(t))throw new ja(["The %s in the arguments is invalid","appId"],sw);var o=Object.keys(n).filter(function(t){return!(t in IA)});if(0!==o.length)throw new ja("Invalid RTM config: ".concat(o.join(", ")),sw);var i=tb(tb({},IA),n);if(void 0!==r&&(!Array.isArray(r)||0===r.length))throw new ja("Invalid area config");if(null!=r){if(!r.every(function(t){return t in Oa.LegacyAreaCode}))throw new ja("Invalid area codes: ".concat(r.filter(function(t){return!(t in Oa)}).join(", ")));Ba=eh(r.map(function(t){return SK[t]}))}r=qp=qb.__global_unique_id__=(qb.__global_unique_id__||0)+1;var s=WK(i);o=XK(i);var a=YK(i),u=ZK(r,i),c=zx(r,i),l=c("RTM:DEBUG","<Entry> ");return sx.rtmConfig=i,s("The Agora RTM Web SDK version is %s","1.6.0-205"),n.enableCloudProxy&&s("RTM cloud proxy enabled"),n.enableLogUpload&&s("Log upload enabled"),Ba&&l("Area is set to %s",Array.from(Ba.CODES).map(function(t){return vi(oa).find(function(n){return oa[n]===t})}).join(", ")),l("Creating an RtmClient instance"),l('The Git commit ID is "'.concat("v1.5.1-67-g0f6d3600",'"')),l("The App ID is %s",ws(t,4,10,"*".repeat(6))),s("The process ID is %s",hj),l("The build is %s","v1.5.1-67-g0f6d3600"),l("NODE_ENV is %s","production"),new KP(t,{genLogger:c,genTracker:u,info:s,warn:o,logError:a,loggerId:r},i,function(t){for(var n=0,r=vi(t);n<r.length;n++){var o=r[n];try{var a=t[o];null!=a&&(t.enableCloudProxy&&s("RTM cloud proxy enabled"),t.enableLogUpload&&s("Log upload enabled"),i[o]=a)}catch(u){throw new ja(["The %s in the arguments is invalid",o],void 0)}}})},BUILD:"v1.5.1-67-g0f6d3600",VERSION:"1.6.0-205",END_CALL_PREFIX:"AgoraRTMLegacyEndcallCompatibleMessagePrefix",processId:hj,ConnectionChangeReason:Oa.ConnectionChangeReason,ConnectionState:Oa.ConnectionState,LocalInvitationFailureReason:Oa.LocalInvitationFailureReason,LocalInvitationState:Oa.LocalInvitationState,RemoteInvitationFailureReason:Oa.RemoteInvitationFailureReason,RemoteInvitationState:Oa.RemoteInvitationState,MessageType:Oa.MessageType,PeerOnlineState:Oa.PeerOnlineState,PeerSubscriptionOption:Oa.PeerSubscriptionOption},HA),{},{setParameter:function(t,n){Object.keys(Yd).includes(t)&&(Yd[t]=n)},getParameter:function(t){return Yd[t]},setArea:function(t){var n=t.areaCodes;if(t=t.excludedArea,!Array.isArray(n)||0===n.length||!n.every(function(t){return t in Oa.AreaCode}))throw new ja("Invalid area config");if(void 0!==t&&t===Oa.AreaCode.GLOBAL)throw new ja("Excluded area cannot be global");if(void 0===t)Ba=eh(n.map(function(t){return oa[t]}));else{if(n.includes(t))throw new ja("Excluded area cannot be in areaCodes");if(!(t in oa))throw new ja("Invalid excludedArea:",t);Ba=tC({areas:n.map(function(t){return oa[t]}),excludedArea:oa[t]})}}});return wg})}}]);